<!DOCTYPE HTML>
<html class="no-js" lang="zh-CN">
<head>
    <!--[if lte IE 9]>
<meta http-equiv="refresh" content="0;url=https://raw.githubusercontent.com/ssfwshutterbug/ssfwshutterbug.github.io/main/warn.html">
<![endif]-->
<meta charset="utf-8">
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no">
<meta name="author" content="shutterbug">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<meta http-equiv="mobile-agent" content="format=html5; url=https://raw.githubusercontent.com/ssfwshutterbug/ssfwshutterbug.github.io/main">
<meta http-equiv="X-DNS-Prefetch-Control" content="on">

<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">


<link rel="shortcut icon" href="/images/favicon.png">


<title>anaconda - shutterbug sweet diary</title>

<meta name="keywords" content="">

<meta name="description " content="">

<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="anaconda - shutterbug sweet diary" />
<meta property="og:description" content="" />
<meta property="og:url" content="https://raw.githubusercontent.com/ssfwshutterbug/ssfwshutterbug.github.io/main" />
<meta property="og:site_name" content="shutterbug sweet diary" />

<link rel="dns-prefetch" href="https://raw.githubusercontent.com/ssfwshutterbug/ssfwshutterbug.github.io/main">
<link rel="prefetch" href="https://raw.githubusercontent.com/ssfwshutterbug/ssfwshutterbug.github.io/main">
<link rel="prerender" href="https://raw.githubusercontent.com/ssfwshutterbug/ssfwshutterbug.github.io/main">
<link rel="stylesheet" href="/css/JSimple.min.css">
    <script type="text/javascript">
        (function() {
            let jsi_config = {
                rootUrl: 'https://raw.githubusercontent.com/ssfwshutterbug/ssfwshutterbug.github.io/main/',
                isPost: 'true',
                buildingTime: '04/23/2022',
                snsQRCode: '',
                donateImg: '',
                readMode: 'day',
                localSearch: { dbPath: '' }
            };
            
            window.jsi_config = jsi_config;
        })()
    </script>
    
<script src="/js/SimpleCore.min.js"></script>

<meta name="generator" content="Hexo 5.4.2"></head>
<body>
<div id="nav">
    <nav class="nav-menu">
        <a class="site-name current" href="/" title="S">S</a>
        <a class="site-index current" href="/"><i class="fa fa-home"></i><span>Home</span></a>
        <a href="/archives" title="Archives"><i class="fa fa-archives"></i><span>Archives</span></a>
        <a href="/tags" title="Tags"><i class="fa fa-tags"></i><span>Tags</span></a>
        <!-- custom single page of menus -->
        
    </nav>
</div>

<div class="nav-user">
    <a class="btn-search" href="#"><i class="fa fa-search"></i></a>
    <a class="btn-read-mode" href="#"><i class="fa fa-sun-o"></i></a>
    
</div>
<div id="wrapper" class="clearfix">
    <div id="body">
        <div class="main" id="main">
            <div id="cover">
    <img class="cover-img" src="https://shuoit.net/images/cover-day.jpg" alt="cover-img" loading="lazy" />
    <div class="cover-info">
        
        <h1 class="cover-siteName">blog</h1>
        <h3 class="cover-siteTitle">the world you see</h3>
        <p class="cover-siteDesc">not depend on what you received but your response</p>
        <div class="cover-sns">
            
    &nbsp;&nbsp;<div class="btn btn-github">
        <a href="https://github.com/ssfwshutterbug" target="_blank" title="github" ref="friend">
            <i class="fa fa-github"></i>
        </a>
    </div>


        </div>
    </div>
</div>

            <div class="page-title">
    <ul>
        <li><a href="/">Recent Posts</a></li>
        
            
                <li class="active">
                    <a href="/categories/learn" data-name="learn">learn</a>
                </li>
            
                <li class="">
                    <a href="/categories/think" data-name="think">think</a>
                </li>
            
        
        <li class="page-search">
    <form id="search" class="search-form">
        <input type="text"
               readonly="readonly"
               id="local-search-input-tip"
               placeholder="click to search..." />
        <button type="button" disabled="disabled" class="search-form-submit"><i class="fa fa-search"></i></button>
    </form>
</li>

    </ul>
</div>
<div class="main-inner">
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
        <div class="post-header">
            <div class="post-author clearfix">
                <a class="avatar fleft" href="https://raw.githubusercontent.com/ssfwshutterbug/ssfwshutterbug.github.io/main"
                   target="_blank">
                    <img width="48" src="/images/favicon.png" alt="avatar"/>
                </a>
                <p><span class="label">Author</span>
                    <a href="https://raw.githubusercontent.com/ssfwshutterbug/ssfwshutterbug.github.io/main"
                       target="_blank">shutterbug</a>
                    <span title="Last edited at&nbsp;2022-04-23">2022-04-23</span>
                </p>
                <p>sweet diary</p>
            </div>
            <h2 class="post-title">anaconda</h2>
            <div class="post-meta">
                emm... 6399 words in the article |
                you are the&nbsp;<span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>th friend who reading now
            </div>
        </div>
        <div class="post-content markdown-body">
            <h1 id="Anaconda"><a href="#Anaconda" class="headerlink" title="Anaconda"></a>Anaconda</h1><p>one year ago, i heared anaconda when i learned python in oneline video tutorial. and how, what is anaconda, it is just a virtual environment of python. why i need it? i have python in my local machine! seems useless</p>
<p>today, i finally realized that it is a amazing tool. since i wrote a python script with python3, it runs perfect locally. however in the real environment(remote machine), i cannot run it. because remote machine is python2.6 and also cannot install modules oneline. i tried several ways: such as packing modules, compiling python3 from source. all failed!</p>
<p>finally, i remember it, yeah, anaconda! and it is really so good, it can be installed in different os without dependent error and includes all modules which i need. amazing!</p>
<h2 id="features"><a href="#features" class="headerlink" title="features"></a>features</h2><ul>
<li><p>easily in use</p>
</li>
<li><p>purely installed without dependence error in whatever os</p>
</li>
<li><p>include many modules what we used daily</p>
</li>
<li><p>multi different virtual environment, each of them without any relation</p>
</li>
<li><p>without any affect to local environment</p>
</li>
</ul>
<h2 id="install"><a href="#install" class="headerlink" title="install"></a>install</h2><p><a target="_blank" rel="noopener" href="https://www.anaconda.com/products/individual#Downloads">download from website</a>, it has two choice:</p>
<ol>
<li>anaconda: include 1500+ modules, especially scientific packages and 3 GB storage disk needed </li>
<li>minianaconda: without scientific packages, but enough for daily usage and 400Mib storage disk needed</li>
</ol>
<p>i download the minimal package</p>
<p>the installation in linux is easy</p>
<ul>
<li><p>download package</p>
</li>
<li><p>grant priviledge and execute</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod u+x Miniconda3-py39_4.9.2-Linux-x86_64.sh</span><br><span class="line">./Miniconda3-py39_4.9.2-Linux-x86_64.sh</span><br></pre></td></tr></table></figure></li>
<li><p>step by step</p>
<blockquote>
<p>note: </p>
<p>   the place anaconda installed should be a folder that doesn’t exist</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Do you accept the license terms? [yes|no]</span><br><span class="line">[no] &gt;&gt;&gt; yes</span><br><span class="line"></span><br><span class="line">Miniconda3 will now be installed into this location:</span><br><span class="line">/home/blueocean/miniconda3</span><br><span class="line"></span><br><span class="line">  - Press ENTER to confirm the location</span><br><span class="line">  - Press CTRL-C to abort the installation</span><br><span class="line">  - Or specify a different location below</span><br><span class="line"></span><br><span class="line">[/home/blueocean/miniconda3] &gt;&gt;&gt; /home/blueocean/.local/apps/minicanda</span><br><span class="line"></span><br><span class="line">Do you wish the installer to initialize Miniconda3</span><br><span class="line">by running conda init? [yes|no]</span><br><span class="line">[no] &gt;&gt;&gt; yes</span><br><span class="line"></span><br><span class="line">modified      `/home/blueocean/.zshrc`</span><br></pre></td></tr></table></figure></li>
<li><p>reopen terminal or source the environment variables where conda’s config stores, in my case it is in <code>~/.zshrc</code> </p>
</li>
<li><p>disable auto enter conda base environment</p>
<p>in default conda will auto active when we start up a terminal. that’s not i want, so change it.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda config --set auto_activate_base false</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">and check</span></span><br><span class="line">conda config --show|grep base</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="usage"><a href="#usage" class="headerlink" title="usage"></a>usage</h2><p>full document follow <a target="_blank" rel="noopener" href="https://conda.io/projects/conda/en/latest/user-guide/getting-started.html#managing-envs">this page</a></p>
<h3 id="login-logout-environment"><a href="#login-logout-environment" class="headerlink" title="login/logout environment"></a>login/logout environment</h3><p>after installation completes without error, we can reopen terminal or source the file where installation modified with <code>source ~/.zshrc</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">~ » source .zshrc                                                                         </span><br><span class="line">(base) ~ »         </span><br></pre></td></tr></table></figure>

<p>it is obviously that the promt changed, we can also modify prompt with <code>--set env_prompt</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda config --set env_prompt &#x27;(&#123;conda&#125;)&#x27;</span><br></pre></td></tr></table></figure>

<p>after source file, we enter the default <code>base</code> environment which was created while installing. we can list the environment that we have created with <code>conda env list</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(base) ~ » conda env list                                                                 </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">conda environments:</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">base                  *  /home/blueocean/.local/apps/minicanda</span></span><br></pre></td></tr></table></figure>

<p><strong>check conda version</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(base) ~ » conda --version                                                               </span><br><span class="line">conda 4.9.2</span><br></pre></td></tr></table></figure>

<ul>
<li><p>if versions prior to 4.6</p>
<ul>
<li><p><strong>enter environment</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source activate conda_env_name</span><br></pre></td></tr></table></figure></li>
<li><p><strong>exit environment</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source deactivate</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>if versions higher than 4.6</p>
<ul>
<li><p><strong>enter environment</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate conda_env_name</span><br></pre></td></tr></table></figure></li>
<li><p><strong>exit environment</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda deactivate</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="create-new-environment"><a href="#create-new-environment" class="headerlink" title="create new environment"></a>create new environment</h3><p>before we install packages, we need config download mirrors, without configure will lead to installation failed for slowly download speed.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/pro</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2</span><br></pre></td></tr></table></figure>

<p>if the channel added is wrong, we can remove it by</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda config --remove channels mirrors_url</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">such as</span></span><br><span class="line">conda config --remove channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r</span><br></pre></td></tr></table></figure>

<p>check channels config now</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda config --show channels</span><br></pre></td></tr></table></figure>

<p>create environment </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">syntax</span></span><br><span class="line">conda create --name conda_env_name install_module_name</span><br></pre></td></tr></table></figure>

<p>when we don’t specify python version, conda will install the newest python version. if we want to use a different versin of python, for example python 2.6, simply create a new environment and specify the version of Python that you want.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create --name snowflakes python2.6</span><br></pre></td></tr></table></figure>

<p>if we have multi modules need to be installed, we should write in one line to avoid depences missing.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">such as install pandas xlwt pathlib module</span></span><br><span class="line">conda create --name sky pandas xlwt pathlib</span><br></pre></td></tr></table></figure>

<p>check new environment</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda env list</span><br></pre></td></tr></table></figure>

<h2 id="pack-environment"><a href="#pack-environment" class="headerlink" title="pack environment"></a>pack environment</h2><p>with conda-pack, we can pack environment to any other location and any other os.</p>
<blockquote>
<p>note:</p>
<p>   os means the same platform, such as cannot pack one linux environment to windows</p>
</blockquote>
<p><strong>install conda-pack with conda</strong></p>
<p>it is recommended to install conda-pack into <code>base</code> environment, since it can be used in all other sub environment</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install conda-pack</span><br></pre></td></tr></table></figure>

<p><strong>pack environment</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pack into ./env_name.tar.gz</span></span><br><span class="line">conda pack --name env_name</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pack into /specified/location/path/env_name.tar.gz</span></span><br><span class="line">conda pack --prefix /store/location/path</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">change out name</span></span><br><span class="line">conda pack --output my_env_name.tar.gz</span><br></pre></td></tr></table></figure>

<p><strong>unpack environment</strong></p>
<p>the condition we can use conda-pack is that there has a conda installed on the target machine.</p>
<blockquote>
<p>note:</p>
<pre><code>the place we unpack can be two parts:
1. under base environment `envs` floder
2. any other folder
</code></pre>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">create a folder named the same as package</span></span><br><span class="line">mkdir /environment/stored/env_name</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or store it <span class="keyword">in</span> default base envs</span></span><br><span class="line">mkdir /path/to/base/envs</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">extract package</span></span><br><span class="line">tar -xzf env_name.tar.gz -C /path/to/create/folder</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> not <span class="keyword">in</span> base envs, activate environment, this will add env_name/bin to your path</span></span><br><span class="line">source env_name/bin/activate</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> <span class="keyword">in</span> base envs, activate environment with conda directory</span></span><br><span class="line">conda activate env_name</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">unpack</span> </span><br><span class="line">conda-unpack</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">deactivate <span class="keyword">if</span> not <span class="keyword">in</span> default base envs, this will remove it from you path</span></span><br><span class="line">source env_name/bin/deactivate</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> <span class="keyword">in</span> base envs, activate environment with conda directory</span></span><br><span class="line">conda deactivate</span><br></pre></td></tr></table></figure>

            
                
            
        </div>
        <div class="post-tool">
            <a class="btn-thumbs-up" href="javascript:void(0);" data-cid="52" title="95">
                <i class="fa fa-thumbs-up" aria-hidden="true"></i> Donate
            </a>
        </div>
        
        <div class="post-tags">Tags：
            
            <a href="/tags/anaconda/">anaconda</a>
            
        </div>
        
    </article>
    
        <p style="text-align: center">This article just represents my own viewpoint. If there is something wrong, please correct me.</p>
    
    
    

</div>


        </div><!-- end #main-->
    </div><!-- end #body -->
    <footer class="footer">
    <div class="footer-inner" style="text-align: center">
        <p>
            <a href="/about"  title="About">About</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <!-- 自定义链接 -->
            <a href="/help" title="Help" >Help</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <a href="/links" title="Links">Links</a>&nbsp;&nbsp<em>·</em>&nbsp;&nbsp
            <a href="/sitemap.xml" title="SiteMap">SiteMap</a>
        </p>
        <p>
            Has been established&nbsp<a href="/timeline" id="siteBuildingTime"></a>&nbspDays，<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="licence">Based on Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</a><br/>
            ©2017-<span id="cpYear"></span> Based on&nbsp<a href="http://hexo.io" target="_blank" rel="nofollow">Hexo</a>
            ，Theme by&nbsp&nbsp<a href="https://github.com/tangkunyin/hexo-theme-jsimple" target="_blank" rel="bookmark">JSimple</a>
            ，Author&nbsp<a href="https://raw.githubusercontent.com/ssfwshutterbug/ssfwshutterbug.github.io/main" target="_blank" rel="friend">shutterbug</a>
            ，Hosted by <a href="https://pages.github.com/" target="_blank" rel="nofollow">GitHub Pages</a>
            
        </p>
    </div>
</footer>
</div>
<!-- search pop -->
<div class="popup search-popup local-search-popup">
    <div class="local-search-header clearfix">
        <span class="search-icon">
            <i class="fa fa-search"></i>
        </span>
        <span class="popup-btn-close">
            <i class="fa fa-times-circle"></i>
        </span>
        <div class="local-search-input-wrapper">
            <input id="local-search-input"
                   spellcheck="false"
                   type="text"
                   autocomplete="off"
                   placeholder="Input query keywords here..."/>
        </div>
    </div>
    <div id="local-search-result"></div>
</div>
<div class="fixed-btn">
    <a class="btn-gotop" href="javascript:"> <i class="fa fa-angle-up"></i></a>
</div>


</body>
</html>
