<!DOCTYPE html>
<html>
	<head>
		
<title>go-Quiet</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" type="image/x-icon" href="/image/favicon.ico">

<link rel="stylesheet" href="/css/index.css">



<meta name="keywords" content="go,">
<meta name="description" content="">


<script src="/js/jquery.min.js"></script>


<script src="/js/index.js"></script>


<script src="/js/fancybox.umd.js"></script>


<script src="/js/fancybox-images.js"></script>


<script src="/js/gitalk.min.js"></script>


<script src="/js/hljs.min.js"></script>
 
<script>hljs.highlightAll();</script>

	<meta name="generator" content="Hexo 5.4.2"></head>

	<body>
		
	<div class="header">
		<div class="header-top" id="header-top">
			<div class="h-left">
				<a href="/">
					<img src="/image/logo.png" alt="Quiet">
				</a>
			</div>
			<div class="h-right">
				<ul>
					
						
								<li>
									<a href="/">
										HOME
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/archives">
										ARCHIVE
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/categories">
										CATEGORIES
									</a>
									<span class="dot"></span>
								</li>
								
									
						
								<li>
									<a href="/tags">
										TAGS
									</a>
									<span class="dot"></span>
								</li>
								
									
				</ul>
			</div>
			<div class="h-right-close">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
					<path fill="none" d="M0 0h24v24H0z" />
					<path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z" fill="rgba(68,68,68,1)" />
				</svg>
			</div>
		</div>
	</div>
	<div class="sidebar">
    <div class="topo">
        <h2>Joey</h2>
    </div>
    <ul>
        
        <li>
            <a href="/">HOME</a>
        </li>
        
        <li>
            <a href="/archives">ARCHIVE</a>
        </li>
        
        <li>
            <a href="/categories">CATEGORIES</a>
        </li>
        
        <li>
            <a href="/tags">TAGS</a>
        </li>
        
    </ul>
    <div class="my_foot">
        
        <a target="_blank" rel="noopener" href="https://github.com/79E/hexo-theme-quiet">
            <img src="https://cdn.jsdelivr.net/gh/duogongneng/MyBlogImg/imggithub.png" alt="Quiet主题">
        </a>
        
    </div>
</div>
<div class='shelter'>
</div>
<style>
    .shelter{
        background-color: #333;
        opacity:0.5;
        cursor: pointer;
        display: none; 
        position: fixed;
        left: 0;
        top: 0; 
        right: 0;
        bottom: 0;
        z-index: 1998;
    }
    .sidebar {
        width: 66%;
        height: 100%;
        position: fixed;
        top: 0;
        right: -100%;
        bottom: 0;
        background: #fff;
        z-index: 1999;
        text-align: center;
        box-shadow: -6px 0 20px rgba(98, 94, 94, .815);
    }

    .topo {
        width: 100%;
        height: 200px;
        background: url(https://api.ixiaowai.cn/gqapi/gqapi.php) no-repeat;
        background-size: 100% 100%;
        position: relative;
        display: flex;
        align-items: flex-end
    }

    .topo h2 {
        color: #fff;
        z-index: 1;
        position: relative;
        margin: 0 0 10px 10px;
        font-size: 1.2em;
        box-sizing: border-box
    }

    .topo:before {
        content: '';
        background-image: url(/image/pattern.png);
        background-repeat: repeat;
        height: 100%;
        left: 0;
        position: absolute;
        top: 0;
        width: 100%;
        z-index: 1
    }

    .sidebar ul {
        width: 100%;
        margin-top: 50px
    }

    .sidebar ul li {
        height: 50px;
        list-style: none;
        font-size: 1.2em;
        text-align: right;
        margin-right: 10px
    }

    .sidebar ul li a {
        display: grid;
        color: #5d606a;
        text-overflow: ellipsis;
        width: 100%;
        text-decoration: none
    }

    .my_foot {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        position: absolute;
        bottom: 0
    }

    .my_foot a {
        text-decoration: none;
        margin-right: 10px;
        display: inline-block
    }

    .my_foot a img {
        width: 30px;
        height: 30px
    }
</style>

<script>
    $( function () {
	$( '.h-right-close>svg' )
		.click( function () {
			$( '.sidebar' )
				.animate( {
					right: "0"
				}, 500 );
			$( '.shelter' )
				.fadeIn( "slow" )
		} );
	$( '.shelter' )
		.click( function ( e ) {
			$( '.sidebar' )
				.animate( {
					right: "-100%"
				}, 500 );
			$( '.shelter' )
				.fadeOut( "slow" )
		} )
} )

</script>

<div class="post">
    <div class="post-header-background post-header-img"
    style="background: url('https://api.ixiaowai.cn/gqapi/gqapi.php')" 
>
    <div class="post-header-background-content">
        <ul class="post-header-tag">
            
            
            <li><a href="/tags/go">go</a></li>
            
            
        </ul>
        
        <h1>go</h1>
        <div class="post-header-info">
            <div class="post-header-info-author">
                
                    <svg t="1604839279282" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="2901" width="20" height="20">
                        <path
                            d="M513 956.3c-247.7 0-448-200.3-448-448S265.3 66.2 513 66.2s448 200.3 448 448-200.3 442.1-448 442.1z m0-830.9c-212.2 0-388.8 170.7-388.8 388.8C124.2 726.3 294.9 903 513 903c212.2 0 388.8-170.7 388.8-388.8S725.2 125.4 513 125.4z m0 430.2c-94.2 0-170.7-76.5-170.7-170.7S418.8 207.8 513 207.8s170.7 76.5 170.7 170.7S607.2 555.6 513 555.6z m0-289.1c-64.6 0-112 52.8-112 112s47.4 117.9 112 117.9 112-52.8 112-112-47.4-117.9-112-117.9z m0 689.8c-135.7 0-259-58.7-341.9-158.9l-11.8-17.8 11.8-17.8c76.5-117.9 206.2-188.5 347.8-188.5 135.7 0 265 64.6 341.9 182.6l11.8 17.8-11.8 17.8C778 897.1 648.7 956.3 513 956.3zM230.3 773.2C300.9 849.7 406.9 897 513 897c112 0 218.1-47.4 288.6-129.8-70.5-88.2-170.7-135.6-282.7-135.6s-218.1 53.3-288.6 141.6z"
                            p-id="2902" fill="#ffffff"></path>
                    </svg>
                    
                <span class="post-header-info-author-text"> <a href="../../about">Joey</a></span>
                <div class="post-header-info-author-categories">
                    
                         <a href="../../categories/learn/" target="_blank" >learn</a>
                    
                </div>
                <p>2022-04-23 23:02:12</p>
            </div>
        </div>
    </div>
</div>
    <div class="post-content" id="content">
  
  <div id="article" class="post-content-info">
    

    <h1 id="GO"><a href="#GO" class="headerlink" title="GO"></a>GO</h1><h2 id="install"><a href="#install" class="headerlink" title="install"></a>install</h2><p>follow <a target="_blank" rel="noopener" href="https://golang.org/doc/install">this document</a>, download compressed file and extract to the place where application stores.</p>
<pre><code class="shell"># i install go in .local/apps.
tar -xzf Downloads/go1.16.3.linux-amd64.tar.gz -C .local/apps
</code></pre>
<p>configure go env</p>
<pre><code class="shell"># add to /etc/profile or ~/.zshrc. i put it in .xinitrc
export PATH=$PATH:/home/blueocean/.local/apps/go/bin
</code></pre>
<p>after source configure file we can check whether it makes effect</p>
<pre><code class="shell">go env
</code></pre>
<h2 id="config-workspace"><a href="#config-workspace" class="headerlink" title="config workspace"></a>config workspace</h2><p><code>GOPATH</code> is the place of our workspace which can be find by running <code>go env</code>, we can change it by running</p>
<pre><code class="shell">go env -w GOPATH=&quot;$HOME/Public/code/go&quot;
</code></pre>
<p>the command will write go environment variable to <code>~/.config/go/env</code> file.</p>
<p>below is the standard workspace structure</p>
<pre><code class="shell">Public/code/go
├── bin
├── pkg
└── src
    └── github.com
        └── blueocean
            └── go_project_1
                └── helloworld
                    └── main.go
</code></pre>
<ul>
<li>bin: compiled file stores, when we run <code>go install xx.go</code> will create binary file to the folder</li>
<li>pkg: other people package, the package/module we download will store in the folder</li>
<li>src: source code file, the place we write go code</li>
</ul>
<p>why there are github.com/username? it is useful when we work in a team. the folder name is the same as github.</p>
<h2 id="vscode-go-plugin"><a href="#vscode-go-plugin" class="headerlink" title="vscode go plugin"></a>vscode go plugin</h2><p>i will write code with vscode editor, first install <code>go</code> extension. then when we write go code, there will be a prompt suggests us to install other extensions. and just click install all. however it may failed because we can not access github file in our country.</p>
<p>but there comes a method can resolve this problem with proxy. <code>goproxy.io</code> is a proxy of go</p>
<pre><code class="shell">go env -w GO111MODULE=on
go env -w GOPROXY=https://goproxy.io,direct
</code></pre>
<p>then reinstall all will be fine</p>
<blockquote>
<p>Note:</p>
<p>while install go plugin, there comes a error message: <strong>Writing login information to the keychain failed with error ‘The name org.freedesktop.secrets was not provided by any .service files’.</strong></p>
<p><a target="_blank" rel="noopener" href="https://github.com/MicrosoftDocs/live-share/issues/224">resolve method:</a></p>
<pre><code class="shell">sudo pacman -S gnome-keyring libsecret
</code></pre>
</blockquote>
<h2 id="run-or-compile-file"><a href="#run-or-compile-file" class="headerlink" title="run or compile file"></a>run or compile file</h2><p>though go is a compile language, go tools allow us to run code without compile. we can just type</p>
<pre><code class="shell">go run go_file.go
</code></pre>
<p>if we wanna to compile it to binary file</p>
<pre><code class="shell"># this will product a binary file in current location
go build go_file.go
</code></pre>
<p>we can also compile file with <code>go install</code>, and it will put binary file to bin directory</p>
<pre><code class="shell">go install go_file.go
</code></pre>
<h2 id="hello-world"><a href="#hello-world" class="headerlink" title="hello world"></a>hello world</h2><pre><code class="go">package main

import &quot;fmt&quot;

func main() &#123;
    fmt.Println(&quot;hello world!&quot;)
&#125;
</code></pre>
<p>we need to know that in an application there are many go files and each of them need to belong to a package. the name of package can be customized, however there must to be a package name main for progarm will start running with this file. and there must be a function named main for program will start running with main function.</p>
<p>we can import other packages by keyword <code>import</code>. neither build in packages or download from internet with <code>go get</code></p>
<pre><code class="go">import &quot;fmt&quot;
import &quot;math&quot;

// or use parenthense
import (
    &quot;fmt&quot;
    &quot;math&quot;
)
</code></pre>
<h2 id="naming-rule"><a href="#naming-rule" class="headerlink" title="naming rule"></a>naming rule</h2><p><strong>in Go, a name is exported if it begins with a capital letter.</strong></p>
<ul>
<li>function name and variable always begins with lowercase。</li>
<li>except the package need to be imported by other packages as a module, then function name begin with capital letter</li>
</ul>
<h2 id="constan"><a href="#constan" class="headerlink" title="constan"></a>constan</h2><p>the value that can not be changed is called constan. we can define it by <code>const</code></p>
<pre><code class="go">const name = &quot;john&quot;
</code></pre>
<h2 id="variables"><a href="#variables" class="headerlink" title="variables"></a>variables</h2><p>as we know go is a compile language, we need to define a variable before we use it.</p>
<p>there are two principles we need follow:</p>
<ol>
<li>define a variable before we use it.</li>
<li>every defined variable need to be used</li>
</ol>
<p>there are three ways to define a variable:</p>
<ol>
<li><p>use var keyword</p>
<pre><code class="go">var variable_name type
</code></pre>
<p>eg:</p>
<pre><code class="go">var name string
var age int
var high float32
var ptr *int
</code></pre>
</li>
<li><p>initialize without type</p>
<pre><code class="go">var variable_name = value
</code></pre>
<p>eg:</p>
<pre><code class="go">var name = &quot;Azon&quot;
var age = 12
var ptr = &amp;age
</code></pre>
</li>
<li><p>inside function use short sign</p>
<blockquote>
<p>Note:</p>
<p>this method can only used inside function</p>
</blockquote>
<pre><code class="go">variable_name := value
</code></pre>
<p>eg:</p>
<pre><code class="go">name := &quot;Azon&quot;
age := 12
ptr = &amp;age
</code></pre>
</li>
</ol>
<p>define same type variables in one line</p>
<pre><code class="go">var name, age int
</code></pre>
<p>define serveral variables with parentheses</p>
<pre><code class="go">var (
    name string
    age int
    ptr *int
)
// or sign value
var (
    name = &quot;Azon&quot;
    age = 12
    ptr = &amp;age
)
</code></pre>
<blockquote>
<p>note:</p>
<p>​    second and third used often. and third can only be used in function</p>
</blockquote>
<h2 id="basic-type"><a href="#basic-type" class="headerlink" title="basic type"></a>basic type</h2><pre><code class="go">bool

string

int  int8  int16  int32  int64
uint uint8 uint16 uint32 uint64 uintptr

byte // alias for uint8

rune // alias for int32
     // represents a Unicode code point

float32 float64

complex64 complex128
</code></pre>
<h2 id="array"><a href="#array" class="headerlink" title="array"></a>array</h2><p>the length of array is part of array’s type. and the size can not be changed</p>
<p><strong>define array with fixed size</strong></p>
<pre><code class="go">var array_name [length]type
</code></pre>
<p><strong>define array with values</strong></p>
<pre><code class="go">var array_name = [length]type &#123;value1, value2...&#125;
// or use `...`, in this way the length of array is the initial length of value elements. it may common to use
var array_name = [...]type&#123;v1,v2,v3,v4&#125;
</code></pre>
<p><strong>use short syntax</strong></p>
<pre><code class="go">array_name := [length]type &#123;value1, value2...&#125;
</code></pre>
<p><strong>change array value</strong></p>
<pre><code class="go">nums := [2]int&#123;1, 2&#125;
nums[0] = 2
</code></pre>
<p><strong>array index</strong></p>
<pre><code class="go">arr[0] //first
arr[len(arr)-1] //last
</code></pre>
<p><strong>two ways to loop array value</strong></p>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
)

func main() &#123;
    dataJson := [...]string&#123;&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;&#125;
    // range
    for _, v := range dataJson &#123;
        fmt.Println(v)
    &#125;
    // index
    for i := 0; i &lt; len(dataJson); i++ &#123;
        fmt.Println(dataJson[i])
    &#125;
&#125;
</code></pre>
<p><strong>compare two arrays</strong></p>
<p>if the element type of the array is comparable, then the array type is also compartable</p>
<pre><code class="go">package main

import &quot;fmt&quot;

func main() &#123;
    arr1 := [...]int&#123;1, 2, 3&#125;
    arr2 := [3]int&#123;1, 2, 3&#125;
    fmt.Println(arr1 == arr2)
&#125;
</code></pre>
<h2 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h2><p>slice is the reference of array, it doesn’t store any data but the describe of data. </p>
<ul>
<li>no specified size</li>
<li>change slice will change array which slice describes</li>
</ul>
<p><strong>define array with changeable length</strong></p>
<p>slice <code>[]type&#123;v1,v2,v3&#125;</code> truely creates an array <code>[3]type&#123;v1,v2,v3&#125;</code> and then builds a slice that references it</p>
<pre><code class="go">var slice_name = []type&#123;value1, value2...&#125;

// or
slice_name := []type&#123;value1, value2...&#125;

// use pointer
slice_name := &amp;[]type&#123;&#125;

// specified with exist array
var array_name = [3]int&#123;v1,v2,v3&#125;
slice_name1 := array_name[0:2]
slice_name2 := array_name[:]
slice_name3 := array_name[0:]
slice_name4 := array_name[:2]

// use make to create slice
slice_name := make([]type, len_of_array, cap_of_array)
// eg:
num := make([]int, 0, 5)
</code></pre>
<pre><code class="go">package main

import &quot;fmt&quot;


func main() &#123;
    var num = [4]int&#123;1, 2, 3, 4&#125;
    a := num[0:4]
    a[0] = 8
    fmt.Println(num)
&#125;
//[8 2 3 4]
</code></pre>
<p><strong>add value to changeable length array</strong></p>
<pre><code class="go">nums := []int&#123;1, 2&#125;
nums = append(nums, 3)
</code></pre>
<p><strong>slice has length and capacity</strong></p>
<ul>
<li><p>The length of a slice is the number of elements it contains.  </p>
</li>
<li><p>The capacity of a slice is the number of elements in the underlying array,     counting from the first element in the slice.  </p>
</li>
</ul>
<pre><code class="go">var sum = []int&#123;1, 2, 3, 4, 5&#125;
num := sum[:0]
fmt.Println(len(num), cap(num))
</code></pre>
<p><strong>slice of slice</strong></p>
<pre><code class="go">package main

import &quot;fmt&quot;

func main() &#123;
    nums := [][]int&#123;
        []int&#123;&#125;,
        []int&#123;&#125;,
        []int&#123;&#125;,
    &#125;
    fmt.Println(nums)
&#125;
// [[] [] []]
</code></pre>
<h2 id="nil"><a href="#nil" class="headerlink" title="nil"></a>nil</h2><p>The <strong>zero value</strong> of a slice is <code>nil</code>.  </p>
<p>A nil slice has a <strong>length</strong> and <strong>capacity</strong> of <strong>0</strong>  and has <strong>no underlying array.</strong>  </p>
<pre><code class="go">package main

import &quot;fmt&quot;

func main() &#123;
    var num []int
    if num == nil &#123;
        fmt.Println(num, len(num), cap(num))
    &#125;
&#125;
</code></pre>
<h2 id="range"><a href="#range" class="headerlink" title="range"></a>range</h2><p><code>_</code> used to ignore some value</p>
<pre><code class="go">package main

import &quot;fmt&quot;

func main() &#123;
    nums := [][]int&#123;
        []int&#123;1, 2, 3&#125;,
        []int&#123;4, 5, 6&#125;,
        []int&#123;7, 8, 9&#125;,
    &#125;
    fmt.Println(nums)
    for _, v := range nums &#123;
        fmt.Println(v)
    &#125;
&#125;
</code></pre>
<h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><pre><code class="go">// define syntax
var map_name = make(map[key_type]value_type)
</code></pre>
<pre><code class="go">var student = make(map[string]int)
student[&quot;xiaozhan&quot;] = 23
student[&quot;xiaoli&quot;] = 22
fmt.Println(student, student[&quot;xiaozhan&quot;])

// without define
var student = map[string]int&#123;
    &quot;xiaozhan&quot;: 23,
    &quot;xiaoli&quot;:   22,
&#125;
fmt.Println(student, student[&quot;xiaozhan&quot;])
</code></pre>
<p>however the way map most useful is combining with struct</p>
<pre><code class="go">import &quot;fmt&quot;

type People struct &#123;
    name      string
    age       int
    graduate  bool
    email     string
    address   string
    telephone string
&#125;

func main() &#123;
    var student = map[int]People&#123;
        1: &#123;&quot;xiaozhan&quot;, 12, true, &quot;129381@qq.com&quot;, &quot;China&quot;, &quot;1337649393&quot;&#125;,
        2: &#123;&quot;johnsemi&quot;, 23, false, &quot;johnsemi@gmail.com&quot;, &quot;American&quot;, &quot;98234222&quot;&#125;,
    &#125;

    // update value
    student[1] = People&#123;&quot;xiaozhan&quot;, 18, true, &quot;129381@qq.com&quot;, &quot;China&quot;, &quot;1337649393&quot;&#125;
    fmt.Println(student[1].age)

    // delete element
    delete(student,2)

    // check whether key exist
    _, exist := student[2]
    fmt.Println(exist)
&#125;
</code></pre>
<blockquote>
<p>Note: </p>
<p>can’t change values associated with keys in a map, only if we use pointer</p>
</blockquote>
<pre><code class="go">package main

import &quot;fmt&quot;

type People struct &#123;
    name      string
    age       int
    graduate  bool
    email     string
    address   string
    telephone string
&#125;

func main() &#123;
    var student = map[int]*People&#123;
        1: &#123;&quot;xiaozhan&quot;, 12, true, &quot;129381@qq.com&quot;, &quot;China&quot;, &quot;1337649393&quot;&#125;,
        2: &#123;&quot;johnsemi&quot;, 23, false, &quot;johnsemi@gmail.com&quot;, &quot;American&quot;, &quot;98234222&quot;&#125;,
    &#125;
    student[1] = &amp;People&#123;&quot;xiaozhan&quot;, 18, true, &quot;129381@qq.com&quot;, &quot;China&quot;, &quot;1337649393&quot;&#125;
    student[1].age = 22
    fmt.Println(student[1].age)
&#125;
</code></pre>
<h2 id="struct"><a href="#struct" class="headerlink" title="struct"></a>struct</h2><p>A <code>struct</code> is a collection of fields.  </p>
<ul>
<li>Struct fields are accessed using a dot.</li>
<li>Struct fields can be accessed through a struct pointer.  and has a short write <code>(*p).x</code> with <code>p.x</code></li>
<li>Struct literal  used to make new data field</li>
</ul>
<pre><code class="go">package main

import &quot;fmt&quot;

type People struct &#123;
    name  string
    age   int
    email string
&#125;

func main() &#123;
    no1 := People&#123;&quot;xiaoming&quot;, 12, &quot;823739@qq.com&quot;&#125;
    no2 := People&#123;name: &quot;xiaozhan&quot;, age: 13&#125;
    no3 := &amp;People&#123;age: 12&#125;
    fmt.Println(no1, no1.age+no2.age, no3.age)
&#125;
</code></pre>
<h2 id="for-loop"><a href="#for-loop" class="headerlink" title="for loop"></a>for loop</h2><p>in golang, there is no while loop, however for loop can do the same thing as while.</p>
<pre><code class="go">// infinite loop
for &#123;

&#125;

// for each
for i,v := range xxx &#123;

&#125;

// break or continue
for &#123;
    if ...... &#123;
        break
    &#125; else &#123;
        continue
    &#125;
&#125;
</code></pre>
<h2 id="basic-function"><a href="#basic-function" class="headerlink" title="basic function"></a>basic function</h2><p>the way to define function with keyword <code>func</code></p>
<pre><code class="go">func func_name(arg type) return_type &#123;
    //function content
&#125;

// more than one return value use `()`
func func_name(arg1 type, arg2 type) (return_type, return_type) &#123;
    //function content
&#125;

// named return
// combine same type
func func_name(arg1, arg2 type) (x,y return_type) &#123;
    x = xxx
    y = xxx
    return
&#125;
</code></pre>
<p>eg:</p>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
)

func sum(a, b int) int &#123;
    return a + b
&#125;

func reverse(a, b string) (string, string) &#123;
    return b, a
&#125;

func minormax(a, b int) (max1, min1 int) &#123;
    var max, min int
    if a &gt; 0 &amp;&amp; b &gt; 0 &#123;
        if a &gt; b &#123;
            max = a
            min = b
        &#125; else &#123;
            max = b
            min = a
        &#125;
        for i := min; i &gt; 1; i-- &#123;
            if max%i == 0 &amp;&amp; min%i == 0 &#123;
                max1 = i
            &#125;
        &#125;
        for i := max; i &gt; 0; i++ &#123;
            if i%max == 0 &amp;&amp; i%min == 0 &#123;
                min1 = i
                // add break here or it cannot stop
                break
            &#125;
        &#125;
    &#125;
    return
&#125;

func main() &#123;
    a := sum(1, 2)
    b, c := reverse(&quot;hello&quot;, &quot;world&quot;)
    d, e := minormax(8, 10)
    fmt.Println(a, &quot;\t&quot;, b, c, &quot;\t&quot;, d, e)
&#125;
</code></pre>
<h2 id="usage"><a href="#usage" class="headerlink" title="... usage"></a><code>...</code> usage</h2><p>two ways:</p>
<ul>
<li>pass <code>...</code> before function input type: this way can let function accept values which the number we are not sure</li>
<li>pass <code>...</code> after array/slice: this way can parse them out of array/slice without <code>for</code> loop</li>
</ul>
<pre><code class="go">// pass ... to function type
package main

import &quot;fmt&quot;

func Sum(a ...float32) float32 &#123;
    var sum float32 = 0
    for _, v := range a &#123;
        sum = sum + v
    &#125;
    return sum
&#125;

func main() &#123;
    fmt.Println(Sum(56, 78, 60.5, 89.5, 93, 76))
    // or 
    // fmt.Println(Sum(score...))
&#125;
</code></pre>
<pre><code class="go">// pass ... to array/slice
package main

import &quot;fmt&quot;

func main() &#123;
    score := []float32&#123;56, 78, 60.5, 89.5, 93, 76&#125;
    var array = []float32&#123;&#125;
    array = append(array, score...)
    fmt.Println(array)
&#125;
</code></pre>
<h2 id="function-value"><a href="#function-value" class="headerlink" title="function value"></a>function value</h2><ul>
<li>Functions are values too. They can be passed around just like other values.  </li>
<li>Function values may be used as function arguments and return values.  </li>
</ul>
<pre><code class="go">package main

import &quot;fmt&quot;

func plu(fn1 func(float32, float32) float32, fn2 func(float32, float32) float32) float32 &#123;
    return fn1(2, 3) * fn2(2, 3)
&#125;

func main() &#123;
    a := func(x, y float32) float32 &#123;
        return x + y
    &#125;
    b := func(x, y float32) float32 &#123;
        return x - y
    &#125;

    c := plu(a, b)
    fmt.Println(c)
&#125;
</code></pre>
<h2 id="example"><a href="#example" class="headerlink" title="example"></a>example</h2><h5 id="initialize-struct-data-with-functions-and-return-a-struct-data-type"><a href="#initialize-struct-data-with-functions-and-return-a-struct-data-type" class="headerlink" title="initialize struct data with functions and return a struct data type."></a>initialize struct data with functions and return a struct data type.</h5><pre><code class="go">package main

import &quot;fmt&quot;

// define a struct type
type people struct &#123;
    name string
    age  int
&#125;

// initialize struct with function and return a struct
func who(name string, age int) *people &#123;
    people := &amp;people&#123;
        name: name,
        age:  age,
    &#125;
    return people
&#125;

// function to get struct data
func (p people) getName() string &#123;
    return p.name
&#125;

func main() &#123;
    // used like this: method().method()
    res := who(&quot;libai&quot;, 12).getName()
    fmt.Println(res)
&#125;
</code></pre>
<h5 id="read-from-file-and-write-file"><a href="#read-from-file-and-write-file" class="headerlink" title="read from file and write file"></a>read from file and write file</h5><pre><code class="go">package main

import (
    &quot;log&quot;
    &quot;os&quot;
)

func main() &#123;
    // read content form ori and write to filePath file
    var filePath string = &quot;/mnt/c/Users/qiyue/Desktop/test.txt&quot;
    var ori string = &quot;/mnt/c/Users/qiyue/Desktop/go.md&quot;

    // open write file
    new_file, err := os.OpenFile(filePath, os.O_WRONLY|os.O_TRUNC, 0777)
    defer new_file.Close()
    if err != nil &#123;
        log.Fatal(err)
    &#125;

    // open content file
    ori_file, err := os.ReadFile(ori)
    if err != nil &#123;
        log.Fatal(err)
    &#125;

    // write content
    if _, err := new_file.Write(ori_file); err != nil &#123;
        log.Fatal(err)
    &#125;
&#125;
</code></pre>
<h2 id="methods"><a href="#methods" class="headerlink" title="methods"></a>methods</h2><p>Go does not have classes. However, you can define methods on types.  </p>
<ul>
<li>A method is a function with a special <em>receiver</em> argument.  </li>
<li>The receiver appears in its own argument list between the <code>func</code> keyword and  the method name.</li>
</ul>
<pre><code class="go">// method with struct
type type_name struct &#123;&#125;
func (v type_name) func_name() return_type &#123;&#125;

// use method
v := type_name&#123;&#125;
v.func_name()
</code></pre>
<pre><code class="go">// method with none-struct type
type type_name value_type
func (v type_name) func_name() return_type&#123;&#125;

// use method
v := type_name()
v.func_name()
</code></pre>
<p><strong>pointer receiver</strong></p>
<pre><code class="go">// with pointer receiver, we can change struct data self
type type_name struct &#123;&#125;
func (v *type_name) func_name() return_type&#123;&#125;

// change struct data with function
v := type_name&#123;&#125;
v.func_name()
</code></pre>
<p>method with pointer receiver can be called either a value or a pointer</p>
<pre><code class="go">// method with pointer receiver
type type_name struct &#123;&#125;
func (v *type_name) func_name() return_type&#123;&#125;

// called by value
v := type_name&#123;&#125;
v.func_name()
// callled by pointer
v := &amp;type_name&#123;&#125;
v.func_name()
</code></pre>
<p>method with value receiver can be called either a value or a pointer</p>
<pre><code class="go">// normal value receiver
type type_name struct &#123;&#125;
func (v type_name) func_name() return_type &#123;&#125;

// can be call with value or pointer
v1 := type_name&#123;&#125;
v1.func_name()

v2 := &amp;type_name&#123;&#125;
v2.func_name()
</code></pre>
<blockquote>
<p>Note:</p>
<pre><code>1. even though both can work fine, however only pointer receiver has the capacity to change struct data itself
2. pointer receiver don&#39;t copy data struct, which can minimize memory usage
</code></pre>
</blockquote>
<h2 id="interfaces"><a href="#interfaces" class="headerlink" title="interfaces"></a>interfaces</h2><p><strong>An <em>interface type</em> is defined as a set of method signatures.</strong>  </p>
<ul>
<li>A value of interface type can hold any value that implements those methods.  </li>
</ul>
<pre><code class="go">package main

import &quot;fmt&quot;

type Cal interface &#123;
    Abs() float32
&#125;

type Sum struct &#123;
    a, b float32
&#125;
// function of sum implement Cal interface
func (s *Sum) Abs() float32 &#123;
    return float32(s.a + s.b)
&#125;

type Div struct &#123;
    a, b float32
&#125;
// function of div implement Cal interface
func (d *Div) Abs() float32 &#123;
    return float32(d.a / d.b)
&#125;

func main() &#123;
    // apply any value to interface variable which has implemented interface methods
    var a Cal
    a = &amp;Sum&#123;2, 3&#125;
    fmt.Println(a.Abs())
    a = &amp;Div&#123;2, 3&#125;
    fmt.Println(a.Abs())
&#125;
//5
//0.6666667
</code></pre>
<p><strong>The interface type that specifies zero methods is known as the <em>empty interface</em></strong></p>
<pre><code class="go">interface&#123;&#125;
</code></pre>
<ul>
<li><p>An empty interface may hold values of any type.     (Every type implements at least zero methods.)  </p>
</li>
<li><p>Empty interfaces are used by code that handles values of unknown type.     For example, <code>fmt.Print</code> takes any number of arguments of type <code>interface&#123;&#125;</code>.  </p>
</li>
</ul>
<pre><code class="go">package main

import &quot;fmt&quot;

func main() &#123;
    // empty interface `interface&#123;&#125;` as a value type
    var num interface&#123;&#125;
    num = 5
    fmt.Println(num)
    num = &quot;justin&quot;
    fmt.Println(num)
&#125;
</code></pre>
<p><strong>type assertions</strong></p>
<pre><code class="go">// define a variable of empty interface
var i interface&#123;&#125;
i = &quot;hello&quot;

// use i.(type) to check the type of i is true. ok&#39;s value is true || false
_,ok := i.(type)

// eg :
package main

import &quot;fmt&quot;

func main() &#123;
    var i interface&#123;&#125;
    i = &quot;hello&quot;
    _, ok := i.(int)
    fmt.Println(ok)
&#125;
//false
</code></pre>
<p><strong>type switch</strong></p>
<p>use type assertions with <code>switch case</code> to ignore value’s type or deal value with different types.</p>
<pre><code class="go">package main

import &quot;fmt&quot;

func do(i interface&#123;&#125;) &#123;
    switch t := i.(type) &#123;
    case int:
        fmt.Println(t * 2)
    case string:
        fmt.Println(&quot;words:&quot;, t)
    default:
        fmt.Println(&quot;noknown type !&quot;)
    &#125;
&#125;

func main() &#123;
    do(20)
    do(&quot;hello world&quot;)
    do(12.232)
&#125;
</code></pre>
<blockquote>
<p>Note:</p>
<pre><code class="go">type Stringer interface &#123;
    String() string
&#125;
</code></pre>
<p><code>fmt</code> package will look for Stringer interface to print values by default. it is be defined in <code>fmt</code> package</p>
</blockquote>
<pre><code class="go">// Exercise: Stringer
// Make the IPAddr type implement fmt.Stringer to print the address as a dotted quad.
// For instance, IPAddr&#123;1, 2, 3, 4&#125; should print as &quot;1.2.3.4&quot;. 

package main

import &quot;fmt&quot;

type IPAddr [4]byte

var hosts = map[string]IPAddr&#123;
    &quot;loopback&quot;:  &#123;127, 0, 0, 1&#125;,
    &quot;googledns&quot;: &#123;8, 8, 8, 8&#125;,
&#125;

func (ip IPAddr) String() string &#123;
    return fmt.Sprintf(&quot;%v.%v.%v.%v&quot;, ip[0], ip[1], ip[2], ip[3])
&#125;

func main() &#123;
    for name, ip := range hosts &#123;
        fmt.Printf(&quot;%v:\t%v\n&quot;, name, ip)
    &#125;
&#125;
</code></pre>
<h2 id="goroutines"><a href="#goroutines" class="headerlink" title="goroutines"></a>goroutines</h2><p>A <em>goroutine</em> is a lightweight thread managed by the Go runtime.  </p>
<pre><code class="go">package main

import &quot;fmt&quot;

var num = [10]int&#123;1, 2, 3, 4, 5, 6, 7, 8, 9, 10&#125;

func main() &#123;
    for _, j := range num &#123;
        go fmt.Println(j)
        fmt.Println(j)
        fmt.Println(&quot;ordered&quot;)
    &#125;
&#125;
</code></pre>
<h2 id="channel"><a href="#channel" class="headerlink" title="channel"></a>channel</h2><p>Channels are a typed conduit through which you can send and receive values with the channel operator, <code>&lt;-</code>.  </p>
<pre><code class="go">// create channel
ch := make(chan int)

// send v to channel ch
ch &lt;- v
// receive from ch, and assign value to v
v := &lt;- ch
</code></pre>
<p><strong>buffered channels</strong></p>
<p>Channels can be <em>buffered</em>.  Provide the buffer length as the second argument to <code>make</code> to initialize a buffered channel:  </p>
<pre><code>ch := make(chan int, 100)
</code></pre>
<p>Sends to a buffered channel block only when the buffer is full. Receives block when the buffer is empty.  </p>
<h2 id="execute-shell-command"><a href="#execute-shell-command" class="headerlink" title="execute shell command"></a>execute shell command</h2><p>go has a built in module <code>os/exec</code>, which can execute shell command in the system.</p>
<ul>
<li><code>Output()</code>: run command and show stdout, exit code</li>
<li><code>Run()</code>: run command and wait it to finish, only show stderr</li>
<li><code>Start()</code>: run command in background, only show stderr</li>
</ul>
<pre><code class="go">// 1. use log.Printf() to pretty output with date showing
// 2. check command exists in system first
// 3. output isn&#39;t string, use string() converts
// 4. exec.Command() can not use `|` and multi commands, so 
// we need use `bash -c` to wrap multi commands and pipeline
// 5. use `return` to exit program while error appears

package main

import (
    &quot;fmt&quot;
    &quot;log&quot; // output with date
    &quot;os/exec&quot;
)

var commands = [3]string&#123;&quot;/bin/bash&quot;, &quot;ps&quot;, &quot;wc&quot;&#125;

func main() &#123;
    // LookPath to check whether the system contains this commands
    for _, c := range commands &#123;
        _, err := exec.LookPath(c)
        if err != nil &#123;
            log.Printf(&quot;%v: not find in path&quot;, c)
            return
        &#125;
    &#125;

    // Command execute, output is stream
    cmd := exec.Command(&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;ps -ef |wc -l&quot;)
    stream, err := cmd.Output()
    if err != nil &#123;
        log.Println(err)
        return
    &#125;
    // convert to character with string function
    fmt.Println(string(stream))

    // Run() don&#39;t show a stdout value
    error := exec.Command(&quot;ls&quot;, &quot;-l&quot;).Run()
    if error != nil &#123;
        log.Println(error)
    &#125;
&#125;
</code></pre>
<h2 id="find-the-type-of-variable"><a href="#find-the-type-of-variable" class="headerlink" title="find the type of variable"></a>find the type of variable</h2><p><strong>3 ways to check</strong></p>
<ul>
<li><code>Using reflect.TypeOf Function</code></li>
<li><code>Using reflect.ValueOf.Kind() Function</code></li>
<li><code>Using %T with Printf</code></li>
</ul>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
    &quot;log&quot;
    &quot;os&quot;
    &quot;reflect&quot;
)

func main() &#123;
    file, err := os.Open(&quot;./test/examples/README.md&quot;)
    defer file.Close()
    if err != nil &#123;
        log.Println(err)
    &#125;

    // first
    fmt.Printf(&quot;%T\n&quot;, file)

    // second
    tp := reflect.TypeOf(file)
    fmt.Println(tp)

    // third
    tp = reflect.ValueOf(file).Type()
    fmt.Println(tp)
&#125;
</code></pre>
<h2 id="deal-with-file"><a href="#deal-with-file" class="headerlink" title="deal with file"></a>deal with file</h2><h3 id="read-file"><a href="#read-file" class="headerlink" title="read file"></a>read file</h3><p>read file include two parts:</p>
<ol>
<li>open a file handler</li>
<li>get the content with handler</li>
</ol>
<p>however some function combine the two parts into one, and that’s fine</p>
<blockquote>
<p>Note:</p>
<p>while opening a file, need to colse it</p>
</blockquote>
<p><strong>simple open a file, leave a file handler, without dealing with it.</strong></p>
<pre><code class="go">package main

import (
    &quot;log&quot;
    &quot;os&quot;
)

func main() &#123;
    file, err := os.Open(&quot;./test/examples/README.md&quot;)
    defer file.Close()
    if err != nil &#123;
        log.Println(err)
    &#125;

    // show file state
    fmt.Println(file.Stat())
&#125;
</code></pre>
<p><strong>read whole file content with one function at once, don’t use it with large file</strong></p>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
    &quot;os&quot;
)

func main() &#123;
    // don&#39;t need to colse file manually
    content, err := os.ReadFile(&quot;./test/examples/README.md&quot;)
    if err != nil &#123;
        fmt.Println(err)
    &#125;
    fmt.Println(string(content))
&#125;
</code></pre>
<p><strong>read file by chunks</strong></p>
<p>we don’t take it all completely in memory but instead we load it by  chunking. It’s very important to read large files in chunk to avoid out  of memory errors.</p>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
    &quot;io&quot;
    &quot;log&quot;
    &quot;os&quot;
)

func main() &#123;
    file, err := os.Open(&quot;./test/examples/README.md&quot;)
    defer file.Close()
    if err != nil &#123;
        log.Print(err)
    &#125;

    // create slice
    chunk := make([]byte, 8)

    // for loop
    for &#123;
        // read content to chunk and return a chunk size
        size, err := file.Read(chunk)
        if err != nil &#123;
            if err != io.EOF &#123;
                log.Print(err)
            &#125;
            return
        &#125;
        fmt.Printf(string(chunk[:size]))
    &#125;
&#125;
</code></pre>
<p><strong>use bufio</strong></p>
<p>line by line</p>
<pre><code class="go">package main

import (
    &quot;bufio&quot;
    &quot;fmt&quot;
    &quot;log&quot;
    &quot;os&quot;
)

func main() &#123;
    file, err := os.Open(&quot;./test/examples/README.md&quot;)
    defer file.Close()
    if err != nil &#123;
        log.Print(err)
    &#125;

    scanner := bufio.NewScanner(file)
    for scanner.Scan() &#123;
        fmt.Println(scanner.Text())
    &#125;
&#125;
</code></pre>
<p><strong>read file word by word</strong></p>
<pre><code class="go">package main

import (
    &quot;bufio&quot;
    &quot;fmt&quot;
    &quot;log&quot;
    &quot;os&quot;
)

func main() &#123;
    file, err := os.Open(&quot;./test/examples/README.md&quot;)
    defer file.Close()
    if err != nil &#123;
        log.Print(err)
    &#125;

    scanner := bufio.NewScanner(file)
    scanner.Split(bufio.ScanWords) // add one line to split line into word
    for scanner.Scan() &#123;
        fmt.Println(scanner.Text())
    &#125;
&#125;
</code></pre>
<h3 id="write-file"><a href="#write-file" class="headerlink" title="write file"></a>write file</h3><p>simplest way, easy for writing small size file</p>
<pre><code class="go">package main

import (
    &quot;fmt&quot;
    &quot;os&quot;
)

func main() &#123;
    loc := &quot;./data.txt&quot;
    file, err := os.OpenFile(loc, os.O_CREATE|os.O_APPEND|os.O_RDWR, 0755)
    if err != nil &#123;
        fmt.Println(err)
    &#125;
    defer file.Close()

    // write to file directorily
    file.WriteString(&quot;hello world!&quot;)

    // read file
    content, err := os.ReadFile(loc)
    fmt.Println(string(content))
&#125;
</code></pre>
<p>we can use bufio to write content to file, more useful for large file to write</p>
<ul>
<li>use <code>os.OpenFile()</code> for more control</li>
<li>it does a write when <code>writer.Fulsh()</code> is called</li>
</ul>
<pre><code class="go">package main

import (
    &quot;bufio&quot;
    &quot;fmt&quot;
    &quot;os&quot;
)

func main() &#123;
    // create file if none with permistion of 0755, or append to a exist file 
    loc := &quot;./data.txt&quot;
    file, err := os.OpenFile(loc, os.O_CREATE|os.O_APPEND|os.O_RDWR, 0755)
    if err != nil &#123;
        fmt.Println(err)
    &#125;
    defer file.Close()

    // store string to buffer
    writer := bufio.NewWriter(file)
    writer.WriteString(&quot;hello world!&quot;)
    if err != nil &#123;
        fmt.Println(err)
    &#125;
    // write buffer all at once to file when we use flush function
    writer.Flush()

    // reopen file to show content
    file, _ = os.Open(loc)
    scanner := bufio.NewScanner(file)
    for scanner.Scan() &#123;
        fmt.Println(&quot;text:&quot;, scanner.Text())
    &#125;
    file.Close()
&#125;
</code></pre>
<h2 id="get-request-and-json-convert"><a href="#get-request-and-json-convert" class="headerlink" title="get request and json convert"></a>get request and json convert</h2><pre><code class="go">package main

import (
    &quot;crypto/tls&quot;
    &quot;encoding/json&quot;
    &quot;fmt&quot;
    &quot;io/ioutil&quot;
    &quot;net/http&quot;
)

var URL string = &quot;https://192.168.31.214:8080&quot;
var USER string = &quot;admin&quot;
var PASSWD string = &quot;xFkwBNzwtA6ufGGLwSXzCwU8k9VGX4hcbhxemEUhBxyUkesSupynBBemEX8CK3Do&quot;

// join string
func url(api string) string &#123;
    return URL + api
&#125;

func get(url string) []byte &#123;
    http.DefaultTransport.(*http.Transport).TLSClientConfig = &amp;tls.Config&#123;InsecureSkipVerify: true&#125;

    r, err := http.NewRequest(&quot;GET&quot;, url, nil)
    r.SetBasicAuth(USER, PASSWD)

    c := &amp;http.Client&#123;&#125;
    resp, err := c.Do(r)
    if err != nil &#123;
        fmt.Println(err)
    &#125;
    defer resp.Body.Close()

    // return resp.Body, remove `[]`
    content, _ := ioutil.ReadAll(resp.Body)
    return content[1 : len(content)-2]
&#125;

// create struct to parse json, notice captial case
type Data struct &#123;
    Code             string `json:&quot;code&quot;`
    virtual          string
    state            string
    agentsetgroup    string
    labelgroup       string
    agentsetrole     string
    agentsetfwstate  string
    microfwstate     string
    usernumber       int
    expiredtimestamp int
    blocklog         string
    updateduser      string
    updatedtimestamp int
&#125;

func main() &#123;
    content := get(url(&quot;/default/activationcode&quot;))
    fmt.Println(string(content))

    var md Data
    // convert to json
    json.Unmarshal(content, &amp;md)
    fmt.Println(md.Code)
&#125;
</code></pre>
<h2 id="practice"><a href="#practice" class="headerlink" title="practice"></a>practice</h2><pre><code class="go">package main

import (
    &quot;crypto/tls&quot;
    &quot;encoding/json&quot;
    &quot;flag&quot;
    &quot;fmt&quot;
    &quot;io&quot;
    &quot;net/http&quot;
    &quot;time&quot;
)

// define some variables
var NEW Data
var OLD Data

// create data struct of service request [&#123;k:v,k:[&#123;k:v&#125;,&#123;k:v&#125;...]&#125;,k:v]
type Data []struct &#123;
    Uuid             string  `json:&quot;uuid&quot;`
    Service          Service `json:&quot;service&quot;`
    Updatedtimestamp int     `json:&quot;updatedtimestamp&quot;`
&#125;
type Service []struct &#123;
    Protocol string `json:&quot;protocol&quot;`
    Port     string `json:&quot;port&quot;`
    Listen   string `json:&quot;listen&quot;`
    Name     string `json:&quot;name&quot;`
    Exe      string `json:&quot;exe&quot;`
&#125;

// commind line parse
func parseCmd() (string, uint, string, string) &#123;
    url := flag.String(&quot;url&quot;, &quot;192.168.31.53&quot;, &quot;QCC url&quot;)
    interval := flag.Uint(&quot;time&quot;, 300, &quot;interval time(seconds)&quot;)
    api := flag.String(&quot;api&quot;, &quot;rh8FeGiGZhGBFWawrCvFYLaMHHQBVr9ZEmKmLAJAiCfqkB5kRkGs4cwgToELFV5L&quot;, &quot;qcc api&quot;)
    user := flag.String(&quot;user&quot;, &quot;admin&quot;, &quot;api user name&quot;)
    flag.Parse()
    return *url, *interval, *api, *user
&#125;

// function of api url
func apiUrl(url, api string) string &#123;
    return &quot;https://&quot; + url + &quot;:8080&quot; + api
&#125;

// get http request raw data
func rawData(url, user, api string) []byte &#123;
    http.DefaultTransport.(*http.Transport).TLSClientConfig = &amp;tls.Config&#123;InsecureSkipVerify: true&#125;

    r, err := http.NewRequest(&quot;GET&quot;, url, nil)
    r.SetBasicAuth(user, api)

    c := &amp;http.Client&#123;&#125;
    resp, err := c.Do(r)
    if err != nil &#123;
        fmt.Println(err)
    &#125;
    defer resp.Body.Close()

    // return resp.Body
    content, _ := io.ReadAll(resp.Body)
    return content
&#125;

// compare data with x minutes interval
func compareData(data Data, tsleep uint) string &#123;
    NEW = data
    for &#123;
        if OLD == nil &#123;
            OLD = NEW
            continue
        &#125;
        // condition
        time.Sleep(time.Duration(tsleep) * time.Second)
        return &quot;one&quot;
    &#125;
&#125;

// main function
func main() &#123;
    url, interval, api, user := parseCmd()
    fmt.Println(url, interval, api, user, apiUrl(url, &quot;/default/workloadservice&quot;))
    content := rawData(apiUrl(url, &quot;/default/workloadservice&quot;), user, api)
    // fmt.Println(apiUrl(&quot;/default/workloadservice&quot;))
    // fmt.Printf(&quot;%T\n&quot;,content)
    // fmt.Printf(&quot;%s\n&quot;,content)

    var data Data
    err := json.Unmarshal(content, &amp;data)
    if err != nil &#123;
        fmt.Println(err)
    &#125;

    result := compareData(data, interval)
    fmt.Println(result)
    // fmt.Printf(&quot;%T\n&quot;,data)
    // fmt.Println(data[0].Service)
&#125;
</code></pre>

  </div>
  <div id="gitalk-container"></div>
</div>

<script>
  
Fancybox.bind('[data-fancybox="fancybox-gallery-img"]', {
  dragToClose: true,
  Toolbar: true,
  closeButton: "top",
  Image: {
    zoom: true,
  },
  on: {
    initCarousel: (fancybox) => {
      const slide = fancybox.Carousel.slides[fancybox.Carousel.page];
      fancybox.$container.style.setProperty(
        "--bg-image",
        `url("${slide.$thumb.src}")`
      );
    },
    "Carousel.change": (fancybox, carousel, to, from) => {
      const slide = carousel.slides[to];
      fancybox.$container.style.setProperty(
        "--bg-image",
        `url("${slide.$thumb.src}")`
      );
    },
  },
});
</script>

<style>
    #noneimg img {
        display: none;
        z-index: 9999;
        /* width: 600px !important; */
        min-width: 0%;
        max-width: 90%;
        max-height: 80%;
        border-radius: 0px;
        position: fixed;
        box-shadow: 0 0 0px #c3c3c300 !important;
        left: 0;
        top: 0;
        right: 0;
        bottom: 0;
        margin: auto !important;
    }

    @media screen and (max-width:600px) {
        #noneimg img {
            max-width: 88%
        }
    }
</style>

    <div class="post-paging">
    
    <a href="/2022/04/23/haskell/">
        <div class="post-paging-last">
            <span>上一篇</span>
            <p>haskell</p>
        </div>
    </a>
    

    
    <a href="/2022/04/23/git/">
        <div class="post-paging-next">
            <span>下一篇</span>
            <p>git</p>
        </div>
    </a>
    
</div>
</div>
		
<div class="footer">
	<div class="Copyright">
		©2022 By Joey. 主题：<a
			style="text-decoration: none;display: contents; color: #898F9F;"
			target="_blank" rel="noopener" href="https://github.com/79e/hexo-theme-quiet">Quiet</a>
	</div>
	<div class="contact">
		
		<a target="_blank" rel="noopener" href="https://github.com/79E/hexo-theme-quiet">
			<img src="https://cdn.jsdelivr.net/gh/duogongneng/MyBlogImg/imggithub.png" alt="Quiet主题">
		</a>
		
	</div>
</div>

<script src="/js/gotop.js"></script>


<style type="text/css">
    @media screen and (min-width: 600px) {
        .goTop>span {
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            width: 40px;
            height: 40px;
            cursor: pointer;
            opacity: 0.8;
            background: rgba(18, 24, 58, 0.06);
            text-align: center;
            transition: border .5s;
            border: 1px solid rgba(18, 24, 58, 0.06);

            -moz-transition: border .5s;
            /* Firefox 4 */
            -webkit-transition: border .5s;
            /* Safari 和 Chrome */
            -o-transition: border .5s;
            /* Opera */
        }

        .goTop>span:hover {
            border: 1px solid #6680B3;
        }


        .goTop {
            position: fixed;
            right: 30px;
            bottom: 80px;
        }

        .goTop>span>svg {
            width: 20px;
            height: 20px;
            opacity: 0.7;
        }

    }

    @media screen and (max-width: 600px) {
        .goTop {
            display: none;
        }
    }
</style>
<div class="goTop" id="js-go_top">
    <span>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <g>
                <path d="M13 12v8h-2v-8H4l8-8 8 8z"></path>
            </g>
        </svg>
    </span>
</div>
<script>
    $( '#js-go_top' )
	.gotoTop( {
		offset: 500,
		speed: 300,
		animationShow: {
			'transform': 'translate(0,0)',
			'transition': 'transform .5s ease-in-out'
		},
		animationHide: {
			'transform': 'translate(100px,0)',
			'transition': 'transform .5s ease-in-out'
		}
	} );
</script>


    <!-- Gitalk -->
    <script>
        const data = '{"clientID":"02b3c","clientSecret":"adfc7b4","repo":"gimment","owner":"duneng","admin":"duneng"}'
        const gitalk = new Gitalk({
            ...JSON.parse( data),
            id:location.pathname,
            distractionFreeMode:false
        })
        
        if(Boolean('true')){
            gitalk.render('gitalk-container')
        }
    </script>

<script>
	console.log('\n %c Hexo-Quiet 主题 %c https://github.com/79e/hexo-theme-quiet \n', 'color: #fadfa3; background: #030307; padding:5px 0;', 'background: #fadfa3; padding:5px 0;')
</script>
	</body>
</html>

