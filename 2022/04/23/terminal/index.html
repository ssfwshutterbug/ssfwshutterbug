<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="shutterbug">
    
    <title>
        
            terminal |
        
        Sweet Diary
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.svg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"raw.githubusercontent.com","root":"/","language":"en","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":false,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.svg","favicon":"/images/logo.svg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/4.jpg","description":"the world you see is not about how they act but how we respond."},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":false},"code_copy":{"enable":false,"style":"default"},"pjax":{"enable":true},"lazyload":{"enable":false},"version":"3.4.5"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fas fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                Sweet Diary
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                CATEGORIES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                TAGS
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">CATEGORIES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">TAGS</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">terminal</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.svg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">shutterbug</span>
                        
                            <span class="author-label">Lv3</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;
        <span class="pc">2022-04-23 23:12:34</span>
        <span class="mobile">2022-04-23 23:12</span>
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/learn/">learn</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/linux/">linux</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h1 id="TERMINAL"><a href="#TERMINAL" class="headerlink" title="TERMINAL"></a>TERMINAL</h1><p>terminal is a topic include many many things, and i will complete it.</p>
<h2 id="SHORTCUT"><a href="#SHORTCUT" class="headerlink" title="SHORTCUT"></a>SHORTCUT</h2><p><strong>clean and movement</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl + l # clearn screen</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl + a # move cursor to the begin</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl + e # move cursor to the end</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alt + b # move cursor one word before</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alt + f # move cursor one word after</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl + u # clear to the begin and yank to clipboard</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl + k # clear to the end and yank to clipboard</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alt + backspace || ctrl + w # clear one word before</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl + y # paste yanked words</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alt + . # paste last command&#x27;s last argument</span><br></pre></td></tr></table></figure>

<p><strong>display and process</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl + c # end process</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl + z # stop current process and send to backend</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl + d # end typing</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl + s # hide character typed and output</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl + q # get out of hide mode and display</span><br></pre></td></tr></table></figure>

<h2 id="GREAT-WORKFLOW"><a href="#GREAT-WORKFLOW" class="headerlink" title="GREAT WORKFLOW"></a>GREAT WORKFLOW</h2><p>if you forget to type <code>sudo</code> at the beginning, there are two convenient ways. and i prefer the second one</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">first</span></span><br><span class="line">ctrl + a</span><br><span class="line">sudo</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">second</span> </span><br><span class="line">ctrl + u </span><br><span class="line">sudo</span><br><span class="line">ctrl + y</span><br></pre></td></tr></table></figure>

<h2 id="COMMAND"><a href="#COMMAND" class="headerlink" title="COMMAND"></a>COMMAND</h2><h3 id="wrap-terminal-long-line"><a href="#wrap-terminal-long-line" class="headerlink" title="wrap terminal long line"></a>wrap terminal long line</h3><p><a target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/20493/how-to-disable-line-wrap-in-a-terminal">view all message with this page</a></p>
<p>sometimes the terminal output is too long, in default the long line will wrap in several lines, and we cannot see each line’s begin.</p>
<p>there are several methods to solve this problem:</p>
<ol>
<li><p>edit terminal setting</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">such as <span class="keyword">in</span> xterm <span class="built_in">disable</span> line wrap</span></span><br><span class="line">setterm --linewrap off</span><br></pre></td></tr></table></figure></li>
<li><p>use <code>-S</code> of <code>less</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">such as</span> </span><br><span class="line">ps -ef |grep code |less -S</span><br></pre></td></tr></table></figure>

<p><img src=".images/image-20210520225316462.png" alt="image alt &lt;"></p>
</li>
</ol>
<h3 id="last-command"><a href="#last-command" class="headerlink" title="last command"></a>last command</h3><p>there i will show how to modify the last command since it is really very useful in our daily typing.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">repeat last <span class="built_in">command</span></span></span><br><span class="line">!!</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">repeat second last <span class="built_in">command</span></span></span><br><span class="line">!-2</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">get last <span class="built_in">command</span> first argument</span></span><br><span class="line">!^</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">get last <span class="built_in">command</span> last argument</span></span><br><span class="line">!$</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">get last <span class="built_in">command</span> Nth argument, n is numeric, such as 1,2...11...</span></span><br><span class="line">!:n</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">modify last <span class="built_in">command</span> and execute</span></span><br><span class="line">!:s/xxx/yyy</span><br></pre></td></tr></table></figure>

<h3 id="mktemp"><a href="#mktemp" class="headerlink" title="mktemp"></a>mktemp</h3><p>在脚本中经常遇到需要创建临时文件或目录的情况，直接使用命令在<code>/tmp</code>目录下创建存在安全问题，所以更好的是使用<code>mktemp</code>命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">file</span></span><br><span class="line">TEMPFILE=$(mktemp) || exit 1</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">dir</span></span></span><br><span class="line">TEMPFILE=$(mktemp -d) || exit 1</span><br></pre></td></tr></table></figure>

<h3 id="trap"><a href="#trap" class="headerlink" title="trap"></a>trap</h3><p>临时文件或目录使用完后需要清理，可以搭配<code>trap</code>命令。trap命令放在文件最开头，这样可以包含所有后面的信号</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">trap [command] [signal]</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">trap &quot;rm -rf $TEMPFILE&quot; EXIT</span><br><span class="line">TEMPFILE=$(mktemp) || exit 1</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">信号</span></span><br><span class="line">HUP：编号1，脚本与所在的终端脱离联系。</span><br><span class="line">INT：编号2，用户按下 Ctrl + C，意图让脚本中止运行。</span><br><span class="line">QUIT：编号3，用户按下 Ctrl + 斜杠，意图退出脚本。</span><br><span class="line">KILL：编号9，该信号用于杀死进程。</span><br><span class="line">TERM：编号15，这是kill命令发出的默认信号。</span><br><span class="line">EXIT：编号0，这不是系统信号，而是 Bash 脚本特有的信号，不管什么情况，只要退出脚本就会产生。</span><br></pre></td></tr></table></figure>

<h3 id="sshfs"><a href="#sshfs" class="headerlink" title="sshfs"></a>sshfs</h3><p><code>sshfs</code>和<code>nfs</code>作用相同，都是挂载远程目录，但是sshfs更加简单，只需要在本地安装sshfs即可，因为连接使用的是ssh</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">install</span></span><br><span class="line">apt install sshfs</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mount</span></span><br><span class="line">sshfs root@192.168.31.121:/opt /opt</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">umount</span></span><br><span class="line">fusermount -u /opt</span><br></pre></td></tr></table></figure>

<h3 id="stty"><a href="#stty" class="headerlink" title="stty"></a>stty</h3><p>修改终端的设置</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">show all setting</span></span><br><span class="line">stty -a</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">disable</span> input <span class="built_in">echo</span></span></span><br><span class="line">stty -echo</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">enable</span> input <span class="built_in">echo</span></span></span><br><span class="line">stty echo</span><br></pre></td></tr></table></figure>

<p>在有些程序中（例如ftp），按下回车键不能删除字符，而是显示<code>^H</code>，为了解决这个问题，可以在使用ftp之前进行设置</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stty erase ^H</span><br></pre></td></tr></table></figure>

<p>设置之后回车即可删除，但是在shell下回车会变成<code>^?</code>，所以有必要改回来</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stty erase ^?</span><br></pre></td></tr></table></figure>

<p>同时stty还可以查看/设置屏幕高度和宽度</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">stty size</span><br><span class="line">stty rows 100 cols 100</span><br></pre></td></tr></table></figure>

<h3 id="qmv"><a href="#qmv" class="headerlink" title="qmv"></a>qmv</h3><p><code>qmv/qcp/qcmd</code>属于<code>renameutils</code>软件包，可以用编辑器快速对文件重命名，默认使用nano打开文件，可以指定vim打开进行更加高效的操作</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">export EDITOR=vim</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">rename all jpg</span></span><br><span class="line">qmv *.jpg</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">only show target column</span></span><br><span class="line">qmv *.jpg -f do</span><br></pre></td></tr></table></figure>

<p><img src=".images/qmv.gif" alt="qmv"></p>
<h3 id="pidof"><a href="#pidof" class="headerlink" title="pidof"></a>pidof</h3><p>查看进程的pid，效果等同于<code>pgrep</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pgrep xxx</span><br><span class="line">pidof xxx</span><br></pre></td></tr></table></figure>

<h3 id=""><a href="#" class="headerlink" title="$!"></a>$!</h3><p>check last backend jobs’s pid</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> we have a backend <span class="built_in">jobs</span></span></span><br><span class="line">sleep 100 &amp;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">then</span> we can access its pid with</span></span><br><span class="line">echo $!</span><br></pre></td></tr></table></figure>

<h3 id="rg"><a href="#rg" class="headerlink" title="rg"></a>rg</h3><p><code>rg</code>(ripgrep), <code>ag</code>(the silver search) is the newest grep tool, much more faster than grep</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">almost the same useage of grep</span></span><br><span class="line">rg xxx</span><br></pre></td></tr></table></figure>

<h3 id="fd"><a href="#fd" class="headerlink" title="fd"></a>fd</h3><p><code>fd-find</code> is the newest find tool, much more faster then find</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">different with find, but more simple</span></span><br><span class="line">fdfind md$ #</span><br></pre></td></tr></table></figure>

<h3 id="exa"><a href="#exa" class="headerlink" title="exa"></a>exa</h3><p><code>exa</code> is the colorful tool of <code>ls</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">include tree display</span></span><br><span class="line">exa -T</span><br></pre></td></tr></table></figure>

<h3 id="crontab"><a href="#crontab" class="headerlink" title="crontab"></a>crontab</h3><p>crontab can not only used to execute regular task, but also at a specified time, such as reboot</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">execute at reboot</span></span><br><span class="line">@reboot /location/to/script</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">reboot and <span class="built_in">wait</span> <span class="keyword">for</span> a <span class="keyword">while</span></span></span><br><span class="line">@reboot sleep 60 /location/to/script</span><br></pre></td></tr></table></figure>

<h3 id="not-stores-in-history"><a href="#not-stores-in-history" class="headerlink" title="not stores in history"></a>not stores in history</h3><p>if we put a space before command, then it will not store in history</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;cannot find this command in history&quot;</span><br></pre></td></tr></table></figure>

<h3 id="disown"><a href="#disown" class="headerlink" title="disown"></a>disown</h3><p>exit terminal but leave all processes running</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">disown -a &amp;&amp; exit</span><br></pre></td></tr></table></figure>

<h3 id="tmpfs"><a href="#tmpfs" class="headerlink" title="tmpfs"></a>tmpfs</h3><p>create a super fast ram disk</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkdir /mnt/ram</span><br><span class="line">mount -t tmpfs tmpfs /mnt/ram -o size=8G</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">change mount size without reboot</span></span><br><span class="line">mount -o remount,size=4G /mnt/ram</span><br></pre></td></tr></table></figure>

<h3 id="long-commnad"><a href="#long-commnad" class="headerlink" title="long commnad"></a>long commnad</h3><p>use shortcut opening a editor to write long command or multi commands instead of the terminal</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl+x+e</span><br></pre></td></tr></table></figure>

<h3 id="fc"><a href="#fc" class="headerlink" title="fc"></a>fc</h3><p>open a editor to edit the last command you run and then execute it automatically</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/sysconig/network-scripts/ifcfe-en980</span><br><span class="line">fc</span><br></pre></td></tr></table></figure>

<h3 id="catch-log-file"><a href="#catch-log-file" class="headerlink" title="catch log file"></a>catch log file</h3><p>if  the log file is not big enough, we can use <code>less +F</code> instead of <code>tail -f</code>, because with it we can do more control of output. such as we can see old message with <code>ctrl + c</code> and scroll , and than <code>shift + f</code> to the end with tailing</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">less +F file_name</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or press <span class="built_in">shift</span> + f after opening a file when we only use less <span class="built_in">command</span></span></span><br><span class="line">less file_name</span><br><span class="line">shift + f</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">q to quit</span></span><br><span class="line">q</span><br></pre></td></tr></table></figure>

<p>also we can combine this option with <code>-S</code> to wrap long lines, pretty much useful</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">less -S +F file_name</span><br></pre></td></tr></table></figure>

<h3 id="reset"><a href="#reset" class="headerlink" title="reset"></a>reset</h3><p>there is no need to close and reopen you terminal to reset all the things such as variable setting. just typing <code>reset</code> , all will be done</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reset</span><br></pre></td></tr></table></figure>

<h3 id="doas"><a href="#doas" class="headerlink" title="doas"></a>doas</h3><p>I will use <code>doas</code> instead of <code>sudo</code>, because i get confused when i find <code>/etc/sudoers</code> file includes <code>root</code> settings. I wonder why it includes root settings, root has the highest privileges by default. At last i know the reason that with the settings root can use <code>sudo</code> command.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">in</span> archlinux, install opendoas</span></span><br><span class="line">pacman -S opendoas</span><br></pre></td></tr></table></figure>

<p> in order to make it effects, we need create a configure file and write our configuration to it</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">allow all <span class="built_in">users</span> belong to wheel group execute super user <span class="built_in">command</span> without password</span></span><br><span class="line">echo &quot;permit nopass :wheel&quot; &gt; /etc/doas.conf</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<ol>
<li><code>nopass</code> allow us to run command without password</li>
<li>use <code>:</code> before <code>wheel</code> means wheel is a group</li>
</ol>
</blockquote>
<p>serveral days after, i find that i need reinstall <code>sudo</code> package, because some program need sudo, such as <code>psd</code>, build package with <code>aur</code>, without sudo there will be an error occurs.</p>
<h3 id="rsync"><a href="#rsync" class="headerlink" title="rsync"></a>rsync</h3><p><strong>rsync must be installed in two machines if the two machine need to sync files</strong></p>
<p>I have ever used linux nearlly 5 years, however i know the awesome command this days. the main features:</p>
<ol>
<li>It can implement <code>cp</code> <code>scp</code>, but more powerful</li>
<li>It can specified some file to skip</li>
<li>It can delete different files in destination</li>
</ol>
<blockquote>
<p>funny:</p>
<p>I have ever wrote a shell script to backup my linux configure file. There is a satulation that the configure file in linux i have deleted but the backup directory still has the file, it is hard to check which file should be delete, so i delete whole directory and then copy directory to destination. Now, with rsync it seems that much easier.</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--delete will delete destination file <span class="built_in">which</span> not exists <span class="keyword">in</span> <span class="built_in">source</span> directory</span></span><br><span class="line">rsync --include &#x27;*.txt&#x27; --exclude &#x27;*.sh&#x27; --delete -av remoteUser@ip:/remote/directory /local/directory</span><br><span class="line">rsync --include &#x27;*.txt&#x27; --exclude &#x27;*.sh&#x27; --delete -av /local/directory remoteUser@ip:/remote/directory </span><br></pre></td></tr></table></figure>

<h3 id="bat"><a href="#bat" class="headerlink" title="bat"></a>bat</h3><p>a colorful repalcement of <code>cat</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">show text with line number and scroll like less</span></span><br><span class="line">bat -pn</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">show all text with line number at once</span></span><br><span class="line">bat -ppn</span><br></pre></td></tr></table></figure>

<h3 id="cpufetch"><a href="#cpufetch" class="headerlink" title="cpufetch"></a>cpufetch</h3><p>show detail informatioin of cpu</p>
<h3 id="xdotool"><a href="#xdotool" class="headerlink" title="xdotool"></a>xdotool</h3><p>xdotool can do lots of things, such as simulate mouse action, key press, get window properity and so on.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">key press</span></span><br><span class="line">xdotool key &quot;l&quot; &quot;s&quot; return return</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">get current window class name</span></span><br><span class="line">xdotool getwindownfocus getwindowclassname</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">get mouse location</span></span><br><span class="line">xdotool getmouselocation</span><br></pre></td></tr></table></figure>

<h3 id="yad"><a href="#yad" class="headerlink" title="yad"></a>yad</h3><p>yad is gui dialog tool which can be used to launch a dialog for shell input. though i have ever not used xdialog, i think it is much better than xdialog.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">setting with <span class="built_in">timeout</span>,position,length,window title,label text,default placeholder,button position.</span></span><br><span class="line">yad --entry --timeout=5 --center --fixed --title=&#x27;change app transparence&#x27; --entry-label=&quot;App name:&quot; --entry-text=&quot;$currentApp&quot; --buttons-layout=edge</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">also can use text to specified window text</span></span><br><span class="line">yad --entry --timeout=5 --center --fixed --title=&#x27;change app transparence&#x27; --entry-label=&quot;App name:&quot; --entry-text=&quot;$currentApp&quot; --buttons-layout=edge --text=&quot;CHANGE APP TRANSPARENCE&quot;</span><br></pre></td></tr></table></figure>

<h3 id="mount-bind"><a href="#mount-bind" class="headerlink" title="mount bind"></a>mount bind</h3><p>it is a very useful tool much better than <code>ln -sf</code>, <code>ln</code> is a tool to create a link(file) redirect to other position, and <code>mount --bind</code> will mount some folder/file to a specified location at boot time in kernel. so <code>mount --bind</code>‘s operation makes effect to origin location.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">temporary</span></span><br><span class="line">mount --bind /mount/folder /to/mount/point</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">permanent</span></span><br><span class="line">vim /etc/fstab</span><br><span class="line">/mount/folder /to/mount/point    none    rw,bind 0 0</span><br></pre></td></tr></table></figure>

<h3 id="nsenter"><a href="#nsenter" class="headerlink" title="nsenter"></a>nsenter</h3><p>enter new namespace with <code>nsenter</code> command. it is a really useful tool with container if the container don’t have  <code>ip</code> command.  we can use this to  easily get container ip address and route table.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">get container<span class="string">&#x27;s  pid</span></span></span><br><span class="line">pid=`podman inspect -f &#123;&#123;.State.Pid&#125;&#125; container_name`</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">or use ps command</span></span></span><br><span class="line">ps -ef |rg $(ps -ef |rg container_name |awk &#x27;&#123;print $2&#125;&#x27; |head -1) |tail -1 |awk &#x27;&#123;print $2&#125;&#x27;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">get container ip address</span></span></span><br><span class="line">nsenter -t $pid -n ip -c a</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">get container ip route table</span></span></span><br><span class="line">nsenter -t $pid -n ip -c r</span><br></pre></td></tr></table></figure>

<h3 id="ccze"><a href="#ccze" class="headerlink" title="ccze"></a>ccze</h3><p>with <code>ccze</code> the output in terminal will be colorized.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">usage</span></span><br><span class="line">ps -ef |rg firefox |ccze -A</span><br><span class="line"></span><br><span class="line">podman images |ccze -A</span><br></pre></td></tr></table></figure>

<h2 id="SHELL"><a href="#SHELL" class="headerlink" title="SHELL"></a>SHELL</h2><p>some userful, unusual, amazing usage or tips</p>
<h3 id="find-test-shortcut-meaning"><a href="#find-test-shortcut-meaning" class="headerlink" title="find test shortcut meaning"></a>find test shortcut meaning</h3><p>most of time i will forget what the shortcut in shell condition meaning, but now i find a way to find all the shortcut meaning.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man test</span><br></pre></td></tr></table></figure>

<h3 id="grant-privilege-to-normal-user-with-the-owner’s-permission"><a href="#grant-privilege-to-normal-user-with-the-owner’s-permission" class="headerlink" title="grant privilege to normal user with the owner’s permission"></a>grant privilege to normal user with the owner’s permission</h3><p>yeah, i remember to learn <code>setuid</code> and <code>setgid</code>. but still today, i really know <a target="_blank" rel="noopener" href="https://www.liquidweb.com/kb/how-do-i-set-up-setuid-setgid-and-sticky-bits-on-linux/">the right usage of them</a>, and i have to say they are very powerful for our daily use.</p>
<p>as we know some command need root privilege to execute, when i meet this requirement before, i often put this command to <code>sudoers</code> file to make it execute without password, in a fact this method is too stupid. it is simple to resolve with <code>setuid or setgid</code>.</p>
<p><code>setuid and setgid</code> or a command to be executed, it is a property of the command.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">grant user privilege</span></span><br><span class="line">chmod u+s /some/command</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">grant group privilege</span></span><br><span class="line">chmod g+s /some/command</span><br></pre></td></tr></table></figure>

<h3 id="remote-X11-forward-with-ssh"><a href="#remote-X11-forward-with-ssh" class="headerlink" title="remote X11 forward with ssh"></a>remote X11 forward with ssh</h3><p>we can open remote machine’s GUI program in local  with ssh even though remote machine without a full X11 system installed. but local machine must has a full X11 system environment.</p>
<p><strong>remote machine:</strong></p>
<ul>
<li>install xauth and xhost(optional)</li>
<li><code>/etc/ssh/sshd_config</code> allow <code>X11Forwarding, AllowTcpForwarding, X11UseLocalhost</code> to <code>yes</code> and <code>X11DisplayOffset=10</code> </li>
<li>restart ssh</li>
</ul>
<p><strong>local machine:</strong></p>
<ul>
<li>install xauth</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">specify X11 forwarding</span></span><br><span class="line">ssh -X remote_user@remote_ip</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">then</span> open remote gui program such as xterm</span></span><br><span class="line">xterm</span><br></pre></td></tr></table></figure>

<h3 id="use-Xvfb-open-application-without-GUI"><a href="#use-Xvfb-open-application-without-GUI" class="headerlink" title="use Xvfb open application without GUI"></a>use Xvfb open application without GUI</h3><p>as we know there are so many programs load in background and they are be called daemons, however not all of the programs be designed like that, may be we have the need of opening some GUI applications in background and we don’t want to see the GUI each time the system starts.</p>
<p>with <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Xvfb">Xvfb</a> we can do that, it opens GUI application in virtual memory without showing any screen output. in archinux, we can install it with</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S xorg-server-xvfb</span><br></pre></td></tr></table></figure>

<p>according to this <a target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/512356/is-there-any-way-to-launch-gui-application-without-gui">webpage</a>, if we want to run some GUI application in background, we can write like this</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">open a virtual frame buffer called :1</span></span><br><span class="line">Xvfb :1 &amp;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">specify the application to start <span class="keyword">in</span> virtual frame buffer :1</span></span><br><span class="line">DISPLAY=:1 /location/to/gui/application &amp;</span><br></pre></td></tr></table></figure>

<p>may be we can use it in browser testing, and starting pentablet app</p>
<h3 id="the-problem-of-num"><a href="#the-problem-of-num" class="headerlink" title="the problem of num"></a>the problem of num</h3><p>the way to get the hour of system will lead some problem while comparing with this nums, because all num begin with <code>0</code> is recognized as octonary</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hour=`date +%H`</span><br><span class="line"></span><br><span class="line">[[ hour -eq 8 ]] || EXIT</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">[[: 08: value too great <span class="keyword">for</span> base (error token is <span class="string">&quot;08&quot;</span>)</span></span><br></pre></td></tr></table></figure>

<p>the way to fix the problem is adding <code>10#</code> at the begining</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hour=10#`date +%H`</span><br><span class="line">[[ $hour -eq 8 ]] || EXIT</span><br></pre></td></tr></table></figure>

<h3 id="the-problem-of-column-alignment"><a href="#the-problem-of-column-alignment" class="headerlink" title="the problem of column alignment"></a>the problem of column alignment</h3><p><code>column</code> can deal most of column’s alignment, however sometimes i don’t know why it fails, at last i find command  <code>expand</code> can work with <code>column</code> to <a target="_blank" rel="noopener" href="https://unix.stackexchange.com/questions/396223/bash-shell-script-output-alignment">fix the problem</a>.</p>
<p><img src=".images/image-20210809233020904.png" alt="image-20210809233020904"></p>
<h3 id="for-loop-in-shell"><a href="#for-loop-in-shell" class="headerlink" title="for loop in shell"></a>for loop in shell</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for ((i=0; i&lt;5; i++))</span><br><span class="line">do</span><br><span class="line">    echo $i</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h3 id="variable-expansion"><a href="#variable-expansion" class="headerlink" title="variable expansion"></a>variable expansion</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">set</span> default value</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">&#123;var:-default&#125;</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">&#123;var:=default&#125;</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">&#123;var=default&#125;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> variable not defined before <span class="keyword">then</span> give a message</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">&#123;var?message&#125;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cut</span> variable with index and length</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">&#123;var:index:length&#125;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">cut</span> variable with pattern</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">&#123;var<span class="comment">#*pattern&#125; #cut left to the first match</span></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">&#123;var<span class="comment">##*pattern&#125; #cut left to the last match</span></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">&#123;var%pattern*&#125; <span class="comment">#cut right to the first match</span></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">&#123;var%%pattern*&#125; <span class="comment">#cut right to the last match</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">get variable length</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">&#123;<span class="comment">#var&#125;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">show all variables matched with begining of <span class="string">&quot;pre&quot;</span></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">&#123;!pre*&#125;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">variable replace</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">&#123;var/match/replace&#125; <span class="comment">#replace the first one matched</span></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">&#123;var//match/replace&#125; <span class="comment">#replace all matched</span></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">&#123;var/<span class="comment">#match/replace&#125; #only replace the first one matched</span></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">&#123;var/%match/replace&#125; <span class="comment">#only replace the last one matched</span></span></span><br></pre></td></tr></table></figure>

<h3 id="privilege-of-script"><a href="#privilege-of-script" class="headerlink" title="privilege of script"></a>privilege of script</h3><p>sometimes we may meet the problem of privilege in our script as a normal user, because some commands need to be executed with root privilege.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">one method is send root password to sudo</span></span><br><span class="line">echo &quot;password&quot; |sudo -S command</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">another way is giving the script privilege of without password</span></span><br><span class="line">echo &lt;username&gt; ALL=(ALL) NOPASSWD: &lt;/location/to/script&gt;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">then</span> execute script with sudo</span></span><br><span class="line">sudo &lt;/location/to/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="alias-act-as-function"><a href="#alias-act-as-function" class="headerlink" title="alias act as function"></a>alias act as function</h3><p>there is a concept in perl called one liner, with zsh, we can use function to write one liner, but bash cannot. however we can use alias, is it amazing? just think of it a little more deeper, both of them are block code.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">with zsh, <span class="keyword">function</span> can write <span class="keyword">in</span> one line</span></span><br><span class="line">function autoline()&#123;for ((i=0;i&lt;`tput cols`;i++));do echo -n &quot;=&quot;;sleep 0.001;done&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">unset</span> to clear <span class="keyword">function</span> define</span></span><br><span class="line">unset -f autoline()</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">amazing <span class="built_in">alias</span> usage</span></span><br><span class="line">alias autoline=&quot;for ((i=0;i&lt;`tput cols`;i++));do echo -n &quot;=&quot;;sleep 0.001;done&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">unalias</span> to clear <span class="built_in">alias</span> define</span></span><br><span class="line">unalias autoline</span><br></pre></td></tr></table></figure>

<h3 id="use-to-complete-syntax"><a href="#use-to-complete-syntax" class="headerlink" title="use : to complete syntax"></a>use : to complete syntax</h3><p>sometimes we don’t write code in one condition, but need to make sure syntax right, then <code>:</code> comes</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if [ $&#123;a&#125; == 3 ];then</span><br><span class="line">    :</span><br><span class="line">else</span><br><span class="line">    a=0</span><br></pre></td></tr></table></figure>

<h3 id="use-local-to-define-a-local-variable"><a href="#use-local-to-define-a-local-variable" class="headerlink" title="use local to define a local variable"></a>use local to define a local variable</h3><p>in shell, all variable are global by default, expect use <code>local</code> to define</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var=&quot;global variables&quot;</span><br><span class="line">function show()&#123;</span><br><span class="line">    local var=&quot;local variable&quot;</span><br><span class="line">    echo $var</span><br><span class="line">&#125;</span><br><span class="line">show</span><br><span class="line">echo $var</span><br></pre></td></tr></table></figure>

<h3 id="use-type-to-check-command’s-type"><a href="#use-type-to-check-command’s-type" class="headerlink" title="use type to check command’s type"></a>use type to check command’s type</h3><p>can check: alias, function, built-in, executable</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type ls</span><br></pre></td></tr></table></figure>

<h3 id="disable-truncate-file-in-global"><a href="#disable-truncate-file-in-global" class="headerlink" title="disable truncate file in global"></a>disable truncate file in global</h3><p>we commanly use <code>&gt;</code> to truncate a file, <code>&gt;&gt;</code> append to a file. and there has a method to disable truncate file in global in order to less mistake happend</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">disable</span> <span class="built_in">truncate</span> file, now only append to file allowed</span></span><br><span class="line">set -C</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">enable</span> <span class="built_in">truncate</span> file</span></span><br><span class="line">set +C</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<p>unset has totally different usage, it is used for clear variable define: <code>var=5; unset var</code></p>
</blockquote>
<h3 id="array-in-shell"><a href="#array-in-shell" class="headerlink" title="array in shell"></a>array in shell</h3><p>different shell has different usage</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">in</span> bash, it is complex with index</span></span><br><span class="line">array=(1 2 3 4 5)</span><br><span class="line">len=$&#123;#array[@]&#125;</span><br><span class="line">for ((i=0; i&lt;$len; i++))</span><br><span class="line">do</span><br><span class="line">echo $&#123;array[$i]&#125;</span><br><span class="line">done</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">simple usage without index</span></span><br><span class="line">array=(1 2 3 4 5)</span><br><span class="line">for i in $&#123;array[@]&#125;</span><br><span class="line">do</span><br><span class="line">echo $i</span><br><span class="line">done</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">in</span> zsh, it is simple</span></span><br><span class="line">array=(1 2 3 4 5)</span><br><span class="line">for i in $array</span><br><span class="line">do</span><br><span class="line">echo $i</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h3 id="map-in-shell"><a href="#map-in-shell" class="headerlink" title="map in shell"></a>map in shell</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">create associate array</span></span><br><span class="line">declare -A user </span><br><span class="line">user=([name]=xiaoxiao [age]=20 [score]=100) </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">simplify</span></span><br><span class="line">declare -A user=([name]=xiaoxiao [age]=20 [score]=100) </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">add value</span></span><br><span class="line">user[like]=apple</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">get all keys</span></span><br><span class="line">echo $&#123;!user[@]&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">get all values</span></span><br><span class="line">echo $&#123;user[@]&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">get specified value</span></span><br><span class="line">echo $&#123;user[name]&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">get length</span></span><br><span class="line">echo $&#123;#user[@]&#125;</span><br></pre></td></tr></table></figure>

<h3 id="case-convert"><a href="#case-convert" class="headerlink" title="case convert"></a>case convert</h3><p>with <code>declare</code>, we can also convert upper case to low case, other side the same</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">string=&quot;hello world!&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">convert to upper <span class="keyword">case</span></span></span><br><span class="line">declare -u var=$string</span><br><span class="line">echo $var</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">convert to lower <span class="keyword">case</span></span></span><br><span class="line">declare -l var=$string</span><br><span class="line">echo $var</span><br></pre></td></tr></table></figure>

<h3 id="check-run-level"><a href="#check-run-level" class="headerlink" title="check run level"></a>check run level</h3><ul>
<li>0：halt</li>
<li>1：single-user text mode</li>
<li>2：not used (user-definable)</li>
<li>3：full multi-user text mode</li>
<li>4：not used (user-definable)</li>
<li>5：full multi-user graphical mode</li>
<li>6：reboot</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">who -r</span><br><span class="line">systemctl get-default</span><br></pre></td></tr></table></figure>

<h3 id="get-ip-address"><a href="#get-ip-address" class="headerlink" title="get ip address"></a>get ip address</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">use regex</span></span><br><span class="line">ip a |rg -P &#x27;(\d+\.)&#123;3&#125;\d+&#x27;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">use ip <span class="built_in">command</span></span></span><br><span class="line">ip -br -4 -c a</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">some debian/redhat allow this</span></span><br><span class="line">hostname -i</span><br><span class="line">hostname -I</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">use json format</span></span><br><span class="line">ip -j a |jq &#x27;.[].addr_info[0].local&#x27;</span><br></pre></td></tr></table></figure>

<h3 id="check-live-environment"><a href="#check-live-environment" class="headerlink" title="check live environment"></a>check live environment</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">use systemd-detect-virt, almost make sense, owned by systemd</span></span><br><span class="line">systemd-detect-virt</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">use lscpu to check Hypervisor vendor</span></span><br><span class="line">lscpu |grep &quot;Hypervisor vendor&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">use hostnamectl to check Virtualization</span></span><br><span class="line">hostnamectl |grep &quot;Virtualization&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">even use parted to check Model</span></span><br><span class="line">parted /dev/sda1 print |grep &quot;Model&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">use dmesg to check Hypervisor</span></span><br><span class="line">dmesg |grep &quot;Hypervisor detected&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">maybe i will not use this forever, <span class="keyword">for</span> it is so long</span></span><br><span class="line">dmidecode -s system-manufacturer</span><br></pre></td></tr></table></figure>

<h3 id="share-terminal-output-to-remote-user"><a href="#share-terminal-output-to-remote-user" class="headerlink" title="share terminal output to remote user"></a>share terminal output to remote user</h3><p>sometime we need to share our terminal output to other people who is not in local network, and there comes this method</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">netcat is needed</span></span><br><span class="line">pacman -S gnu-netcat</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> example: share our .vimrc to other people</span></span><br><span class="line">bat -ppn .vimrc |nc seashells.io 1337</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">then</span> share the url <span class="built_in">link</span> to other people</span></span><br><span class="line">https://seashells.io/v/Zn3SnvKX</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">we can change it to plain text with replacing /v to /p</span></span><br><span class="line">https://seashells.io/p/Zn3SnvKX</span><br></pre></td></tr></table></figure>

<h3 id="share-terminal-to-remote-user"><a href="#share-terminal-to-remote-user" class="headerlink" title="share terminal to remote user"></a>share terminal to remote user</h3><p>be different from above, this method allows remote user to execute command with our local machine.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">install tmate</span></span><br><span class="line">pacman -S tmate</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">create ssh key <span class="keyword">if</span> not exist</span></span><br><span class="line">ssh-keygen</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">start tmate</span></span><br><span class="line">tmate</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">share url <span class="built_in">link</span> with others</span></span><br><span class="line">tmate show-message</span><br></pre></td></tr></table></figure>

<h3 id="sort-ss-port-number-via-numeric"><a href="#sort-ss-port-number-via-numeric" class="headerlink" title="sort ss port number via numeric"></a>sort ss port number via numeric</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -Hatln |tr -t : \\t |sort -k6n |tr -t \\t :</span><br></pre></td></tr></table></figure>

<h3 id="find-process-working-directory"><a href="#find-process-working-directory" class="headerlink" title="find process working directory"></a>find process working directory</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pwdx `pgrep [processname]`</span><br><span class="line">ls -l /proc/`pgrep [processname]`/cwd</span><br><span class="line">lsof -p `pgrep [processname]` |rg cwd</span><br><span class="line">readlink -e /proc/`pgrep [processname]`/cwd</span><br></pre></td></tr></table></figure>

<h3 id="loop-until-succeed"><a href="#loop-until-succeed" class="headerlink" title="loop until succeed"></a>loop until succeed</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">while ! ping www.bing.com; do sleep 3; done</span><br><span class="line"></span><br><span class="line">until ping www.bing.com; do sleep 3; done</span><br></pre></td></tr></table></figure>

<h3 id="execute-one-command-in-remote-machine"><a href="#execute-one-command-in-remote-machine" class="headerlink" title="execute one command in remote machine"></a>execute one command in remote machine</h3><p>sometimes, we don’t need to login to remote machine if we only want to execute one command, we can use ssh to execute that command in local machine</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh user@ip [command]</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">for</span> example:</span></span><br><span class="line">ssh root@192.168.31.100 free -m</span><br></pre></td></tr></table></figure>

<h3 id="simulate-packages-installation"><a href="#simulate-packages-installation" class="headerlink" title="simulate packages installation"></a>simulate packages installation</h3><p>simulation can help us to check whether there has some dependence we don’t installed in the environment before we actually install packages</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">most package managers have this <span class="keyword">function</span></span></span><br><span class="line">rpm -ivh --test /location/to/rpm/package</span><br></pre></td></tr></table></figure>

<h3 id="repeat-history-command-with-tag"><a href="#repeat-history-command-with-tag" class="headerlink" title="repeat history command with tag"></a>repeat history command with tag</h3><p>this feature is actually a common usage, but almost the time we don’t know it can be used  like this.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">with `<span class="comment">#` we can tag a command</span></span></span><br><span class="line">ip -br -c -4 a # ip4</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">repeat with tag</span></span><br><span class="line">!?#ip4</span><br></pre></td></tr></table></figure>

<h2 id="CTRL-CHARACTER"><a href="#CTRL-CHARACTER" class="headerlink" title="CTRL CHARACTER"></a><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/3844311/how-do-i-replace-or-find-non-printable-characters-in-vim-regex/9277984">CTRL CHARACTER</a></h2><p>linux: <code>\n</code> means return, and <code>$</code> renders as line ending</p>
<p>windows: <code>\r\n</code> means return, and <code>^M$</code> renders as line ending</p>
<blockquote>
<p>Note:</p>
<p>line ending character is not control character, it just renders as the ending of line.</p>
<p>in coding, we may use <code>\n</code> to act as a return action.</p>
</blockquote>
<p>the way to show ctrl character:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cat -A fileName</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">inside vim</span></span><br><span class="line">:set list</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">nolist to turn off</span></span><br><span class="line">:set nolist</span><br></pre></td></tr></table></figure>

<p>the way we type ctrl character in vim: <code>ctrl</code> + <code>v</code> + <code>ctrl_character</code>. such as <code>ctrl+v+c</code>: <code>^C</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">remove all ctrl character <span class="keyword">in</span> vim</span></span><br><span class="line">:%s/[[:cntrl:]]//g</span><br></pre></td></tr></table></figure>

<h2 id="UlIMIT"><a href="#UlIMIT" class="headerlink" title="UlIMIT"></a>UlIMIT</h2><p>there are serveral ways that we can change system limits temporarily or permanently. the simplest way we can find system resource limit is typing <code>ulimit -a</code>.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  ulimit -a</span><br><span class="line">-t: cpu time (seconds)              unlimited</span><br><span class="line">-f: file size (blocks)              unlimited</span><br><span class="line">-d: data seg size (kbytes)          unlimited</span><br><span class="line">-s: stack size (kbytes)             8192</span><br><span class="line">-c: core file size (blocks)         unlimited</span><br><span class="line">-m: resident set size (kbytes)      unlimited</span><br><span class="line">-u: processes                       63668</span><br><span class="line">-n: file descriptors                1024</span><br><span class="line">-l: locked-in-memory size (kbytes)  64</span><br><span class="line">-v: address space (kbytes)          unlimited</span><br><span class="line">-x: file locks                      unlimited</span><br><span class="line">-i: pending signals                 63668</span><br><span class="line">-q: bytes in POSIX msg queues       819200</span><br><span class="line">-e: max nice                        0</span><br><span class="line">-r: max rt priority                 0</span><br><span class="line">-N 15:                              unlimited</span><br></pre></td></tr></table></figure>

<p>the way to find program resource limit is <code>cat /proc/$pid/limits</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">➜  ~  cat /proc/`pgrep firefox`/limits</span><br><span class="line">Limit                     Soft Limit           Hard Limit           Units     </span><br><span class="line">Max cpu time              unlimited            unlimited            seconds   </span><br><span class="line">Max file size             unlimited            unlimited            bytes     </span><br><span class="line">Max data size             unlimited            unlimited            bytes     </span><br><span class="line">Max stack size            8388608              unlimited            bytes     </span><br><span class="line">Max core file size        unlimited            unlimited            bytes     </span><br><span class="line">Max resident set          unlimited            unlimited            bytes     </span><br><span class="line">Max processes             63668                63668                processes </span><br><span class="line">Max open files            4096                 524288               files     </span><br><span class="line">Max locked memory         65536                65536                bytes     </span><br><span class="line">Max address space         unlimited            unlimited            bytes     </span><br><span class="line">Max file locks            unlimited            unlimited            locks     </span><br><span class="line">Max pending signals       63668                63668                signals   </span><br><span class="line">Max msgqueue size         819200               819200               bytes     </span><br><span class="line">Max nice priority         0                    0                    </span><br><span class="line">Max realtime priority     0                    0                    </span><br><span class="line">Max realtime timeout      50000                200000               us    </span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<p>we may find the difference between open files, we need to know that os resource limit only make effect when program not starts with service or systemd or no self defined, such as run program in terminal.</p>
</blockquote>
<h4 id="define-os-resource-limit"><a href="#define-os-resource-limit" class="headerlink" title="define os resource limit"></a>define os resource limit</h4><p><strong>temporary</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ulimit -n 40960</span><br><span class="line">ulimit -u 40960</span><br></pre></td></tr></table></figure>

<p><strong>permanent</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">restarting os needed</span></span><br><span class="line">vim /etc/security/limits.conf</span><br><span class="line"></span><br><span class="line">* soft nofile 40960</span><br><span class="line">* hard nofile 40960</span><br><span class="line">* soft nproc 40960</span><br><span class="line">* hard nproc 40960</span><br></pre></td></tr></table></figure>

<h4 id="service-limit"><a href="#service-limit" class="headerlink" title="service limit"></a>service limit</h4><p>no need to reboot os, stoping program and starting program will be okay(not restart).</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/liit/program_name.conf</span><br><span class="line"></span><br><span class="line">limit nofile 40960 40960</span><br><span class="line">limit nproc 40960 40960</span><br></pre></td></tr></table></figure>

<p>then</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service program_name stop</span><br><span class="line">service program_name start</span><br></pre></td></tr></table></figure>

<p>we can check it by</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/`pgrep program_name`/limits</span><br></pre></td></tr></table></figure>

<h4 id="systemd-limit"><a href="#systemd-limit" class="headerlink" title="systemd limit"></a>systemd limit</h4><p>no need to reboot os</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/lib/systemd/system/program_name.service</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">LimitNOFILE=40960</span><br><span class="line">LimitNPROC=40960</span><br></pre></td></tr></table></figure>

<p>then</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart program_name</span><br></pre></td></tr></table></figure>

<p>different from service we can define all systemd resource limit with</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/systemd/system.conf</span><br><span class="line"></span><br><span class="line">DefaultLimitNOFILE=40960</span><br><span class="line">DefaultLimitNPROC=40960</span><br></pre></td></tr></table></figure>

<h4 id="modify-resource-limit-for-running-program"><a href="#modify-resource-limit-for-running-program" class="headerlink" title="modify resource limit for running program"></a>modify resource limit for running program</h4><p>In the new linux kernel we have a tool called <code>prlimit</code>, with which we can modify program limit when it’s running.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">prlimit -n40960 -p `pgrep program_name`</span><br><span class="line">prlimit -u40960 -p `pgrep program_name`</span><br></pre></td></tr></table></figure>

<p> then check it</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prlimit</span><br></pre></td></tr></table></figure>

<h2 id="UFW"><a href="#UFW" class="headerlink" title="UFW"></a>UFW</h2><p>Uncomplicated Firewall</p>
<p>enable at <strong>boot</strong>, make sure <code>iptables.service</code> not active</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable ufw.service</span><br></pre></td></tr></table></figure>

<p><strong>initialize</strong> at the first time install the package</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw enable</span><br></pre></td></tr></table></figure>

<p><strong>query</strong> rules being applied</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ufw status</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or much more info</span></span><br><span class="line">ufw status verbose</span><br></pre></td></tr></table></figure>

<p>see <strong>default</strong> config</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@s1 ~]# cat /etc/default/ufw |egrep &#x27;^[^#]&#x27;</span><br><span class="line">IPV6=yes</span><br><span class="line">DEFAULT_INPUT_POLICY=&quot;DROP&quot;</span><br><span class="line">DEFAULT_OUTPUT_POLICY=&quot;ACCEPT&quot;</span><br><span class="line">DEFAULT_FORWARD_POLICY=&quot;DROP&quot;</span><br><span class="line">DEFAULT_APPLICATION_POLICY=&quot;SKIP&quot;</span><br><span class="line">MANAGE_BUILTINS=no</span><br><span class="line">IPT_SYSCTL=/etc/ufw/sysctl.conf</span><br><span class="line">IPT_MODULES=&quot;nf_conntrack_ftp nf_nat_ftp nf_conntrack_netbios_ns&quot;</span><br></pre></td></tr></table></figure>

<p><strong>set</strong> default policy</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ufw default allow outgoing</span><br><span class="line">ufw default deny incoming</span><br></pre></td></tr></table></figure>

<p>make changes <strong>effect</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw reload</span><br></pre></td></tr></table></figure>

<p>three <strong>actions</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">allow    # allow connection</span><br><span class="line">limit    # deny connections if an IP address attempts to initiate 6 or more connections within 30 seconds</span><br><span class="line">deny    # deny connection</span><br></pre></td></tr></table></figure>

<p>policy setting with <strong>service name</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ufw limit ssh</span><br><span class="line">ufw allow ftp</span><br><span class="line">ufw deny http</span><br></pre></td></tr></table></figure>

<p>policy setting with <strong>port</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ufw limit 22</span><br><span class="line">ufw allow 21</span><br><span class="line">ufw deny 80</span><br></pre></td></tr></table></figure>

<p>policy setting with <strong>protocol</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ufw limit 22/tcp</span><br><span class="line">ufw allow 21/tcp</span><br><span class="line">ufw deny 80/tcp</span><br></pre></td></tr></table></figure>

<p><strong>delete</strong> policy</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw delete allow 21ufw delete limit sshufw delete deny 80/tcp</span><br></pre></td></tr></table></figure>

<p>via sort number</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">check number</span></span><br><span class="line">ufw status numbered</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">delete via number</span></span><br><span class="line">ufw delete &#123;&#123;number&#125;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>port range</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw allow 10000:65535/tcp</span><br></pre></td></tr></table></figure>

<p><strong>specified ip</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw allow from 192.168.31.12</span><br></pre></td></tr></table></figure>

<p><strong>ip range</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ufw allow from 192.168.31.0/24</span><br></pre></td></tr></table></figure>

<p><strong>ip and port</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ufw allow from 192.168.31.12 to any port 80</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">add protocol</span></span><br><span class="line">ufw allow proto tcp from 10.10.10.10 to 192.168.31.13 port 80 </span><br></pre></td></tr></table></figure>

<h2 id="SYSTEMD"><a href="#SYSTEMD" class="headerlink" title="SYSTEMD"></a>SYSTEMD</h2><p><strong>最实用命令</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看启动配置</span></span><br><span class="line">systemctl cat xxx.service</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看远程服务信息</span></span><br><span class="line">systemctl status xxx.service -H root@192.168.31.110</span><br></pre></td></tr></table></figure>

<p><strong>系统电源控制</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemctl shutdown</span><br><span class="line">systemctl reboot</span><br><span class="line">systemctl halt</span><br><span class="line">systemctl suspend</span><br><span class="line">systemctl hibernate</span><br></pre></td></tr></table></figure>

<h2 id="PORT-DETECT"><a href="#PORT-DETECT" class="headerlink" title="PORT DETECT"></a>PORT DETECT</h2><h3 id="4-ways-to-check-if-a-port-is-open-on-a-remote-linux"><a href="#4-ways-to-check-if-a-port-is-open-on-a-remote-linux" class="headerlink" title="4 ways to check if a port is open on a remote linux"></a>4 ways to check if a port is open on a remote linux</h3><ul>
<li>nc: netcat command</li>
<li>nmap: network mapper tool</li>
<li>telnet: telnet command</li>
<li>echo &gt; /dev/tcp/..</li>
</ul>
<p><strong>netcat</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -zvw10 192.168.0.1 22</span><br></pre></td></tr></table></figure>

<p><strong>nmap</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">namp 192.168.0.1 -p 22</span><br></pre></td></tr></table></figure>

<p><strong>telnet</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet 192.168.0.1 22</span><br></pre></td></tr></table></figure>

<p><strong>echo</strong></p>
<p>the best way, because it is really less dependent only one  built in command <code>echo</code> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">tcp</span></span><br><span class="line">echo &gt; /dev/tcp/192.168.0.1/22 &amp;&amp; echo &quot;port tcp/22 is open&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">udp</span></span><br><span class="line">echo &gt; /dev/udp/192.168.0.1/22 &amp;&amp; echo &quot;port udp/22 is open&quot;</span><br></pre></td></tr></table></figure>

<h3 id="3-ways-to-check-if-a-port-is-open-on-local-machine"><a href="#3-ways-to-check-if-a-port-is-open-on-local-machine" class="headerlink" title="3 ways to check if a port is open on local machine"></a>3 ways to check if a port is open on local machine</h3><ul>
<li>netstat</li>
<li>ss</li>
<li>lsof</li>
</ul>
<p><strong>netstat and ss have the same usage</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">netstat -atulpn</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ss more popular than netstat</span></span><br><span class="line">ss -atulpn</span><br></pre></td></tr></table></figure>

<p><strong>lsof</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo lsof -i:22</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Note:</p>
<p>lsof need to be executed with <strong>root privilege</strong> because it need to search kernel file</p>
</blockquote>
<h2 id="KILLERS"><a href="#KILLERS" class="headerlink" title="KILLERS"></a>KILLERS</h2><p>if you don’t know this commands, i have not to say that you will die!</p>
<h3 id="SED"><a href="#SED" class="headerlink" title="SED"></a>SED</h3><h2 id="Selections"><a href="#Selections" class="headerlink" title="Selections"></a>Selections</h2><p>Clipboard is a buffer used for short-term data storage. It is mainly used to transfer data within and between applications, via <strong>cut</strong>, <strong>copy</strong> and <strong>paste</strong> operations. Clipboard is usually temporary and unnamed place that resides in your Computer’s <strong>RAM</strong>. </p>
<p>The clipboards are called <strong>“Selections”</strong> and there are three types of clipboards available in <strong>X11</strong> window system in Linux. They are:</p>
<ul>
<li><strong>PRIMARY</strong> - This is normally used when copy/paste data using Mouse middle button.</li>
<li><strong>SECONDARY</strong> - It is not used used much, but exists.</li>
<li><strong>CLIPBOARD</strong> - This is used for explicit copy/paste commands via Keyboard using <code>ctrl+c</code> and <code>ctrl+v</code> keys and via menu items.</li>
</ul>
<p>In xterm, we can use mouse button1 to select, button3 to paste with some configuration. In firefox, we can use addon <code>copy on select</code> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">~/.Xresources</span></span><br><span class="line">&lt;Btn1Up&gt;: select-end(CLIPBOARD,PRIMARY,CUT_BUFFER0) </span><br><span class="line">&lt;Btn3Down&gt;: insert-selection(CLIPBOARD,PRIMARY,CUT_BUFFER0) </span><br></pre></td></tr></table></figure>

<h2 id="DISCUSS"><a href="#DISCUSS" class="headerlink" title="DISCUSS"></a>DISCUSS</h2><h4 id="how-centos-6-download-package-with-repository"><a href="#how-centos-6-download-package-with-repository" class="headerlink" title="how centos 6 download package with repository?"></a>how centos 6 download package with repository?</h4><p>centos7是可以直接使用yum下载安装包的，但是在centos6上不行，因为官方的镜像仓库已经下架。但是并不是说我们就真的无法使用了，<a target="_blank" rel="noopener" href="https://vault.centos.org/">这个网站</a>依旧有cantos6的镜像仓库，修改之后可可以了</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">we can access that website though linux.kernel.org or</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">directly visit https://vault.centos.org to find the <span class="built_in">link</span> we need</span></span><br><span class="line">rpm -ivh http://dl.fedoraproject.org/pub/epel/6/i386/epel-release-6-8.noarch.rpm</span><br><span class="line">wget http://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-5.noarch.rpm</span><br></pre></td></tr></table></figure>

<h4 id="how-centos-download-package-with-all-of-its-dependences"><a href="#how-centos-download-package-with-all-of-its-dependences" class="headerlink" title="how centos download package with all of its dependences?"></a>how centos download package with all of its dependences?</h4><p>centos上提供了一个下载插件，通过<code>downloadonly</code>可以下载软件及其依赖。需要注意只有在对应的系统版本上下载的依赖才不会导致其它依赖的版本冲突，所以确保下载安装包的系统和准备安装这些包的系统版本一致。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">in</span> centos6</span></span><br><span class="line">yum install yum-plugin-downloadonly</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> our system has never install that package</span></span><br><span class="line">yum install --downloadonly --downloaddir=&lt;directory&gt; &lt;package&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> the package already exist <span class="keyword">in</span> our system</span></span><br><span class="line">yum reinstall --downloadonly --downloaddir=&lt;directory&gt; &lt;package&gt;</span><br></pre></td></tr></table></figure>

<p>还有另外一个软件也提供了相同的功能</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">yum-utils include yumdownloader package</span></span><br><span class="line">yum install yum-utils</span><br><span class="line">yumdownloader &lt;package&gt;</span><br></pre></td></tr></table></figure>

<h4 id="how-WSL-download-python-using-China-repo"><a href="#how-WSL-download-python-using-China-repo" class="headerlink" title="how WSL download python using China repo?"></a>how WSL download python using China repo?</h4><p>首先需要下载gunpg，因为换源后需要key认证，默认没有这个软件，需提前下载</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install gnupg</span><br></pre></td></tr></table></figure>

<p>然后添加国内源: 添加以下信息添加到<code>/etc/apt/source.list</code>文件中</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.163.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ bionic main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure>

<p>更新源会报错某些key无法识别，需要进行认证</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">eg:</span></span><br><span class="line">sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 82EB5823F4FE239D</span><br></pre></td></tr></table></figure>

<p>重新更新源，并下载python</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install python3 python3-pip</span><br></pre></td></tr></table></figure>

<h4 id="Why-was-I-able-to-delete-a-file-owned-by-root-in-my-home-directory-without-being-root"><a href="#Why-was-I-able-to-delete-a-file-owned-by-root-in-my-home-directory-without-being-root" class="headerlink" title="Why was I able to delete a file owned by root in my home directory without being root?"></a><a target="_blank" rel="noopener" href="https://serverfault.com/questions/726907/why-was-i-able-to-delete-a-file-owned-by-root-in-my-home-directory-without-being">Why was I able to delete a file owned by root in my home directory without being root?</a></h4><p>I got a situation that i cannot edit a file owned by root but can delete it in my home directory. And i was confused such a long time, finally find the answer. whether a file can be delete or not is depend on the folder where file stores in but not the permission of file, the file permission will decide whether you can modified it or not.</p>

        </div>

        

        
            <ul class="post-tags-box">
                
                    <li class="tag-item">
                        <a href="/tags/linux/">#linux</a>&nbsp;
                    </li>
                
            </ul>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2022/04/23/vboxdiskResize/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">vboxdiskResize</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2022/04/23/tcp-3-handshake/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">tcp_3_handshake</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>
              -
            
            2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">shutterbug</a>
        </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#TERMINAL"><span class="nav-number">1.</span> <span class="nav-text">TERMINAL</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#SHORTCUT"><span class="nav-number">1.1.</span> <span class="nav-text">SHORTCUT</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GREAT-WORKFLOW"><span class="nav-number">1.2.</span> <span class="nav-text">GREAT WORKFLOW</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#COMMAND"><span class="nav-number">1.3.</span> <span class="nav-text">COMMAND</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#wrap-terminal-long-line"><span class="nav-number">1.3.1.</span> <span class="nav-text">wrap terminal long line</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#last-command"><span class="nav-number">1.3.2.</span> <span class="nav-text">last command</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mktemp"><span class="nav-number">1.3.3.</span> <span class="nav-text">mktemp</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#trap"><span class="nav-number">1.3.4.</span> <span class="nav-text">trap</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sshfs"><span class="nav-number">1.3.5.</span> <span class="nav-text">sshfs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#stty"><span class="nav-number">1.3.6.</span> <span class="nav-text">stty</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#qmv"><span class="nav-number">1.3.7.</span> <span class="nav-text">qmv</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pidof"><span class="nav-number">1.3.8.</span> <span class="nav-text">pidof</span></a></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">1.3.9.</span> <span class="nav-text">$!</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rg"><span class="nav-number">1.3.10.</span> <span class="nav-text">rg</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#fd"><span class="nav-number">1.3.11.</span> <span class="nav-text">fd</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#exa"><span class="nav-number">1.3.12.</span> <span class="nav-text">exa</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#crontab"><span class="nav-number">1.3.13.</span> <span class="nav-text">crontab</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#not-stores-in-history"><span class="nav-number">1.3.14.</span> <span class="nav-text">not stores in history</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#disown"><span class="nav-number">1.3.15.</span> <span class="nav-text">disown</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tmpfs"><span class="nav-number">1.3.16.</span> <span class="nav-text">tmpfs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#long-commnad"><span class="nav-number">1.3.17.</span> <span class="nav-text">long commnad</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#fc"><span class="nav-number">1.3.18.</span> <span class="nav-text">fc</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#catch-log-file"><span class="nav-number">1.3.19.</span> <span class="nav-text">catch log file</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#reset"><span class="nav-number">1.3.20.</span> <span class="nav-text">reset</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#doas"><span class="nav-number">1.3.21.</span> <span class="nav-text">doas</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rsync"><span class="nav-number">1.3.22.</span> <span class="nav-text">rsync</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bat"><span class="nav-number">1.3.23.</span> <span class="nav-text">bat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cpufetch"><span class="nav-number">1.3.24.</span> <span class="nav-text">cpufetch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#xdotool"><span class="nav-number">1.3.25.</span> <span class="nav-text">xdotool</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#yad"><span class="nav-number">1.3.26.</span> <span class="nav-text">yad</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mount-bind"><span class="nav-number">1.3.27.</span> <span class="nav-text">mount bind</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#nsenter"><span class="nav-number">1.3.28.</span> <span class="nav-text">nsenter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ccze"><span class="nav-number">1.3.29.</span> <span class="nav-text">ccze</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SHELL"><span class="nav-number">1.4.</span> <span class="nav-text">SHELL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#find-test-shortcut-meaning"><span class="nav-number">1.4.1.</span> <span class="nav-text">find test shortcut meaning</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#grant-privilege-to-normal-user-with-the-owner%E2%80%99s-permission"><span class="nav-number">1.4.2.</span> <span class="nav-text">grant privilege to normal user with the owner’s permission</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#remote-X11-forward-with-ssh"><span class="nav-number">1.4.3.</span> <span class="nav-text">remote X11 forward with ssh</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#use-Xvfb-open-application-without-GUI"><span class="nav-number">1.4.4.</span> <span class="nav-text">use Xvfb open application without GUI</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#the-problem-of-num"><span class="nav-number">1.4.5.</span> <span class="nav-text">the problem of num</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#the-problem-of-column-alignment"><span class="nav-number">1.4.6.</span> <span class="nav-text">the problem of column alignment</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for-loop-in-shell"><span class="nav-number">1.4.7.</span> <span class="nav-text">for loop in shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#variable-expansion"><span class="nav-number">1.4.8.</span> <span class="nav-text">variable expansion</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#privilege-of-script"><span class="nav-number">1.4.9.</span> <span class="nav-text">privilege of script</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#alias-act-as-function"><span class="nav-number">1.4.10.</span> <span class="nav-text">alias act as function</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#use-to-complete-syntax"><span class="nav-number">1.4.11.</span> <span class="nav-text">use : to complete syntax</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#use-local-to-define-a-local-variable"><span class="nav-number">1.4.12.</span> <span class="nav-text">use local to define a local variable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#use-type-to-check-command%E2%80%99s-type"><span class="nav-number">1.4.13.</span> <span class="nav-text">use type to check command’s type</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#disable-truncate-file-in-global"><span class="nav-number">1.4.14.</span> <span class="nav-text">disable truncate file in global</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#array-in-shell"><span class="nav-number">1.4.15.</span> <span class="nav-text">array in shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#map-in-shell"><span class="nav-number">1.4.16.</span> <span class="nav-text">map in shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#case-convert"><span class="nav-number">1.4.17.</span> <span class="nav-text">case convert</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#check-run-level"><span class="nav-number">1.4.18.</span> <span class="nav-text">check run level</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#get-ip-address"><span class="nav-number">1.4.19.</span> <span class="nav-text">get ip address</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#check-live-environment"><span class="nav-number">1.4.20.</span> <span class="nav-text">check live environment</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#share-terminal-output-to-remote-user"><span class="nav-number">1.4.21.</span> <span class="nav-text">share terminal output to remote user</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#share-terminal-to-remote-user"><span class="nav-number">1.4.22.</span> <span class="nav-text">share terminal to remote user</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sort-ss-port-number-via-numeric"><span class="nav-number">1.4.23.</span> <span class="nav-text">sort ss port number via numeric</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#find-process-working-directory"><span class="nav-number">1.4.24.</span> <span class="nav-text">find process working directory</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#loop-until-succeed"><span class="nav-number">1.4.25.</span> <span class="nav-text">loop until succeed</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#execute-one-command-in-remote-machine"><span class="nav-number">1.4.26.</span> <span class="nav-text">execute one command in remote machine</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#simulate-packages-installation"><span class="nav-number">1.4.27.</span> <span class="nav-text">simulate packages installation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#repeat-history-command-with-tag"><span class="nav-number">1.4.28.</span> <span class="nav-text">repeat history command with tag</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CTRL-CHARACTER"><span class="nav-number">1.5.</span> <span class="nav-text">CTRL CHARACTER</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UlIMIT"><span class="nav-number">1.6.</span> <span class="nav-text">UlIMIT</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#define-os-resource-limit"><span class="nav-number">1.6.0.1.</span> <span class="nav-text">define os resource limit</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#service-limit"><span class="nav-number">1.6.0.2.</span> <span class="nav-text">service limit</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#systemd-limit"><span class="nav-number">1.6.0.3.</span> <span class="nav-text">systemd limit</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#modify-resource-limit-for-running-program"><span class="nav-number">1.6.0.4.</span> <span class="nav-text">modify resource limit for running program</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UFW"><span class="nav-number">1.7.</span> <span class="nav-text">UFW</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SYSTEMD"><span class="nav-number">1.8.</span> <span class="nav-text">SYSTEMD</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PORT-DETECT"><span class="nav-number">1.9.</span> <span class="nav-text">PORT DETECT</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-ways-to-check-if-a-port-is-open-on-a-remote-linux"><span class="nav-number">1.9.1.</span> <span class="nav-text">4 ways to check if a port is open on a remote linux</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-ways-to-check-if-a-port-is-open-on-local-machine"><span class="nav-number">1.9.2.</span> <span class="nav-text">3 ways to check if a port is open on local machine</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#KILLERS"><span class="nav-number">1.10.</span> <span class="nav-text">KILLERS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#SED"><span class="nav-number">1.10.1.</span> <span class="nav-text">SED</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Selections"><span class="nav-number">1.11.</span> <span class="nav-text">Selections</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DISCUSS"><span class="nav-number">1.12.</span> <span class="nav-text">DISCUSS</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#how-centos-6-download-package-with-repository"><span class="nav-number">1.12.0.1.</span> <span class="nav-text">how centos 6 download package with repository?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#how-centos-download-package-with-all-of-its-dependences"><span class="nav-number">1.12.0.2.</span> <span class="nav-text">how centos download package with all of its dependences?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#how-WSL-download-python-using-China-repo"><span class="nav-number">1.12.0.3.</span> <span class="nav-text">how WSL download python using China repo?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Why-was-I-able-to-delete-a-file-owned-by-root-in-my-home-directory-without-being-root"><span class="nav-number">1.12.0.4.</span> <span class="nav-text">Why was I able to delete a file owned by root in my home directory without being root?</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/local-search.js"></script>






<div class="post-scripts pjax">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/toc.js"></script>
    
</div>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
