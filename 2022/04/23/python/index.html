<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="shutterbug">
    
    <title>
        
            python |
        
        Screw it!
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.svg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"raw.githubusercontent.com","root":"/","language":"en","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":false,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.svg","favicon":"/images/logo.svg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/4.jpg","description":"the world you see is not about how they act but how we respond."},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":false},"code_copy":{"enable":false,"style":"default"},"pjax":{"enable":true},"lazyload":{"enable":false},"version":"3.4.5"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fas fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                Screw it!
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                CATEGORIES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                TAGS
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">CATEGORIES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">TAGS</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">python</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.svg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">shutterbug</span>
                        
                            <span class="author-label">Lv5</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;
        <span class="pc">2022-04-23 23:09:35</span>
        <span class="mobile">2022-04-23 23:09</span>
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/learn/">learn</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/python/">python</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h1 id="PYTHON"><a href="#PYTHON" class="headerlink" title="PYTHON"></a>PYTHON</h1><p>python is a dynamic language, very powerful, useful and simple to use.</p>
<h2 id="python-interpreter"><a href="#python-interpreter" class="headerlink" title="python interpreter"></a>python interpreter</h2><p>because python is a dynamic language, a interpreter is needed for using. there are two ways to install python interpreter:</p>
<ol>
<li><p>install from  source code, this way need compiling,  and it is complex, download <a class="link"   target="_blank" rel="noopener" href="https://www.python.org/downloads/" >in official website<i class="fas fa-external-link-alt"></i></a>, uncompress then compile</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">make test</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure></li>
<li><p>if we use linux distribution, it is easy to download with package manager.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">such as <span class="keyword">in</span> archlinux</span></span><br><span class="line">pacman -S python</span><br></pre></td></tr></table></figure></li>
</ol>
<p>after installing, check it’s version</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python --version</span><br></pre></td></tr></table></figure>



<h2 id="pip"><a href="#pip" class="headerlink" title="pip"></a>pip</h2><p>what is pip? it is a package manager of python module. let’s install it.</p>
<p><strong>install</strong></p>
<p>note that there are two pip package available,</p>
<ul>
<li>pip2: this is used for python2</li>
<li>pip3:  this is used for python3</li>
</ul>
<p>so, which one should we choose depend on which python version we use.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python --version</span><br></pre></td></tr></table></figure>

<p>in centos:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">epel repo needed</span></span><br><span class="line">yum install epel-release</span><br><span class="line">yum install python2-pip</span><br></pre></td></tr></table></figure>

<p>in archlinux:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S python-pip</span><br></pre></td></tr></table></figure>

<p><strong>repo config</strong></p>
<p>in defalut, download speed is very slow. we need to modify mirror configuration</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure>

<p>the command will change mirror to tnua, and we can find the config in <code>~/.config/pip/pip.conf</code></p>
<p><strong>module location</strong></p>
<p>command to find the default position</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m site</span><br></pre></td></tr></table></figure>

<p>be careful the <code>USER_SITE</code> value, it stores the package location pip installed</p>
<p>now let us to see where is the config file</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m site --help</span><br></pre></td></tr></table></figure>

<p>the config file is <code>/usr/lib/python3.8/site.py</code></p>
<p>then we can change the default value to any other site you want, such as</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USER_SITE = &quot;/home/narcissus/Software/python_lib&quot;</span><br></pre></td></tr></table></figure>

<p>from now on, we use pip command install packages, they will be stored in customized position</p>
<p>example:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pandas --user</span><br></pre></td></tr></table></figure>






<h2 id="代码风格"><a href="#代码风格" class="headerlink" title="代码风格"></a>代码风格</h2><ul>
<li><p>python代码的一个很明显的特点就是缩进。代码块是通过缩进来组织的，代码块使用冒号<code>:</code>来标识</p>
</li>
<li><p>单行注释使用<code>#</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 单行注释</span></span><br></pre></td></tr></table></figure></li>
<li><p>多行注释使用<code>&quot;&quot;&quot; &quot;&quot;&quot;</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">多行</span></span><br><span class="line"><span class="string">注释</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>一行代码拆分多行使用<code>\</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">user = &#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;snippet&quot;</span>,\</span><br><span class="line">        <span class="string">&quot;age&quot;</span>:<span class="string">&quot;12&quot;</span>,\</span><br><span class="line">        <span class="string">&quot;gender&quot;</span>:<span class="string">&quot;male&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="built_in">print</span>(user[<span class="string">&quot;age&quot;</span>])</span><br></pre></td></tr></table></figure></li>
<li><p>命名规范</p>
<ul>
<li><p>类命名：<br>使用大驼峰的规范，即每个单词都以大写字母开头</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserInfo</span>():</span><br><span class="line">    name = <span class="string">&quot;python&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>变量命名：</p>
<ol>
<li>第一种：小驼峰，即第一个单词小写开头，其余字母大写开头<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">baiduUrl = <span class="string">&quot;https://www.baidu.com&quot;</span></span><br></pre></td></tr></table></figure></li>
<li>第二种：所有字母全部小写，并用<code>_</code>连接，我比较喜欢这个<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">baidu_url = <span class="string">&quot;https://www.baidu.com&quot;</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
</li>
</ul>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="作用："><a href="#作用：" class="headerlink" title="作用："></a>作用：</h3><ul>
<li>变量是一个字符串，用来保存数据的内存地址，指向内存中数据Data的位置。</li>
<li>变量所保存的内存地址可以被改变，所以变量可变</li>
<li>如果在程序中多处都要使用到这个数据，那么使用变量则可以只修改一个地方就行</li>
</ul>
<h3 id="赋值："><a href="#赋值：" class="headerlink" title="赋值："></a>赋值：</h3><ul>
<li><p>由于python是解释型语言，所以在声明变量时，不需要指定变量的类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;xiaotianquan&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p>还可以一次性赋值多个</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name,age,like = <span class="string">&quot;gou&quot;</span>,<span class="number">2</span>,<span class="string">&quot;food&quot;</span></span><br><span class="line"><span class="built_in">print</span>(name,age,like)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><p>直接写变量名即可</p>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="标准数据类型："><a href="#标准数据类型：" class="headerlink" title="标准数据类型："></a>标准数据类型：</h3><ol>
<li><p>数字</p>
<p> 直接写数字，不加引号，加了引号作为字符串</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">3</span></span><br></pre></td></tr></table></figure></li>
<li><p>字符串 str</p>
<p> 用引号括起来的作为字符串，可以使用单引号和双引号<br> 这两种没有区别，因为没有变量置换（shell和perl中）这种操作，它使用的是拼接</p>
</li>
<li><p>布尔 True/False</p>
<p> 在python中，布尔值也可以作为数字使用<br> True = 1, False = 0</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(age+<span class="literal">True</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>列表 list</p>
<p> 用<code>[]</code>表示，可以存储不同类型的数据</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(data)</span><br></pre></td></tr></table></figure>

<p> 切片操作</p>
<ul>
<li>使用<code>:</code>，取出指定范围的数据，可以使用函数<code>id()</code>查看取出数据的内存地址<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>[start_index:end_index:step]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">data1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 作用为复制列表，使用频率高，有效的避免对原数组数据造成破坏</span></span><br><span class="line">data2 = data1[:]</span><br><span class="line"><span class="comment"># 内存地址不同</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(data1),<span class="built_in">id</span>(data2))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 与data[:]作用相同，-1为最后一个元素的索引</span></span><br><span class="line">data3 = data1[<span class="number">0</span>:-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定位置,前闭后开[)</span></span><br><span class="line">data4 = data1[<span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定步幅</span></span><br><span class="line">data4 = data1[::<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 逆序</span></span><br><span class="line">data8 = data1[-<span class="number">1</span>::-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 负数索引</span></span><br><span class="line">data5 = data1[-<span class="number">3</span>:-<span class="number">1</span>]</span><br></pre></td></tr></table></figure></li>
</ul>
<p> 其它</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除指定元素</span></span><br><span class="line">data6 = data1.remove(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从后往前取出数据（删除）</span></span><br><span class="line">data7 = data1.pop()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 乘</span></span><br><span class="line">data9 = data1 * <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表生成式</span></span><br><span class="line">data10 = [ i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>) ]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 嵌套</span></span><br><span class="line">data11 = [data,data10]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 循环取出嵌套数据</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> data11:</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> i:</span><br><span class="line">        <span class="built_in">print</span>(j)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 如果嵌套的两个list元素个数一致，可以使用一层嵌套即可取出所有值</span></span><br><span class="line">la = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">lb = [<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>]</span><br><span class="line">lc = [la,lb]</span><br><span class="line"><span class="keyword">for</span> i,j,k,l <span class="keyword">in</span> lc:</span><br><span class="line">    <span class="built_in">print</span>(i,j,k,l)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看list元素个数</span></span><br><span class="line"><span class="built_in">len</span>(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 全部为数字时，可以取最大值，最小值</span></span><br><span class="line"><span class="built_in">max</span>(la)</span><br><span class="line"><span class="built_in">min</span>(la)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看某个元素存在多少个</span></span><br><span class="line">la.count(<span class="number">1</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>元组 tuple</p>
<p> 使用<code>()</code>，为一个不可修改列表，大部分用法与list一致</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">data = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个只有一个元素的tuple，后面需要一个逗号</span></span><br><span class="line">data = (<span class="number">1</span>,)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(data))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以不加括号</span></span><br><span class="line">data = <span class="number">1</span>,</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(data))</span><br><span class="line">data = <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(data))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建空的tuple</span></span><br><span class="line">data = <span class="built_in">tuple</span>()</span><br><span class="line">data = ()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过list创建tuple</span></span><br><span class="line">mylist = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">9</span>)]</span><br><span class="line">data = <span class="built_in">tuple</span>(mylist)</span><br><span class="line"></span><br><span class="line"><span class="comment"># tuple的特殊用法，两个元素交换</span></span><br><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line">a,b = b,a</span><br></pre></td></tr></table></figure></li>
<li><p>集合 set</p>
<ul>
<li><p>数据有序，而且不可重复,具有取出重复的作用</p>
</li>
<li><p>通过list和tuple来生成集合</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>]</span><br><span class="line">b = <span class="built_in">set</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(b))</span><br><span class="line"><span class="built_in">print</span>(b)</span><br></pre></td></tr></table></figure></li>
<li><p>通过<code>&#123;&#125;</code>来定义集合</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))</span><br></pre></td></tr></table></figure></li>
<li><p>集合没有索引，只能for循环取出元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = &#123;i**<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>)&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure></li>
<li><p>集合运算</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = &#123;i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">5</span>)&#125;</span><br><span class="line">b = &#123;i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>,<span class="number">7</span>)&#125;</span><br><span class="line"><span class="comment"># 交集</span></span><br><span class="line">c = a.intersection(b)</span><br><span class="line"><span class="comment"># 并集</span></span><br><span class="line">d = a.union(b)</span><br><span class="line"><span class="comment"># 差集</span></span><br><span class="line">e = a.difference(b)</span><br></pre></td></tr></table></figure></li>
<li><p>让集合不可修改</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = &#123; i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">5</span>)&#125;</span><br><span class="line">b = <span class="built_in">frozenset</span>(a)</span><br></pre></td></tr></table></figure></li>
</ul>
<p> 其它 </p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成奇数、偶数集合</span></span><br><span class="line">a = &#123;i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>) <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>&#125;</span><br><span class="line">b = &#123;i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>) <span class="keyword">if</span> i % <span class="number">2</span> != <span class="number">0</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除集合中的数，如果不存在则会报错</span></span><br><span class="line">sa = &#123;i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>)&#125;</span><br><span class="line">sa.remove(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除集合中的数，如果不存在不会报错</span></span><br><span class="line">sa.discard(<span class="number">11</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 集合中也有pop函数，但是是随机的</span></span><br><span class="line">sa.pop()</span><br></pre></td></tr></table></figure>
</li>
<li><p>字典 dict</p>
<p> 输入字典数，以及字典数据，进行去重（相同key值相加），排序</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line">lt = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">    <span class="comment"># map可同时设置数据类型</span></span><br><span class="line">    a,b = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line">    <span class="keyword">if</span> a <span class="keyword">in</span> lt.keys():</span><br><span class="line">        lt[a] += b</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        lt[a] = b</span><br><span class="line"><span class="comment"># sorted可对字典进行排序，key可以使用lambda来指定使用key或者value排序</span></span><br><span class="line">lt = <span class="built_in">sorted</span>(lt.items(), key=<span class="keyword">lambda</span> a: a)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> lt:</span><br><span class="line">    <span class="built_in">print</span>(i[<span class="number">0</span>], i[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="数据类型嵌套-对象"><a href="#数据类型嵌套-对象" class="headerlink" title="数据类型嵌套-对象"></a>数据类型嵌套-对象</h3><p>在list，tuple，set，dict中均可以存储对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    name = <span class="string">&quot;ls&quot;</span></span><br><span class="line">    age = <span class="number">21</span></span><br><span class="line">user = User()</span><br><span class="line"></span><br><span class="line">a = [user]</span><br><span class="line">b = (user,)</span><br><span class="line">c = &#123;user&#125;</span><br><span class="line">d = &#123;<span class="string">&quot;obj&quot;</span>:user&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a),<span class="built_in">type</span>(b),<span class="built_in">type</span>(c),<span class="built_in">type</span>(d))</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">0</span>].name,b[<span class="number">0</span>].name,d[<span class="string">&quot;obj&quot;</span>].name)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> c:</span><br><span class="line">    <span class="built_in">print</span>(i.name,i.age)</span><br></pre></td></tr></table></figure>


<h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><ul>
<li>算数运算符</li>
<li>关系运算符</li>
<li>赋值运算符</li>
<li>逻辑运算符</li>
<li>位运算</li>
<li>成员运算符</li>
<li>身份运算符</li>
</ul>
<h2 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h2><ul>
<li>python没有自增自减运算符</li>
<li>包括：<ul>
<li>加 <code>+</code></li>
<li>减 <code>-</code></li>
<li>乘 <code>*</code></li>
<li>除<ul>
<li>普通除法 <code>/</code></li>
<li>取余 <code>%</code></li>
<li>取整 <code>//</code></li>
</ul>
</li>
</ul>
</li>
<li>所有运算符都可以使用运算赋值的缩写：<br>  <code>+=</code>，<code>-=</code>，<code>*=</code>,<code>/=</code>,<code>%=</code>,<code>//=</code>  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">a += <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br></pre></td></tr></table></figure>
  已经有运算赋值这两个操作了，所以不能再赋值</li>
</ul>
<h2 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h2><p>比较运算的结果一定为一个布尔值：True/False</p>
<ul>
<li>等于 <code>==</code></li>
<li>不等于 <code>!=</code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">3</span>!=<span class="number">4</span>)</span><br></pre></td></tr></table></figure></li>
<li>其它<ul>
<li><code>&gt;</code></li>
<li><code>&gt;=</code></li>
<li><code>&lt;</code></li>
<li><code>&lt;=</code></li>
</ul>
</li>
</ul>
<h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><p>使用等号来赋值<code>=</code>，将数据data赋值给变量</p>
<h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><p>返回结果为True/False</p>
<ul>
<li>and</li>
<li>or</li>
<li>not</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> a == <span class="number">3</span> <span class="keyword">or</span> a == <span class="number">2</span> :</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;true&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;false&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="成员运算符"><a href="#成员运算符" class="headerlink" title="成员运算符"></a>成员运算符</h2><p>用来检测一个值或者变量是否在一个集合中,返回结果为True/False</p>
<ul>
<li>in</li>
<li>not in<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">b = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">5</span>)]</span><br><span class="line">c = a <span class="keyword">in</span> b</span><br><span class="line">d = a <span class="keyword">not</span> <span class="keyword">in</span> b</span><br><span class="line"><span class="built_in">print</span>(c,d)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="身份运算符"><a href="#身份运算符" class="headerlink" title="身份运算符"></a>身份运算符</h2><p>用来判断两个变量是否一致,返回结果为True/False</p>
<ul>
<li>is</li>
<li>is not<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">1</span></span><br><span class="line">c = <span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">is</span> b)</span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">is</span> c)</span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">is</span> <span class="keyword">not</span> c)</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="程序结构"><a href="#程序结构" class="headerlink" title="程序结构"></a>程序结构</h1><ul>
<li>顺序<br>  程序从上到下依次执行</li>
<li>循环<br>  <code>for</code><br>  <code>while</code></li>
<li>分支<br>  <code>if</code></li>
</ul>
<h2 id="分支结构"><a href="#分支结构" class="headerlink" title="分支结构"></a>分支结构</h2><p><em>这里的条件表达式只要是返回结果为True/False即可</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件表达式:</span><br><span class="line">    语句<span class="number">1</span></span><br><span class="line"><span class="keyword">elif</span> 条件表达式:</span><br><span class="line">    语句<span class="number">2</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    语句<span class="number">3</span></span><br></pre></td></tr></table></figure>

<p>举例1：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">user = <span class="built_in">input</span>(<span class="string">&quot;type your name: &quot;</span>)</span><br><span class="line"><span class="keyword">if</span> user == <span class="string">&quot;root&quot;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;you are the admin&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> user == <span class="string">&quot;narcissus&quot;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;you are the normal user&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;you are the user not in group sudo&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>举例2：空字符串为假</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="string">&quot;&quot;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;true&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;false&quot;</span>)</span><br></pre></td></tr></table></figure>


<h2 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h2><h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><p><em>用来遍历序列中的所有元素</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 变量 <span class="keyword">in</span> 序列:</span><br><span class="line">    语句</span><br></pre></td></tr></table></figure>

<p>举例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>

<ul>
<li>循环中的条件跳转<ul>
<li>break 终止循环</li>
<li>continue 跳过continue后的语句</li>
<li>pass 没有实际作用，用来占位</li>
</ul>
</li>
</ul>
<p>举例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,<span class="number">20</span>):</span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="built_in">str</span>(i) + <span class="string">&quot;能被2整除&quot;</span>)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">elif</span> i % <span class="number">3</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="built_in">str</span>(i) + <span class="string">&quot;能被3整除&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><p>当条件成立时，一直循环。这个条件必须要有终止，否则会形成死循环。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 条件表达式:</span><br><span class="line">    语句</span><br></pre></td></tr></table></figure>

<p>举例1：<br>求a，b的最小公约数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">2</span></span><br><span class="line">b = <span class="number">5</span></span><br><span class="line">c = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> c % a != <span class="number">0</span> <span class="keyword">or</span> c % b != <span class="number">0</span>:</span><br><span class="line">    c += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(a,b,c)</span><br></pre></td></tr></table></figure>

<p>举例2：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="number">3</span>:</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        num =  <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;num&quot;</span>))</span><br><span class="line">        a = <span class="number">5</span> / num</span><br><span class="line">        <span class="built_in">print</span>(a)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;输入非零整数&quot;</span>)</span><br></pre></td></tr></table></figure>


<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><ul>
<li><p>命名<br>一般采用:<code>动词_名词</code>的形式</p>
</li>
<li><p>意义<br>复用代码</p>
</li>
<li><p>定义</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">函数名</span>():</span><br><span class="line">    语句</span><br></pre></td></tr></table></figure></li>
<li><p>调用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">函数名()</span><br></pre></td></tr></table></figure></li>
<li><p>举例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_time</span>():</span><br><span class="line">    now = time.strftime(<span class="string">&quot;%Y%m%d-%H:%M:%S&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(now)</span><br><span class="line">get_time()</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><ul>
<li><p>分类方式1：</p>
<ul>
<li><p>形参：在写函数时，括号中的那个参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="built_in">print</span>(name)</span><br></pre></td></tr></table></figure></li>
<li><p>实参：在函数调用时括号中传入的参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">get_name(<span class="string">&quot;小舞&quot;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>分类方式2：</p>
<ul>
<li><p>位置参数：在传参时必须一一对应</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">normal</span>(<span class="params">name,age,like</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#123;&#125; is &#123;&#125; years old and like &#123;&#125;&quot;</span>.<span class="built_in">format</span>(name,age,like))</span><br><span class="line">normal(<span class="string">&quot;小舞&quot;</span>,<span class="number">20</span>,<span class="string">&quot;star&quot;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>关键字参数：在传参时不必一一对应，而是使用参数名来设置参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">keyword</span>(<span class="params">name,age,like</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#123;&#125; is &#123;&#125; years old and like &#123;&#125;&quot;</span>.<span class="built_in">format</span>(name,age,like))</span><br><span class="line">keyword(age=<span class="number">20</span>, name=<span class="string">&quot;小舞&quot;</span>, like=<span class="string">&quot;star&quot;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>默认参数: 给参数设置默认值，如果不传则使用默认值，不过默认参数后面不能写位置参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">default</span>(<span class="params">a,b,c=<span class="number">1</span></span>):</span><br><span class="line">    <span class="built_in">print</span>((a + b) / c)</span><br><span class="line">default(<span class="number">1</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>收集参数：在不确定会传入参数个数的情况下使用</p>
<ol>
<li>如果后面还有位置参数，那么位置参数会作为关键字参数，而且位置不能变</li>
<li>如果有两个星号，那么表示收集所有参数包括关键字参数<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">collection</span>(<span class="params">*count</span>):</span><br><span class="line">    <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> count:</span><br><span class="line">        <span class="built_in">sum</span> += i</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line">collection(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
</li>
</ul>
<pre><code>def collection(*count,another=1):
sum = 0
for i in count:
    sum += i
return sum + another
collection(1,2,3,4,another=5)
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- 分解参数：</span><br><span class="line">    1. 将list和元组作为参数传给函数时</span><br><span class="line">    ```python</span><br><span class="line">    def expend(*args):</span><br><span class="line">        sum = 0 </span><br><span class="line">        for i in args:</span><br><span class="line">            sum += i</span><br><span class="line">        return sum</span><br><span class="line">    a = (i for i in range(1,10))</span><br><span class="line">    b = [i for i in range(1,10)]</span><br><span class="line">    print(expend(*a))</span><br><span class="line">    print(expend(*b))</span><br></pre></td></tr></table></figure>

    2. 将字典作为参数传给函数时
    <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">expend</span>(<span class="params">**args</span>):</span><br><span class="line">    <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> args:</span><br><span class="line">        <span class="built_in">sum</span> += args[i]</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line">c = &#123;<span class="string">&quot;a&quot;</span>:<span class="number">1</span>,<span class="string">&quot;b&quot;</span>:<span class="number">2</span>,<span class="string">&quot;c&quot;</span>:<span class="number">3</span>&#125;</span><br><span class="line">expend(**c)</span><br></pre></td></tr></table></figure>
</code></pre>
<h2 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h2><ul>
<li>函数可以有返回值，也可以没有返回值，使用<code>return</code>来返回执行结果</li>
<li>但是在python中还是推荐有返回值，如果没有实际值返回可以返回一个<code>None</code></li>
<li>函数一旦执行return之后函数就会结束，return后面的语句不会执行</li>
</ul>
<p>举例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sum</span>(<span class="params">a,b</span>):</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">a = <span class="built_in">sum</span>(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line">c = <span class="number">1</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plus</span>():</span><br><span class="line">    <span class="keyword">global</span> c</span><br><span class="line">    c += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"><span class="comment"># 函数没有返回值，每次调用函数c的值就自增1</span></span><br><span class="line">plus()</span><br><span class="line"><span class="built_in">print</span>(c)</span><br></pre></td></tr></table></figure>

<p>计算九九乘法表：我写的挺复杂</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">    x = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> x &lt;= y:</span><br><span class="line">        <span class="built_in">print</span>(<span class="built_in">str</span>(x) + <span class="string">&quot;*&quot;</span> + <span class="built_in">str</span>(y) + <span class="string">&quot;=&quot;</span> + <span class="built_in">str</span>(x*y) \</span><br><span class="line">        + <span class="string">&quot; &quot;</span>,end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        x += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> x &gt; y:</span><br><span class="line">            <span class="built_in">print</span>(end=<span class="string">&quot;\n&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>简单写法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,y+<span class="number">1</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125;*&#123;&#125;=&#123;&#125;\t&#x27;</span>.<span class="built_in">format</span>(x,y,x*y),end=<span class="string">&quot;&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>()</span><br></pre></td></tr></table></figure>

<p>三角形</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>-y):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;   &quot;</span>,end=<span class="string">&quot;&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">2</span>*y):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot; 1 &quot;</span>,end=<span class="string">&quot;&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>()</span><br></pre></td></tr></table></figure>


<h2 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h2><p>函数直接或者间接调用自己，需要有结束条件</p>
<p>优缺点：</p>
<ul>
<li>优点：书写理解简单</li>
<li>缺点：执行速度慢</li>
</ul>
<p>写法：</p>
<ul>
<li><p>结束条件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">plus</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"><span class="comment"># 这个函数调用时，传入1，得到plus(1) = 1</span></span><br><span class="line"><span class="comment"># 不能这么写，这么写是错误的</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plus</span>(<span class="params">num</span>):</span><br><span class="line">    plus(<span class="number">1</span>) = <span class="number">1</span></span><br></pre></td></tr></table></figure></li>
<li><p>返回自己</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">plus</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> num + plus(num-<span class="number">1</span>)</span><br><span class="line">plus(<span class="number">100</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>举例：斐波拉契数列</p>
</li>
</ul>
<p>普通写法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1, 1, 2, 3, 5, 8, 13.....</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">num</span>):</span><br><span class="line">    a = b = i = <span class="number">1</span></span><br><span class="line">    <span class="built_in">sum</span> = <span class="number">1</span> <span class="keyword">if</span> num == <span class="number">1</span> <span class="keyword">else</span> <span class="number">2</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; num-<span class="number">1</span>:</span><br><span class="line">        a,b = b,a+b</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">        <span class="built_in">sum</span> = <span class="built_in">sum</span> + b </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;第&#123;&#125;个斐波拉契数为：&#123;&#125;，总数为：&#123;&#125;&quot;</span>.<span class="built_in">format</span>(num,b,<span class="built_in">sum</span>)) </span><br><span class="line">fun(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>使用递归写法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1, 1, 2, 3, 5, 8, 13.....</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">1</span> <span class="keyword">or</span> num == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> fib(num-<span class="number">1</span>) + fib(num-<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fib_list</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,num+<span class="number">1</span>):</span><br><span class="line">        <span class="built_in">print</span>(fib(i))</span><br><span class="line">fib_list(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<h2 id="尾递归"><a href="#尾递归" class="headerlink" title="尾递归"></a>尾递归</h2><p>对比普通写法和递归的写法，递归函数在调用40次时已经停止调用了，而且在求同一个斐波拉契数的时候，普通写法速度秒杀递归写法。普通写法单线程求第十万个斐波拉契数不到一秒，第一百万个斐波拉契数约六秒。所以递归函数不适合复杂计算</p>
<p>递归函数为什么慢？因为递归函数运行时，每一次调用都会返回一个<code>表达式</code>，不能返回一个确定的值，那么原函数的参数，逻辑结构等这些都不能修改，每次计算机在调用函数时会使用堆栈，每调用一个函数会增加一层栈帧，所以当递归过程多次调用函数的时候可能会导致大小有限的堆栈溢出。优化方式之一是尾递归</p>
<p>为什么尾递归可以优化？尾递归与递归都需要调用自身，看起来没多大区别（我刚开始也没看懂），但是尾递归每次都不是返回的表达式，而是返回的一个函数，至于计算结果，那是通过变量的形式进行传递的，这么做的好处就是不用开新的栈，而是刷新原函数，将参数传递进去就好了。所以做到了优化，但是python中即使是使用了尾递归，次数仍然只能达到999次。并不是真正意义上的尾递归</p>
<p>在很多时候我们都是在刷新变量的值，而并不是重新用一个别的变量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">    <span class="built_in">sum</span> += i</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure>

<p>尾递归的斐波拉契函数写法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1, 1, 2, 3, 5, 8, 13.....</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>(<span class="params">num, first=<span class="number">1</span>, second=<span class="number">1</span>, <span class="built_in">sum</span>=<span class="number">2</span></span>):</span><br><span class="line">    <span class="keyword">if</span> num == <span class="number">2</span> <span class="keyword">or</span> num == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> second,<span class="built_in">sum</span></span><br><span class="line">    <span class="keyword">return</span> fib(num-<span class="number">1</span>, second, first+second, <span class="built_in">sum</span>+first+second)</span><br><span class="line">fib(<span class="number">7</span>)</span><br></pre></td></tr></table></figure>
<p>利用三目运算简写</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>(<span class="params">num, first=<span class="number">1</span>, second=<span class="number">1</span>, <span class="built_in">sum</span>=<span class="number">2</span></span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> <span class="keyword">if</span> num == <span class="number">1</span> <span class="keyword">else</span>(<span class="built_in">sum</span>  <span class="keyword">if</span> num == <span class="number">2</span> <span class="keyword">else</span> fib(num-<span class="number">1</span>, second, first+second, <span class="built_in">sum</span>+first+second))</span><br><span class="line">fib(<span class="number">7</span>)</span><br></pre></td></tr></table></figure>
<p>通过上面尾递归的写法，可以看出函数调用自身的作用类似于计数，真正计算的过程在参数中。其实类似于普通函数的写法</p>
<h2 id="函数的使用"><a href="#函数的使用" class="headerlink" title="函数的使用"></a>函数的使用</h2><p>在python中一切皆是对象，所以函数也是对象，函数名指向的是代码段的内存地址</p>
<ul>
<li><p>作为元素使用：放在list，tuple，set，dict中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">user</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">one = user()</span><br><span class="line">a = [one]</span><br></pre></td></tr></table></figure></li>
<li><p>作为参数传递给函数</p>
</li>
<li><p>可以被赋值</p>
</li>
<li><p>作为函数的返回值</p>
</li>
</ul>
<h1 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h1><p>在linux相关的运维上，有很多都是处理字符串，所以字符串有点重要的</p>
<h2 id="路径问题"><a href="#路径问题" class="headerlink" title="路径问题"></a>路径问题</h2><p>在很多情况下，输入路径需要各种转义才行，为了避免这种麻烦，使用<code>r</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">location = <span class="string">r&#x27;c:\user\kite\desktop&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(location)</span><br></pre></td></tr></table></figure>

<h2 id="变量替换（字符串拼接、格式化）"><a href="#变量替换（字符串拼接、格式化）" class="headerlink" title="变量替换（字符串拼接、格式化）"></a>变量替换（字符串拼接、格式化）</h2><ul>
<li><p><code>%</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;i like %s and %s&quot;</span>%(<span class="string">&quot;cat&quot;</span>,<span class="string">&quot;dog&quot;</span>))</span><br></pre></td></tr></table></figure></li>
<li><p><code>format</code>函数，使用<code>&#123;&#125;</code></p>
<ul>
<li><p>直接使用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;i like &#123;&#125; and &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;cat&quot;</span>,<span class="string">&quot;dog&quot;</span>))</span><br></pre></td></tr></table></figure></li>
<li><p>使用变量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&quot;i like &#123;&#125; and &#123;&#125;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a.<span class="built_in">format</span>(<span class="string">&quot;cat&quot;</span>,<span class="string">&quot;dog&quot;</span>))</span><br></pre></td></tr></table></figure></li>
<li><p>指定位置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&quot;i like &#123;0&#125; and &#123;0&#125; and &#123;1&#125;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a.<span class="built_in">format</span>(<span class="string">&quot;cat&quot;</span>,<span class="string">&quot;dog&quot;</span>))</span><br></pre></td></tr></table></figure></li>
<li><p>使用命名：</p>
<ul>
<li>我觉得这种还不错，虽然字多了一点，但是很清晰<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&quot;i like &#123;animal&#125; and &#123;animal&#125; and &#123;drink&#125;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a.<span class="built_in">format</span>(animal=<span class="string">&quot;cat&quot;</span>,drink=<span class="string">&quot;juice&quot;</span>))</span><br></pre></td></tr></table></figure></li>
<li>在传入的参数比较多时，使用字典是最好的,需要使用到参数分解，这个是目前我觉得最好的<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&quot;i like &#123;animal&#125; and &#123;animal&#125; and &#123;drink&#125;&quot;</span></span><br><span class="line">b = &#123;<span class="string">&quot;animal&quot;</span>:<span class="string">&quot;cat&quot;</span>,<span class="string">&quot;drink&quot;</span>:<span class="string">&quot;juice&quot;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(a.<span class="built_in">format</span>(**b))</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>指定数字长度</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&quot;pi is &#123;:.2f&#125;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a.<span class="built_in">format</span>(<span class="number">1.1314</span>))</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="判断类函数"><a href="#判断类函数" class="headerlink" title="判断类函数"></a>判断类函数</h2><p>函数以<code>is</code>开头，返回值为<code>True</code>/<code>False</code></p>
<h2 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h2><p>字符串的关键字为<code>str</code>，通过str来查看帮助文档</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">help</span>(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure>

<p>举例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">r&quot;https://www.baidu.com&quot;</span></span><br><span class="line"><span class="comment"># 查找，索引，未找到返回-1</span></span><br><span class="line">url.find(<span class="string">&quot;http&quot;</span>)</span><br><span class="line"><span class="comment"># 从指定位置开始查找，优化查找速度</span></span><br><span class="line">url.find(<span class="string">&quot;d&quot;</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从右边查找，查找字符在结尾时优化查找速度</span></span><br><span class="line">url.rfind(<span class="string">&quot;m&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找，索引，未找到报错</span></span><br><span class="line">url.index(<span class="string">&quot;h&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 开头，结尾，返回True，False</span></span><br><span class="line">url.startswith(<span class="string">&quot;https&quot;</span>)</span><br><span class="line">url.endswith(<span class="string">&quot;com&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 是否全大小写,返回True，False</span></span><br><span class="line">url.isupper()</span><br><span class="line">url.islower()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 大小写转换</span></span><br><span class="line">url.upper()</span><br><span class="line">url.lower()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 首字母大写</span></span><br><span class="line">url.capitalize()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不带参数代表空格，去除开头结尾空格</span></span><br><span class="line">error = <span class="string">r&quot;   https://www.baidu.com   &quot;</span></span><br><span class="line">a = error.strip()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 带参数去除开头结尾指定字符</span></span><br><span class="line">url.strip(<span class="string">&quot;https&quot;</span>)</span><br></pre></td></tr></table></figure>


<h1 id="类与对象"><a href="#类与对象" class="headerlink" title="类与对象"></a>类与对象</h1><p>类通过class来定义，对象由类实例化而来。类的作用在于为对象提供一个模板，它包含了属性和函数。最重要的是类提供了继承，封装，多态这三大特性。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 实例化</span></span><br><span class="line">xiaolu = User()</span><br></pre></td></tr></table></figure>
<p>查看类的所有方法：<code>__dict__</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span>.__dict__</span><br></pre></td></tr></table></figure>

<h2 id="类属性和方法"><a href="#类属性和方法" class="headerlink" title="类属性和方法"></a>类属性和方法</h2><p>在类定义之后，就在内存中保存了类的属性和方法，可以直接调用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    name = <span class="string">&quot;jounr&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.name</span><br><span class="line"><span class="built_in">print</span>(User.name)</span><br><span class="line"><span class="built_in">print</span>(User.get_name(User))</span><br></pre></td></tr></table></figure>

<ul>
<li><p>实例方法：使用最多的方法，需要将类实例化成为对象，通过对象调用方法</p>
</li>
<li><p>静态方法：</p>
<ul>
<li>不需要实例化，通过类直接调用</li>
<li>静态方法包装在staticmethod类的对象中，定义中没有self，可直接通过类来调用方法<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">tellme</span>():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i am a static method,without self&quot;</span>)</span><br><span class="line">    tellme = <span class="built_in">staticmethod</span>(tellme)</span><br><span class="line"></span><br><span class="line">MyClass.tellme()</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>类方法：</p>
<ul>
<li>不需要实例化，通过类直接调用，如果调用需要传参的函数，则将类自己作为参数传递进去</li>
<li>类方法包装在classmethod类的对象中，参数为cls，虽然可以通过对象来调用，但是实际上cls还是会关联到类的方法<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">tellme</span>(<span class="params">cls</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i am a class method,with args sls&quot;</span>)</span><br><span class="line">    tellme = <span class="built_in">classmethod</span>(tellme)</span><br><span class="line"></span><br><span class="line">MyClass.tellme()</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h2><ul>
<li>上面的类方法和静态方法，需要手动写，但是可以通过使用装饰器来自动包装</li>
<li>用来替代手工包装，可用于包装任何可调用对象，还可用于方法和函数。装饰器可以有多个，指定多个时，应用的顺序与列出的顺序相反<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span>():</span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">tellme</span>():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;new decorator&quot;</span>)</span><br><span class="line">MyClass.tellme()</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="self"><a href="#self" class="headerlink" title="self"></a>self</h2><ul>
<li>self作为一个参数，常常用在类的函数中，但并不是所有类的函数都需要这个参数</li>
<li>self并不是一个关键字，也可以用其它的替代</li>
<li>如果这个函数需要访问类的属性，那么需要self这个参数，它用来指代实例自身</li>
<li>如果这个函数不需要访问类的属性，那么不需要self这个参数</li>
<li>在有self的时候，首先会看函数自己是否定义属性，如果没有，则访问类的属性<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    age = <span class="number">20</span></span><br><span class="line">    <span class="built_in">id</span> = <span class="number">1</span></span><br><span class="line">    qq = <span class="number">102832343</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">info</span>():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.age</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_qq</span>(<span class="params">self</span>):</span><br><span class="line">        self.qq = <span class="number">2312323123</span></span><br><span class="line">        <span class="keyword">return</span> self.qq,self.age</span><br><span class="line">one = User()</span><br><span class="line">one.info()</span><br><span class="line"><span class="built_in">print</span>(one.get_age())</span><br><span class="line"><span class="built_in">print</span>(one.get_qq())</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><ul>
<li><p>继承父类的属性，函数等。避免了代码的冗余，也可重写父类的方法</p>
</li>
<li><p>将父类作为参数传递给子类</p>
</li>
<li><p>子类可以继承自多个类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    name = <span class="string">&quot;one&quot;</span></span><br><span class="line">    age = <span class="number">20</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.name</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Customer</span>():</span><br><span class="line">    <span class="built_in">id</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Realone</span>(User,Customer):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">a = Realone()</span><br><span class="line">a.get_name()</span><br><span class="line"><span class="built_in">print</span>(a.<span class="built_in">id</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>子类扩充父类的方法：使用<code>super()</code>调用父类方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    name = <span class="string">&quot;journal&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.name)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SomeOne</span>(<span class="title class_ inherited__">User</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_info</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().get_name()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;attend super&quot;</span>)</span><br><span class="line"></span><br><span class="line">a = SomeOne()</span><br><span class="line">a.get_info())</span><br></pre></td></tr></table></figure></li>
<li><p>检测是否为子类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">issubclass</span>(Realone,User))</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h2><ul>
<li><p>在类实例化的时候第一个自动调用的函数，作用是给对象初始化一些数据</p>
</li>
<li><p>必须有参数self,函数名为<code>__init__</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.name = <span class="string">&quot;lixingyun&quot;</span></span><br><span class="line"></span><br><span class="line">a = User()</span><br><span class="line"><span class="built_in">print</span>(a.name)</span><br></pre></td></tr></table></figure></li>
<li><p>通过继承，扩展父类的构造函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        <span class="built_in">print</span>(name)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 直接写父类的init方法，只能写一个父类，不推荐使用</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">One</span>(<span class="title class_ inherited__">User</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        <span class="comment"># 先调用父类的init函数</span></span><br><span class="line">        User.__init__(self,name)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;initial finish&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以自动向上寻找父类的init方法，父类没有写死，推荐使用</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Two</span>(<span class="title class_ inherited__">User</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        <span class="built_in">super</span>(Two,self).__init__(name)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;initial finish&quot;</span>)</span><br><span class="line"></span><br><span class="line">a = One(<span class="string">&quot;小小&quot;</span>)</span><br><span class="line">b = Two(<span class="string">&quot;小小&quot;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>构造函数默认被继承</p>
</li>
<li><p>如果定义了自己的构造函数，那么父类的构造函数不再被继承。也叫重写父类函数</p>
</li>
</ul>
<h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><p>封装即为对对象成员进行访问限制</p>
<ul>
<li><p>私有：最高级别的限制，只能在当前类或者对象中访问。通过在变量前加<code>__</code>实现</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    __name = <span class="string">&quot;喜洋洋&quot;</span></span><br><span class="line">    __age = <span class="number">20</span></span><br><span class="line">one = User()</span><br><span class="line"><span class="comment"># 无法直接访问</span></span><br><span class="line"><span class="built_in">print</span>(one.name)</span><br></pre></td></tr></table></figure>
<p>其实私有也不是真的无法访问，还是可以访问的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(one._User__age)</span><br></pre></td></tr></table></figure></li>
<li><p>受保护的：在外部不可访问，可以在内部和子类中访问。通过在变量前加<code>_</code>实现</p>
</li>
<li><p>公有的：任何地方都可以使用</p>
</li>
</ul>
<h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><ul>
<li>同一个对象在不同情况下有不同的状态</li>
<li>在python中是一种设计思想，并没有语法要求，其实我也搞不懂</li>
</ul>
<h2 id="类的函数转属性"><a href="#类的函数转属性" class="headerlink" title="类的函数转属性"></a>类的函数转属性</h2><p>类中的get，set，del函数可以转换为属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.name</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_name</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">one = User(<span class="string">&quot;小小&quot;</span>)</span><br><span class="line">one.get_name()</span><br><span class="line">one.set_name(<span class="string">&quot;小青&quot;</span>)</span><br><span class="line">one.get_name()</span><br></pre></td></tr></table></figure>

<p>可以使用<code>property(get,set,del)</code>函数对get，set，del封装。将函数转换为一个属性值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.name</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_name</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">    sname = <span class="built_in">property</span>(get_name, set_name)</span><br><span class="line"></span><br><span class="line">two = User(<span class="string">&quot;小二&quot;</span>)</span><br><span class="line">two.sname</span><br><span class="line">two.sname = <span class="string">&quot;可可&quot;</span></span><br><span class="line">two.sname</span><br></pre></td></tr></table></figure>

<h2 id="类的内置属性"><a href="#类的内置属性" class="headerlink" title="类的内置属性"></a>类的内置属性</h2><ul>
<li><code>__dict__</code>： 显示类的属性和方法</li>
<li><code>__doc__</code>： 类的说明文档</li>
<li><code>__name__</code>： 类的名称</li>
<li><code>__bases__</code>： 类的所有父类</li>
</ul>
<h2 id="类的魔法函数"><a href="#类的魔法函数" class="headerlink" title="类的魔法函数"></a>类的魔法函数</h2><p>不需要手动调用，达到触发条件，自动调用</p>
<ul>
<li><p><code>__init__</code>： 初始化类的属性</p>
</li>
<li><p><code>__call__</code>： 当对象被当做函数使用的时候，调用此函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;此时对象被当做函数调用了&quot;</span>)</span><br><span class="line">one = User()</span><br><span class="line">one()</span><br></pre></td></tr></table></figure></li>
<li><p><code>__str__</code>： 当对象被当做字符串使用的时候，调用此函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;此时对象被当做字符串使用了&quot;</span></span><br><span class="line">one = User()</span><br><span class="line"><span class="built_in">print</span>(one)</span><br></pre></td></tr></table></figure></li>
<li><p><code>__getattr__</code>： 当访问一个不存在的属性时，调用此函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getattr__</span>(<span class="params">self,method</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;此函数不存在&quot;</span></span><br><span class="line"></span><br><span class="line">one = User()</span><br><span class="line"><span class="built_in">print</span>(one.age)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="抽象"><a href="#抽象" class="headerlink" title="抽象"></a>抽象</h2><ul>
<li>抽象方法</li>
</ul>
<p>定义了方法，但没有实现</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>抽象类</p>
<ul>
<li>必须导入模块<code>abc</code></li>
<li>抽象类不可以实例化，必须继承后实例化，继承的子类需要实现所有的继承来的抽象方法</li>
<li>作用为设定类的标准</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> abc</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>(metaclass=abc.ABCMeta):</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 定义抽象方法</span></span><br><span class="line"><span class="meta">    @abc.abstractmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 定义类抽象方法</span></span><br><span class="line"><span class="meta">    @abc.abstractclassmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 定义静态抽象方法</span></span><br><span class="line"><span class="meta">    @abc.abstractstaticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_id</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 定义普通方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_qq</span>(<span class="params">self,qq</span>):</span><br><span class="line">        self.qq = qq</span><br></pre></td></tr></table></figure>

<h2 id="组装类"><a href="#组装类" class="headerlink" title="组装类"></a>组装类</h2><p>函数名可以作为变量使用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">he</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line"></span><br><span class="line">User.he = he</span><br><span class="line">one = User()</span><br><span class="line">one.he()</span><br></pre></td></tr></table></figure>



<h1 id="Package"><a href="#Package" class="headerlink" title="Package"></a>Package</h1><p>package is a collection of modules, which must be included with a file called <code>__init__.py</code></p>
<ul>
<li><p>how to import a package</p>
<ul>
<li><p>import all include <code>__init__.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> package_name</span><br><span class="line"></span><br><span class="line">package_name.function_name()</span><br><span class="line">package_name.class_name.function_name()</span><br></pre></td></tr></table></figure></li>
<li><p>only import specify module,except <code>__init__.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> package_name.module_name <span class="keyword">as</span> md1</span><br><span class="line"></span><br><span class="line">md1.function_name()</span><br><span class="line">md1.class_name()</span><br></pre></td></tr></table></figure></li>
<li><p>another way import should be mentiond</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> package_name <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure>
<p>the way import only import function and class which in <code>__init__.py</code></p>
</li>
</ul>
</li>
</ul>
<h2 id="module"><a href="#module" class="headerlink" title="module"></a>module</h2><p>a module is a file contains python code.it’s suffix with .py</p>
<ul>
<li><p>why we need module?</p>
<ul>
<li>shrink program,make it easy to maintain</li>
<li>module can be reused</li>
<li>used as a namespace,reduce name conflict</li>
</ul>
</li>
<li><p>how to use module?</p>
<ul>
<li><p>import directily</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> module_name</span><br><span class="line"></span><br><span class="line">module_name.function_name()</span><br><span class="line">module_name.class_name()</span><br></pre></td></tr></table></figure></li>
<li><p>if the module name prefix with num such as 2.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> importlib</span><br><span class="line"></span><br><span class="line">variable = importlib.import_module(<span class="string">&quot;02&quot;</span>)</span><br><span class="line"></span><br><span class="line">variable.function_name()</span><br><span class="line">variable.class_name()</span><br></pre></td></tr></table></figure></li>
<li><p>use as rename module when the name of module is long</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> module_name <span class="keyword">as</span> somename</span><br></pre></td></tr></table></figure></li>
<li><p>import module’s class or function,not whole module</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> module_name <span class="keyword">import</span> someclass,somefunction</span><br><span class="line"></span><br><span class="line">variable1 = someclass()</span><br><span class="line">variable2 = somefunction()</span><br></pre></td></tr></table></figure></li>
<li><p>import all class and function</p>
</li>
</ul>
<p>  the benifit of it is writing class or function directily without module name prefix</p>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> module_name <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">variable = someclass()</span><br></pre></td></tr></table></figure></li>
<li><p>where modules store?</p>
<ul>
<li><p>default location</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> sys.path:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure></li>
<li><p>add own module location</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">sys.path.append(directory)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="the-entrance-of-code"><a href="#the-entrance-of-code" class="headerlink" title="the entrance of code"></a>the entrance of code</h2><ul>
<li>in genreal,all entrance of code should be started with this</li>
<li>it can control whether to execute some code,if used as a code which will be execute,if used as a module which will not be execute</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;first execute code&quot;</span>)</span><br></pre></td></tr></table></figure>



<h1 id="Error-catch"><a href="#Error-catch" class="headerlink" title="Error catch"></a>Error catch</h1><p>some days ago,i really don’t know why we need to catch error.in my mind,i think we should not write code with error.until one day,i get a problem,i need to create a temporary table first and then delete it every time the script run.and the error appeard.some times the table isn’t exist,when execute the delete code,the program broken.at last i use error catch to avoid the error</p>
<p>eg:get user type in</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    num = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;num:&quot;</span>))</span><br><span class="line">    result = <span class="number">100</span> / num</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;not a none zero number&quot;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>syntax<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment"># can raise error by hand</span></span><br><span class="line">    <span class="keyword">raise</span> some_error_type</span><br><span class="line"><span class="comment"># if it is the error below(tuple),execute this code</span></span><br><span class="line"><span class="keyword">except</span> (error_type1,error_type2...):</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment"># exit() can exit the program</span></span><br><span class="line">    exit()</span><br><span class="line"><span class="comment"># we can print error infomation</span></span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line"><span class="comment"># Exception is the supper of all except type</span></span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    ...</span><br><span class="line"><span class="comment"># if not in the error above execute this code</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    ...</span><br><span class="line"><span class="comment"># what ever error happend,will execute this code</span></span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="Time-mudule"><a href="#Time-mudule" class="headerlink" title="Time mudule"></a>Time mudule</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># get time now with format</span></span><br><span class="line">now = time.strftime(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># another way to get the format time</span></span><br><span class="line">hour = time.localtime().tm_hour</span><br><span class="line"></span><br><span class="line"><span class="comment"># get the timestamp</span></span><br><span class="line">unique = time.time()</span><br><span class="line"></span><br><span class="line"><span class="comment"># sleep</span></span><br><span class="line">time.sleep(second_number)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> timeit</span><br><span class="line"></span><br><span class="line"><span class="comment"># calcute program execute time with number times repeat</span></span><br><span class="line">t1 = timeit.timeit(stmt=<span class="string">&quot;[i for i in range(10)]&quot;</span>,number=<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">number</span>():</span><br><span class="line">    lt = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        lt.append(i)</span><br><span class="line"></span><br><span class="line">t2 = timeit.timeit(stmt=number,number=<span class="number">100</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="comment"># convert string to date</span></span><br><span class="line">a = datetime.date(<span class="number">2020</span>,<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">b= datetime.time(<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line">c = datetime.datetime(<span class="number">2020</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"></span><br><span class="line"><span class="comment"># get the current datetime</span></span><br><span class="line">d = datetime.date.today()</span><br><span class="line"><span class="built_in">print</span>(d)</span><br></pre></td></tr></table></figure>


<h1 id="OS-module"><a href="#OS-module" class="headerlink" title="OS module"></a>OS module</h1><p>associated with operate system</p>
<p>three important modules:</p>
<ul>
<li>os</li>
<li>os.path, used for path</li>
<li>shutil, used for directory,file</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> = os.getcwd()</span><br><span class="line"></span><br><span class="line">os.chdir(<span class="string">&quot;../&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># get file and dir of current directory with out hidden file</span></span><br><span class="line">lt = [i <span class="keyword">for</span> i <span class="keyword">in</span> os.listdir() <span class="keyword">if</span> <span class="keyword">not</span> i.startswith(<span class="string">&quot;.&quot;</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># execute shell command</span></span><br><span class="line">os.system(<span class="string">&quot;htop&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># get system environment variables</span></span><br><span class="line">os.getenv(<span class="string">&quot;SHELL&quot;</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os.path <span class="keyword">as</span> op</span><br><span class="line"></span><br><span class="line">absc = op.abspath(<span class="string">&quot;.&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># used for different operate system</span></span><br><span class="line">d1 = <span class="string">&quot;/home/narcissus&quot;</span></span><br><span class="line">d2 = <span class="string">&quot;1.txt&quot;</span></span><br><span class="line">os.join(d1,d2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># os.path.split return a tuple,so can be used like this</span></span><br><span class="line">d1,d2 = op.split(<span class="string">&quot;/home/narcissus/1.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># whether a path exists</span></span><br><span class="line">op.exists(<span class="string">&quot;/home/narcissus/1.txt&quot;</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line">shutil.copy(<span class="string">&quot;1.txt&quot;</span>,<span class="string">&quot;2.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line">shutil.move(<span class="string">&quot;1.txt&quot;</span>,<span class="string">&quot;2.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># archive all file of Desktop into test.tar</span></span><br><span class="line">shutil.make_archive(<span class="string">&quot;/home/narcissus/Desktop/test&quot;</span>,<span class="string">&quot;tar&quot;</span>,<span class="string">&quot;/home/narcissus/Desktop/&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># unarchive file</span></span><br><span class="line">shutil.unpack_archive(<span class="string">&quot;/home/narcissus/Desktop/test.tar&quot;</span>,<span class="string">&quot;.&quot;</span>,<span class="string">&quot;tar&quot;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="Random-module"><a href="#Random-module" class="headerlink" title="Random module"></a>Random module</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment"># return a number in the interval [0,1)</span></span><br><span class="line">r1 = random.random()</span><br><span class="line"></span><br><span class="line"><span class="comment"># return a number in the interval [0,100)</span></span><br><span class="line">r2 = <span class="built_in">int</span>(random.random()*<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># random choice in the interval [1,100)</span></span><br><span class="line">l1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">100</span>)]</span><br><span class="line">random.choice(l1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># shuffle list</span></span><br><span class="line">l1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>)]</span><br><span class="line"><span class="built_in">print</span>(l1)</span><br><span class="line">random.shuffle(l1)</span><br><span class="line"><span class="built_in">print</span>(l1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># random integer</span></span><br><span class="line">random.randint(<span class="number">1</span>,<span class="number">100</span>)</span><br></pre></td></tr></table></figure>



<h1 id="Functional-programming"><a href="#Functional-programming" class="headerlink" title="Functional programming"></a>Functional programming</h1><p>features:</p>
<ul>
<li>function can be used as a parameter </li>
<li>function can be used as return value</li>
</ul>
<h2 id="lambda"><a href="#lambda" class="headerlink" title="lambda"></a>lambda</h2><p>lambda exprssion</p>
<ul>
<li>begin with lambda</li>
<li>have zero or more parameter</li>
<li>use : split lambda with expression</li>
<li>no return keyword</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">la = <span class="keyword">lambda</span> x: x * <span class="number">100</span></span><br><span class="line">la(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">lb = <span class="keyword">lambda</span> x,y,z: x + y*<span class="number">10</span> + z/<span class="number">2</span></span><br><span class="line">lb(<span class="number">2</span>,<span class="number">4</span>,<span class="number">8</span>)</span><br></pre></td></tr></table></figure>

<h2 id="high-level-function"><a href="#high-level-function" class="headerlink" title="high-level function"></a>high-level function</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_name</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;小小&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># function is a variable</span></span><br><span class="line">variable = get_name</span><br><span class="line">variable()</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># normal function</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plus</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">return</span> num * <span class="number">100</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">return</span> plus(num) + <span class="number">100</span></span><br><span class="line">add(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># high_level function</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plus</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">return</span> num * <span class="number">100</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">high_level</span>(<span class="params">fun,num</span>):</span><br><span class="line">    <span class="keyword">return</span> fun(num) + <span class="number">100</span></span><br><span class="line">high_level(plus,<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><p><code>map(func,*iterables)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">l1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"><span class="built_in">print</span>(l1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># use lambda expression ,ten times a num</span></span><br><span class="line">mult = <span class="keyword">lambda</span> num: num * <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># use map to generate a class map</span></span><br><span class="line">l2 = <span class="built_in">map</span>(mult,l1)</span><br><span class="line"><span class="built_in">print</span>(l2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># class object can be iterabled</span></span><br><span class="line">l3 = [i <span class="keyword">for</span> i <span class="keyword">in</span> l2]</span><br><span class="line"><span class="built_in">print</span>(l3)</span><br></pre></td></tr></table></figure>

<h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h3><p>notice:</p>
<ul>
<li>need import module</li>
<li>function need two parameters</li>
<li>function need return value</li>
</ul>
<p>principle:<br>reduce(1,2,3) = f(f(1,2),3)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"></span><br><span class="line">l1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"></span><br><span class="line">plus = <span class="keyword">lambda</span> x,y: x + y</span><br><span class="line"></span><br><span class="line">l2 = reduce(plus,l1)</span><br><span class="line"><span class="built_in">print</span>(l2)</span><br></pre></td></tr></table></figure>

<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><p>notice:</p>
<ul>
<li>function need return a boolean</li>
<li>filter return a class object which can be iterabled</li>
</ul>
<p><code>filter(function,*iterables)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">l1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"></span><br><span class="line">fit = <span class="keyword">lambda</span> x: x % <span class="number">2</span> == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">l2 = <span class="built_in">filter</span>(fit,l1)</span><br><span class="line"></span><br><span class="line">l3 = [i <span class="keyword">for</span> i <span class="keyword">in</span> l2]</span><br><span class="line"><span class="built_in">print</span>(l3)</span><br></pre></td></tr></table></figure>


<h3 id="sorted"><a href="#sorted" class="headerlink" title="sorted"></a>sorted</h3><p>number sorted</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">l1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line">random.shuffle(l1)</span><br><span class="line"><span class="built_in">print</span>(l1)</span><br><span class="line"></span><br><span class="line">l2 = <span class="built_in">sorted</span>(l1)</span><br><span class="line"><span class="built_in">print</span>(l2)</span><br><span class="line"></span><br><span class="line">l3 = <span class="built_in">sorted</span>(l1,reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(l3)</span><br></pre></td></tr></table></figure>

<p>charactor sorted</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">l1 = [<span class="string">&quot;sda&quot;</span>,<span class="string">&quot;dev&quot;</span>,<span class="string">&quot;HOME&quot;</span>,<span class="string">&quot;Alian&quot;</span>,<span class="string">&quot;alias&quot;</span>]</span><br><span class="line"></span><br><span class="line">l2 = <span class="built_in">sorted</span>(l1)</span><br><span class="line"><span class="built_in">print</span>(l2)</span><br><span class="line"></span><br><span class="line">l3 = <span class="built_in">sorted</span>(l1, key=<span class="built_in">str</span>.lower)</span><br><span class="line"><span class="built_in">print</span>(l3)</span><br><span class="line"></span><br><span class="line">l4 = <span class="built_in">sorted</span>(l1, key=<span class="built_in">str</span>.lower, reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(l4)</span><br></pre></td></tr></table></figure>


<h3 id="Closure-package"><a href="#Closure-package" class="headerlink" title="Closure package"></a>Closure package</h3><p>B function defined inside A function,and B function as a return vlaue,all parameters of A can be used by B,it is called closure</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">A</span>(<span class="params">*args</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">B</span>():</span><br><span class="line">        <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> args:</span><br><span class="line">            <span class="built_in">sum</span> += i</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line">    <span class="keyword">return</span> B</span><br><span class="line"></span><br><span class="line">l1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>)]</span><br><span class="line">one = A(*l1)</span><br><span class="line">one()</span><br></pre></td></tr></table></figure>


<h3 id="Decorator"><a href="#Decorator" class="headerlink" title="Decorator"></a>Decorator</h3><p>Decorator is a high-level function,i can return a function.</p>
<p>feature:</p>
<ul>
<li>extend origion function without change its code</li>
<li>use <code>@</code> to called a decorator</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">now</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">pf</span>(<span class="params">*args,**kwargs</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Time:&quot;</span>,time.ctime())</span><br><span class="line">        <span class="keyword">return</span> func(*args,**kwargs)</span><br><span class="line">    <span class="keyword">return</span> pf</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">line</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">pf</span>(<span class="params">*args,**kwargs</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;=&quot;</span>*<span class="number">50</span>)</span><br><span class="line">        <span class="keyword">return</span> func(*args,**kwargs)</span><br><span class="line">    <span class="keyword">return</span> pf</span><br><span class="line"></span><br><span class="line"><span class="comment"># use system decorator @</span></span><br><span class="line"><span class="meta">@now</span></span><br><span class="line"><span class="meta">@line</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">he</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>,name)</span><br><span class="line"></span><br><span class="line">he(<span class="string">&quot;小小&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># by hand execute without system decorator @</span></span><br><span class="line">return_fun = now(he)</span><br><span class="line">return_fun(<span class="string">&quot;小小&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Partial-function"><a href="#Partial-function" class="headerlink" title="Partial function"></a>Partial function</h3><p>return a new function with some of its parameters fixed</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> functools</span><br><span class="line"></span><br><span class="line"><span class="comment"># convert 16 to 10</span></span><br><span class="line">int16 = functools.partial(<span class="built_in">int</span>,base=<span class="number">16</span>)</span><br><span class="line">int16(<span class="string">&quot;f&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># we can realize this by hand</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">int16</span>(<span class="params">num,base=<span class="number">16</span></span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">int</span>(num,base)</span><br><span class="line">int16(<span class="string">&quot;f&quot;</span>)</span><br></pre></td></tr></table></figure>


<h3 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h3><p>combine two iterable object into several tuples</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">l1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>)]</span><br><span class="line">l2 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>,<span class="number">110</span>)]</span><br><span class="line">l3 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">zip</span>(l1,l2)]</span><br><span class="line"><span class="built_in">print</span>(l3)</span><br></pre></td></tr></table></figure>

<h3 id="enumerate"><a href="#enumerate" class="headerlink" title="enumerate"></a>enumerate</h3><p>give each iterable object a index and return several tuples,notice that the index can be customized</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">l1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>)]</span><br><span class="line"></span><br><span class="line">l2 = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">enumerate</span>(l1,start=<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(l2)</span><br></pre></td></tr></table></figure>

<h3 id="collections-module"><a href="#collections-module" class="headerlink" title="collections module"></a>collections module</h3><ul>
<li>namedtuple: it can limit the number of tuple</li>
<li>deque: it is much faster than list</li>
<li>defaultdict: no error report when query none exist key</li>
<li>Counter: regard string as a iterable dict</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"></span><br><span class="line">circle = collections.namedtuple(<span class="string">&quot;circle&quot;</span>,[<span class="string">&quot;x&quot;</span>,<span class="string">&quot;y&quot;</span>,<span class="string">&quot;r&quot;</span>])</span><br><span class="line">p = circle(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"><span class="keyword">if</span> p.x**<span class="number">2</span> + p.y**<span class="number">2</span> == p.r**<span class="number">2</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;it is a circle&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"></span><br><span class="line">ql = collections.deque()</span><br><span class="line">ql.append(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(ql)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"></span><br><span class="line">func = <span class="keyword">lambda</span> : <span class="string">&quot;no key exist&quot;</span></span><br><span class="line">dd = collections.defaultdict(func)</span><br><span class="line">dd[<span class="string">&quot;one&quot;</span>] = <span class="string">&quot;first&quot;</span></span><br><span class="line">dd[<span class="string">&quot;one&quot;</span>]</span><br><span class="line">dd[<span class="string">&quot;four&quot;</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"></span><br><span class="line">cr = <span class="string">&quot;ksjflajowielzxkjowieof1242lkjlk&quot;</span></span><br><span class="line">cd = collections.Counter(cr)</span><br><span class="line"><span class="built_in">print</span>(cd)</span><br><span class="line"><span class="built_in">print</span>(cd[<span class="string">&quot;j&quot;</span>])</span><br></pre></td></tr></table></figure>


<h1 id="File-operate"><a href="#File-operate" class="headerlink" title="File operate"></a>File operate</h1><h2 id="open"><a href="#open" class="headerlink" title="open"></a>open</h2><ul>
<li>mode<ul>
<li>r: read only</li>
<li>w: new write,will erase origional file</li>
<li>x: open exist file,if not error reportd</li>
<li>a: append mode</li>
<li>b: binary write</li>
<li>t: file mode open</li>
<li>+: read and write</li>
</ul>
</li>
</ul>
<p>in this way, we need to close file handle by hand</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span> = <span class="string">r&quot;/home/narcissus/Desktop/遍历游标的三种方式.md&quot;</span></span><br><span class="line">f = <span class="built_in">open</span>(<span class="built_in">dir</span>,<span class="string">&quot;r&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> f:</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>

<p>in this way, file handle will be closed automatically</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span> = <span class="string">r&quot;/home/narcissus/Desktop/遍历游标的三种方式.md&quot;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">dir</span>,<span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> f:</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>

<p>read only one line,so should be carefully</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span> = <span class="string">r&quot;/home/narcissus/Desktop/遍历游标的三种方式.md&quot;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">dir</span>,<span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    i = f.readline()</span><br><span class="line">    <span class="keyword">while</span> i:</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br><span class="line">        i = f.readline()</span><br></pre></td></tr></table></figure>

<p>read all lines</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span> = <span class="string">r&quot;/home/narcissus/Desktop/遍历游标的三种方式.md&quot;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">dir</span>,<span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    i = f.readlines()</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> i:</span><br><span class="line">        <span class="built_in">print</span>(j)</span><br><span class="line"></span><br><span class="line"><span class="comment"># or use this</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">dir</span>,<span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    i = <span class="built_in">list</span>(f)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> i:</span><br><span class="line">        <span class="built_in">print</span>(j)</span><br></pre></td></tr></table></figure>

<p>read each word</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dir</span> = <span class="string">r&quot;/home/narcissus/Desktop/遍历游标的三种方式.md&quot;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">dir</span>,<span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    word = f.read(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">while</span> word:</span><br><span class="line">        <span class="built_in">print</span>(word,end=<span class="string">&quot;&quot;</span>)</span><br><span class="line">        word = f.read(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h2 id="write"><a href="#write" class="headerlink" title="write"></a>write</h2><ul>
<li>write: only support string</li>
<li>writeline: can write list directily</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> = <span class="string">r&quot;/home/narcissus/Desktop/1.txt&quot;</span></span><br><span class="line">txt = os.listdir(<span class="string">&quot;/home/narcissus&quot;</span>)</span><br><span class="line">needed = [i <span class="keyword">for</span> i <span class="keyword">in</span> txt <span class="keyword">if</span> <span class="keyword">not</span> i.startswith(<span class="string">&quot;.&quot;</span>)]</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">dir</span>, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="comment"># write whole list once without space</span></span><br><span class="line">    f.writelines(needed)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># can not write list directily,but can use loop to write new line per element</span></span><br><span class="line">    <span class="comment"># for i in needed:</span></span><br><span class="line">    <span class="comment">#     f.write(i)</span></span><br><span class="line">    <span class="comment">#     f.write(&quot;\n&quot;)</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">dir</span>,<span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    info = f.readlines()</span><br><span class="line">    <span class="built_in">print</span>(info)</span><br></pre></td></tr></table></figure>


<h2 id="pickle-module"><a href="#pickle-module" class="headerlink" title="pickle module"></a>pickle module</h2><p>it is used for persistence file, can save program’s information to disk while the program runing</p>
<p>feature:</p>
<ul>
<li>it can store infomation immediately</li>
<li>it can store infomation with format unchanged</li>
</ul>
<p>function:</p>
<ul>
<li>pickle.dump: write</li>
<li>pickle.load: read</li>
</ul>
<p>notice:<br>use binary mode to write or read file</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle,os</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> = <span class="string">r&quot;/home/narcissus/Desktop/1.txt&quot;</span></span><br><span class="line">txt = os.listdir(<span class="string">&quot;/home/narcissus&quot;</span>)</span><br><span class="line">info = [i <span class="keyword">for</span> i <span class="keyword">in</span> txt <span class="keyword">if</span> <span class="keyword">not</span> i.startswith(<span class="string">&quot;.&quot;</span>)]</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">dir</span>,<span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    pickle.dump(info,f)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="built_in">dir</span>,<span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    get = pickle.load(f)</span><br><span class="line">    <span class="built_in">print</span>(get)</span><br></pre></td></tr></table></figure>



<h1 id="Log"><a href="#Log" class="headerlink" title="Log"></a>Log</h1><p>why we need log?<br>recording some information at important points, suitable log information can let us to know program running statius<br>but that isn’t to say log is much more much better,because io operation will slow down program.</p>
<p>there are several log level:</p>
<ul>
<li>debug</li>
<li>info</li>
<li>notice</li>
<li>warning</li>
<li>error</li>
<li>critical</li>
<li>alert</li>
<li>emergency</li>
</ul>
<p>log include:<br>[time location level content]</p>
<p>good log module:</p>
<ul>
<li>log4j -&gt; java</li>
<li>log4php -&gt; php</li>
<li>logging -&gt; python</li>
</ul>
<h2 id="python-logging-module"><a href="#python-logging-module" class="headerlink" title="python logging module"></a>python logging module</h2><p>level:</p>
<ul>
<li>debug</li>
<li>info</li>
<li>warning</li>
<li>error</li>
<li>critical</li>
</ul>
<p>default log level:</p>
<ul>
<li>specify a log level in program</li>
<li>only log level which equal or high above than specified level will be write in log</li>
</ul>
<h2 id="usage"><a href="#usage" class="headerlink" title="usage:"></a>usage:</h2><h3 id="specify-default-log-level"><a href="#specify-default-log-level" class="headerlink" title="specify default log level"></a>specify default log level</h3><p>only logging once at first time executes</p>
<p>feature:</p>
<ul>
<li>specify the default log level</li>
<li>output: sys.stderr</li>
<li>default level: warning</li>
<li>format: level:log_name:content</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logging.basicConfig(**kwargs)</span><br></pre></td></tr></table></figure>
<p>eg:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> = <span class="string">r&quot;/home/narcissus/Desktop/info.log&quot;</span></span><br><span class="line">log_format = <span class="string">&quot;%(asctime)s   %(levelname)s   %(message)s&quot;</span></span><br><span class="line">logging.basicConfig(filename=<span class="built_in">dir</span>, level=logging.DEBUG, <span class="built_in">format</span>=log_format)</span><br></pre></td></tr></table></figure>

<h3 id="use-level-function"><a href="#use-level-function" class="headerlink" title="use level function"></a>use level function</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">logging.debug(msg, *args, **kwargs)</span><br><span class="line">logging.info(msg, *args, **kwargs)</span><br><span class="line">logging.warning(msg, *args, **kwargs)</span><br><span class="line">logging.error(msg, *args, **kwargs)</span><br><span class="line">logging.critical(msg, *args, **kwargs)</span><br></pre></td></tr></table></figure>
<p>eg:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line">logging.debug(<span class="string">&quot;this is a debug log&quot;</span>)</span><br><span class="line">logging.info(<span class="string">&quot;this is a info log)</span></span><br></pre></td></tr></table></figure>

<h3 id="use-log-function"><a href="#use-log-function" class="headerlink" title="use log function"></a>use log function</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logging.log(level, *args, **kwargs)</span><br></pre></td></tr></table></figure>
<p>eg:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line">logging.log(logging.DEBUG,<span class="string">&quot;this is a debug log&quot;</span>)</span><br><span class="line">logging.log(logging.INFO,<span class="string">&quot;this is a info log&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>complete example</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> = <span class="string">r&quot;/home/narcissus/Desktop/info.log&quot;</span></span><br><span class="line">log_format = <span class="string">&quot;%(asctime)s\t%(levelname)s\t%(lineno)d %(message)s&quot;</span></span><br><span class="line">logging.basicConfig(filename=<span class="built_in">dir</span>, level=logging.DEBUG, <span class="built_in">format</span>=log_format)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">logging.debug(<span class="string">&quot;this is a debug log&quot;</span>)</span><br><span class="line">logging.info(<span class="string">&quot;this is a info log&quot;</span>)</span><br><span class="line"></span><br><span class="line">logging.log(logging.DEBUG,<span class="string">&quot;this is a debug log&quot;</span>)</span><br><span class="line">logging.log(logging.INFO,<span class="string">&quot;this is a info log&quot;</span>)</span><br></pre></td></tr></table></figure>


<h2 id="by-hand-usage"><a href="#by-hand-usage" class="headerlink" title="by hand usage"></a>by hand usage</h2><ul>
<li>logger: a interface of log produces log</li>
<li>handler: decide where log stores</li>
<li>filter: what should be displayed</li>
<li>formatter: format</li>
</ul>
<p>logger:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Logger.setLevel()</span><br><span class="line">Logger.addHandler()/Logge.removeHandler()</span><br><span class="line">Logger.addFilter()/Logger.removeFilter()</span><br><span class="line">Logger.debug()/info/error</span><br><span class="line">Logger.exception()</span><br><span class="line">Logger.log()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">logging.getLogger()</span><br></pre></td></tr></table></figure>
<p>and so on …..</p>
<h1 id="Json"><a href="#Json" class="headerlink" title="Json"></a>Json</h1><p>convert:</p>
<ul>
<li>json.dumps(): python -&gt; json</li>
<li>json.loads(): json -&gt; json</li>
</ul>
<p>read and write with file:</p>
<ul>
<li>json.dump(): write to file</li>
<li>json.load(): read from file</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json,os</span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&quot;user&quot;</span>: <span class="string">&quot;小小&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="string">&quot;like&quot;</span>: [<span class="string">&quot;juice&quot;</span>,<span class="string">&quot;apple&quot;</span>,<span class="string">&quot;cherry&quot;</span>],</span><br><span class="line">    <span class="string">&quot;score&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;chinese&quot;</span>: <span class="number">80</span>,</span><br><span class="line">        <span class="string">&quot;math&quot;</span>: <span class="number">90</span>,</span><br><span class="line">        <span class="string">&quot;english&quot;</span>: <span class="number">100</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">jd = json.dumps(data)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(jd),jd)</span><br><span class="line">nd = json.loads(jd)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(nd),nd)</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span> = <span class="string">r&quot;/home/narcissus/Desktop&quot;</span></span><br><span class="line">os.chdir(<span class="built_in">dir</span>)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;test.js&quot;</span>,<span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json.dump(data,f)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;test.js&quot;</span>,<span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    file = json.load(f)</span><br><span class="line">    <span class="built_in">print</span>(file[<span class="string">&quot;score&quot;</span>][<span class="string">&quot;chinese&quot;</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="Multi-threads"><a href="#Multi-threads" class="headerlink" title="Multi threads"></a>Multi threads</h1><p>process vs thread:<br>process totally different,but thread will share something.<br>process builds with threads</p>
<h2 id="basic-usage"><a href="#basic-usage" class="headerlink" title="basic usage"></a>basic usage</h2><p>syntax:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="comment"># args is tuple</span></span><br><span class="line">td = threading.thread(target=function_name,args=())</span><br><span class="line"><span class="comment"># set thread name,it is optional</span></span><br><span class="line">td.setName(<span class="string">&quot;thread1&quot;</span>)</span><br><span class="line"><span class="comment"># start thread</span></span><br><span class="line">td.start()</span><br><span class="line"><span class="comment"># waiting for thread finish</span></span><br><span class="line">td.join()   </span><br></pre></td></tr></table></figure>
<p>notice:<br>the type of args is tuple</p>
<h2 id="daemon-thread"><a href="#daemon-thread" class="headerlink" title="daemon thread"></a>daemon thread</h2><p>when process stops the daemon thread will stop immediately</p>
<p>syntax:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="comment"># args is tuple</span></span><br><span class="line">td = threading.thread(target=function_name,args=())</span><br><span class="line">td.daemon = <span class="literal">True</span> <span class="comment"># or td.setDaemon(True)</span></span><br><span class="line">td.start()</span><br><span class="line"><span class="comment"># waiting for thread finish</span></span><br><span class="line">td.join()   </span><br></pre></td></tr></table></figure>

<h2 id="shared-variables"><a href="#shared-variables" class="headerlink" title="shared variables"></a>shared variables</h2><p>it is appeard when several threads access one variable at the same time, it will lead wrong result. In order to resolve this problem, we can lock the use of variable</p>
<p>syntax:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lock = threading.Lock()</span><br><span class="line">lock.acquire()</span><br><span class="line">lockd_variable</span><br><span class="line">lock.release()</span><br></pre></td></tr></table></figure>

<p>without lock</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">num = <span class="number">1000000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">global</span> <span class="built_in">sum</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        <span class="built_in">sum</span> += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">miu</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">global</span> <span class="built_in">sum</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        <span class="built_in">sum</span> -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line"><span class="comment"># normal usage will return sum = 0</span></span><br><span class="line"><span class="comment"># miu(num)</span></span><br><span class="line"><span class="comment"># add(num)</span></span><br><span class="line"><span class="comment"># print(sum)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># use thread access one variable at the same time will lead wrong result</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calcu</span>():</span><br><span class="line">    td1 = threading.Thread(target=add,args=(num,))</span><br><span class="line">    td2 = threading.Thread(target=miu,args=(num,))</span><br><span class="line"></span><br><span class="line">    td1.start()</span><br><span class="line">    td2.start()</span><br><span class="line">    td1.join()</span><br><span class="line">    td2.join()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    calcu()</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure>

<p>use lock</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"><span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">num = <span class="number">1000000</span></span><br><span class="line">lock = threading.Lock()</span><br><span class="line"></span><br><span class="line"><span class="comment"># lock variable to be accessd by one at the same time</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">global</span> <span class="built_in">sum</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        lock.acquire()</span><br><span class="line">        <span class="built_in">sum</span> += <span class="number">1</span></span><br><span class="line">        lock.release()</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">miu</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">global</span> <span class="built_in">sum</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        lock.acquire()</span><br><span class="line">        <span class="built_in">sum</span> -= <span class="number">1</span></span><br><span class="line">        lock.release()</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">lock_calcu</span>():</span><br><span class="line">    ld1 = threading.Thread(target=add,args=(num,))</span><br><span class="line">    ld2 = threading.Thread(target=miu,args=(num,))</span><br><span class="line"></span><br><span class="line">    ld1.start()</span><br><span class="line">    ld2.start()</span><br><span class="line"></span><br><span class="line">    ld1.join()</span><br><span class="line">    ld2.join()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    lock_calcu()</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure>


<h2 id="thread-safe"><a href="#thread-safe" class="headerlink" title="thread safe"></a>thread safe</h2><p>if one variable to be used by multi threads at the same time without lock variable but no problem happend, it is called thread safe.</p>
<p>not thread safe: list, set, dict</p>
<p>thread safe: queue</p>
<h2 id="deadlock"><a href="#deadlock" class="headerlink" title="deadlock"></a>deadlock</h2><p>two lock both not release, lead to both waitting, deadlock appeard, leading program dead</p>
<h1 id="muiti-processes"><a href="#muiti-processes" class="headerlink" title="muiti processes"></a>muiti processes</h1><p>we know multi threads will cause problem usually, but there are several method more useful than multi threads:</p>
<ul>
<li>subprocess</li>
<li>multiprocessing</li>
<li>concurrent.futures</li>
</ul>
<h1 id="iterable-iterator"><a href="#iterable-iterator" class="headerlink" title="iterable/iterator"></a>iterable/iterator</h1><p>difference:<br>iterable -&gt; directly used by for loop<br>iterator -&gt; not only used by for loop but also can be used by next function</p>
<p>how to distinct each other:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable,Iterator</span><br><span class="line"></span><br><span class="line">lt = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(lt,Iterable))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(lt,Iterator))</span><br></pre></td></tr></table></figure>

<p>convert iterable to iterator:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable,Iterator</span><br><span class="line"></span><br><span class="line">lt = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(lt,Iterable))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(lt,Iterator))</span><br><span class="line"></span><br><span class="line">clt = <span class="built_in">iter</span>(lt)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(clt,Iterable))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(clt,Iterator))</span><br></pre></td></tr></table></figure>



<h1 id="generator"><a href="#generator" class="headerlink" title="generator"></a>generator</h1><p>feature:</p>
<ul>
<li>product data which used by for loop</li>
<li>at the end of generator raise StopIterationError</li>
<li>can be used by next() function</li>
</ul>
<p>why we need generator?<br>all data are calculated step by step when in need, don’t store in memory, use cpu instead of memory. range() is a generator,so we need use it often, it is more useful than list.</p>
<p>how to make a generator</p>
<ul>
<li><code>()</code></li>
<li>yield: yield can stop loop until next iterate</li>
</ul>
<p>use <code>()</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">lt = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line">lg = (i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(lt))</span><br><span class="line"><span class="comment"># lg is a generator</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(lg))</span><br></pre></td></tr></table></figure>

<p>use yield</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># normal usage</span></span><br><span class="line"><span class="comment"># 1,1,2,3,5,8,13</span></span><br><span class="line"><span class="comment"># def fib(num):</span></span><br><span class="line"><span class="comment">#     a,b,n = 0,1,0</span></span><br><span class="line"><span class="comment">#     while n &lt; num:</span></span><br><span class="line"><span class="comment">#         a,b = b,a+b</span></span><br><span class="line"><span class="comment">#         n += 1</span></span><br><span class="line"><span class="comment">#     return a</span></span><br><span class="line"><span class="comment"># fib(6)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># use yield</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>(<span class="params">num</span>):</span><br><span class="line">    a,b,n = <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> n &lt; num:</span><br><span class="line">        <span class="comment"># yield can stop loop until next iterate</span></span><br><span class="line">        <span class="keyword">yield</span> b</span><br><span class="line">        a,b = b,a+b</span><br><span class="line">        n += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># generator is iterable</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> fib(<span class="number">7</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>



<h1 id="coroutines"><a href="#coroutines" class="headerlink" title="coroutines"></a>coroutines</h1><p>coroutines is much more useful than multi threads, it’s need less resource, we can regard it as a generator or a function which can be stopd</p>
<p>how to realize it?</p>
<ul>
<li>yield: return result</li>
<li>send: send args to generator</li>
<li>yield from: as a middle hand transfer message</li>
</ul>
<p>yield x: return x<br>x = yield: get x value from send() function</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">test_coroutine</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;start&quot;</span>)</span><br><span class="line">    x = <span class="keyword">yield</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;get&quot;</span>,x)</span><br><span class="line">    <span class="keyword">yield</span> x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">co = test_coroutine()</span><br><span class="line"><span class="built_in">next</span>(co)</span><br><span class="line">co.send(<span class="number">20</span>)</span><br></pre></td></tr></table></figure>

<p>yield from</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">test_coroutine</span>(<span class="params">st</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(st):</span><br><span class="line">        <span class="keyword">yield</span> i</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_num</span>():</span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">from</span> <span class="string">&quot;1234567&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(get_num()))</span><br></pre></td></tr></table></figure>


<h2 id="async-wait"><a href="#async-wait" class="headerlink" title="async/wait"></a>async/wait</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">get_num</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br><span class="line">        <span class="keyword">await</span> asyncio.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">loop = asyncio.get_event_loop()</span><br><span class="line">lt = [get_num(<span class="number">10</span>),get_num(<span class="number">20</span>)]</span><br><span class="line">loop.run_until_complete(asyncio.wait(lt))</span><br><span class="line">loop.close()</span><br></pre></td></tr></table></figure>

<h2 id="concurrent-futures"><a href="#concurrent-futures" class="headerlink" title="concurrent.futures"></a>concurrent.futures</h2><ul>
<li>use subprocess, run several python interpreter. each subprocess can use a core of cpu, all core of cpu can be used 100%</li>
<li>use multithreads, as we know python can only use one thread at one time, so it uses the same time as one process, and each of thread can not pull use cpu</li>
</ul>
<h3 id="ThreadPoolExecutor"><a href="#ThreadPoolExecutor" class="headerlink" title="ThreadPoolExecutor"></a>ThreadPoolExecutor</h3><p>although my cpu only have 4 core 8 thread, but each cpu didn’t be full used, it is because python can only run one thread at one time, threadpool is also thread.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> concurrent.futures <span class="keyword">import</span> ThreadPoolExecutor</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">ts</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">    <span class="built_in">print</span>(threading.current_thread())</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        <span class="built_in">sum</span> += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line"></span><br><span class="line">pool = ThreadPoolExecutor(max_workers=<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">t1 = pool.submit(ts, <span class="number">100000000</span>)</span><br><span class="line">t2 = pool.submit(ts, <span class="number">100000000</span>)</span><br><span class="line">t3 = pool.submit(ts, <span class="number">100000000</span>)</span><br><span class="line">t4 = pool.submit(ts, <span class="number">100000000</span>)</span><br><span class="line">t5 = pool.submit(ts, <span class="number">100000000</span>)</span><br><span class="line">t6 = pool.submit(ts, <span class="number">100000000</span>)</span><br><span class="line">t7 = pool.submit(ts, <span class="number">100000000</span>)</span><br><span class="line">t8 = pool.submit(ts, <span class="number">100000000</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(t1.result())</span><br><span class="line"><span class="built_in">print</span>(t2.result())</span><br><span class="line"><span class="built_in">print</span>(t3.result())</span><br><span class="line"><span class="built_in">print</span>(t4.result())</span><br><span class="line"><span class="built_in">print</span>(t5.result())</span><br><span class="line"><span class="built_in">print</span>(t6.result())</span><br><span class="line"><span class="built_in">print</span>(t7.result())</span><br><span class="line"><span class="built_in">print</span>(t8.result())</span><br></pre></td></tr></table></figure>

<p>use map</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> concurrent.futures <span class="keyword">import</span> ThreadPoolExecutor</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">ts</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">    <span class="built_in">print</span>(threading.current_thread())</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        <span class="built_in">sum</span> += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line"></span><br><span class="line">pool = ThreadPoolExecutor(max_workers=<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">lt = [<span class="number">100000000</span>] * <span class="number">8</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> pool.<span class="built_in">map</span>(ts,lt):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>

<h3 id="ProcessPoolExecutor"><a href="#ProcessPoolExecutor" class="headerlink" title="ProcessPoolExecutor"></a>ProcessPoolExecutor</h3><p>all core of cpu can be used 100%</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> concurrent.futures <span class="keyword">import</span> ProcessPoolExecutor</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">ts</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">    <span class="built_in">print</span>(threading.current_thread())</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">        <span class="built_in">sum</span> += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line"></span><br><span class="line">pool = ProcessPoolExecutor(max_workers=<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">lt = [<span class="number">100000000</span>] * <span class="number">8</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> pool.<span class="built_in">map</span>(ts,lt):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure>



<h1 id="regular-expression"><a href="#regular-expression" class="headerlink" title="regular expression"></a>regular expression</h1><ul>
<li><p>there are two methods</p>
<ol>
<li><p>compile re to a object</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello, Join. where did you go? 123,hk123,H89Hk&quot;</span></span><br><span class="line">p = re.<span class="built_in">compile</span>(<span class="string">&quot;[0-9]&#123;1,&#125;&quot;</span>)</span><br><span class="line">m = p.findall(s)</span><br><span class="line"><span class="built_in">print</span>(m)</span><br></pre></td></tr></table></figure></li>
<li><p>use re directory</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello, Join. where did you go? 123,hk123,H89Hk&quot;</span></span><br><span class="line">m = re.findall(<span class="string">&quot;[0-9]&#123;1,&#125;&quot;</span>,s)</span><br><span class="line"><span class="built_in">print</span>(m)</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>ignore case</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello, Join. where did you go? 123,hkj123,H89Hjk&quot;</span></span><br><span class="line">p = re.<span class="built_in">compile</span>(<span class="string">&quot;h&quot;</span>,re.I)</span><br><span class="line">m = p.findall(s)</span><br><span class="line"><span class="built_in">print</span>(m)</span><br></pre></td></tr></table></figure>

<ul>
<li>substitute</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello, Join. where did you go? 123,hkj123,H89Hjk&quot;</span></span><br><span class="line">p = re.<span class="built_in">compile</span>(<span class="string">&quot;\d+&quot;</span>)</span><br><span class="line">t = p.sub(<span class="string">&quot;000&quot;</span>,s)</span><br><span class="line"><span class="built_in">print</span>(s)</span><br><span class="line"><span class="built_in">print</span>(t)</span><br></pre></td></tr></table></figure>

<ul>
<li>catch chinese</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello, 世界. 喜欢你where did you go? 123,hkj123,H89Hjk&quot;</span></span><br><span class="line">p = re.<span class="built_in">compile</span>(<span class="string">&quot;[\u4c00-\u9fa5]+&quot;</span>)</span><br><span class="line">t = p.findall(s)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(t)</span><br></pre></td></tr></table></figure>

<ul>
<li>catch no chinese</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello, 世界. 喜欢你where did you go? 123,hkj123,H89Hjk&quot;</span></span><br><span class="line">p = re.<span class="built_in">compile</span>(<span class="string">&quot;[^\u4c00-\u9fa5]+&quot;</span>)</span><br><span class="line">t = p.findall(s)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(t)</span><br></pre></td></tr></table></figure>


<h1 id="Xpath"><a href="#Xpath" class="headerlink" title="Xpath"></a>Xpath</h1><p>it is used to find xml file</p>
<p>syntax:</p>
<ul>
<li><code>/</code>: root node</li>
<li><code>//</code>: two node</li>
<li><code>.</code>: current node</li>
<li><code>..</code>: father node</li>
<li><code>@</code>: property</li>
</ul>
<h1 id="net-program"><a href="#net-program" class="headerlink" title="net program"></a>net program</h1><p>network model:</p>
<ul>
<li>7 layers model<ul>
<li>Layer 7 - Application</li>
<li>Layer 6 - Presentation</li>
<li>Layer 5 - Session</li>
<li>Layer 4 - Transport</li>
<li>Layer 3 - Network</li>
<li>Layer 2 - Data Link</li>
<li>Layer 1 - Physical</li>
</ul>
</li>
<li>4 layers model<ul>
<li>Layer 4 - Application</li>
<li>Layer 3 - Transport</li>
<li>Layer 2 - Network</li>
<li>Layer 1 - Link</li>
</ul>
</li>
</ul>
<h1 id="ftp"><a href="#ftp" class="headerlink" title="ftp"></a>ftp</h1><ul>
<li><p>leaning website: <a class="link"   target="_blank" rel="noopener" href="http://zetcode.com/python/ftp/" >link<i class="fas fa-external-link-alt"></i></a></p>
</li>
<li><p>Python ftplib<br>python ftplib is a module that implements the client side of the FTP protocol. It contains an FTP client class and some helper functions. </p>
</li>
<li><p>Python FTP clas<br>The ftplib.FTP() creates a new instance of the FTP class. When host is given, a connection to the host is made with the connect() method. </p>
</li>
</ul>
<p>example:</p>
<p>in my archlinux, i start vsftpd.service first</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start vsftpd</span><br></pre></td></tr></table></figure>

<p>and then change the default config <code>/etc/vsftpd.config</code> to enable local user login</p>
<p>at last i write a ftp python file</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> ftplib</span><br><span class="line"></span><br><span class="line"><span class="comment"># a anonymous function print lines</span></span><br><span class="line">line = <span class="keyword">lambda</span> x: <span class="built_in">print</span>(x * <span class="number">80</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># get ftp login user and passwd</span></span><br><span class="line">user = <span class="built_in">input</span>(<span class="string">&quot;ftp login user name: &quot;</span>)</span><br><span class="line">pwd = <span class="built_in">input</span>(<span class="string">&quot;password: &quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> ftplib.FTP(<span class="string">&quot;localhost&quot;</span>) <span class="keyword">as</span> ftp:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># get connection</span></span><br><span class="line">        ftp.login(user=user, passwd=pwd)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># print welcome information</span></span><br><span class="line">        info = ftp.getwelcome()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;welcome: &quot;</span>,info)</span><br><span class="line">        line(<span class="string">&quot;-&quot;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># change current directory</span></span><br><span class="line">        ftp.cwd(dirname=<span class="string">&quot;Desktop&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># get current directory</span></span><br><span class="line">        current_dir = ftp.pwd()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;current_dir: &quot;</span>,current_dir)</span><br><span class="line">        line(<span class="string">&quot;*&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># get context list</span></span><br><span class="line">        files = []</span><br><span class="line">        ftp.<span class="built_in">dir</span>(files.append)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> files:</span><br><span class="line">            <span class="built_in">print</span>(i)</span><br><span class="line">        line(<span class="string">&quot;=&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># download file, by default the file will be stored at /tmp/</span></span><br><span class="line">        file_copy = <span class="string">&quot;test.txt&quot;</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(file_copy, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            res = ftp.retrlines(<span class="string">&quot;RETR &quot;</span>+<span class="string">&quot;1.py&quot;</span>, f.write)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> res.startswith(<span class="string">&#x27;226 Transfer complete&#x27;</span>):</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;Download failed&#x27;</span>)</span><br><span class="line">                <span class="keyword">if</span> os.path.isfile(file_copy):</span><br><span class="line">                    os.remove(file_copy)  </span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;down&quot;</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">except</span> ftplib.all_errors <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(e)</span><br></pre></td></tr></table></figure>



<h1 id="mail"><a href="#mail" class="headerlink" title="mail"></a>mail</h1><p>how it works?<br>process: user mail —-&gt; mail proxy —–&gt; mail server —–&gt; user<br>agent: ————&gt;mua————–&gt;mta—————&gt;mda<br>protocal: —————–&gt;SMTP————-&gt;POP3/IMAP</p>
<p>MUA: MailUserAgent, user send mail to proxy<br>MTA: MailTransferAgent, catch mail from proxy to mail server<br>MDA: MailDeliveryAgent, deliver mail from server to user</p>
<p>how to use it:<br>there are two modules</p>
<ol>
<li>email: used to modify mail</li>
<li>smtplib: used to send mail</li>
</ol>
<p>the following is a simple text mail example.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># define some variables</span></span><br><span class="line">from_addr = <span class="string">&quot;1025096440@qq.com&quot;</span></span><br><span class="line"><span class="comment"># this is a code from web mail</span></span><br><span class="line">from_pwd = <span class="string">&quot;nrbnnibhjrgrbcdd&quot;</span></span><br><span class="line">to_addr = <span class="string">&quot;1025096440@qq.com&quot;</span></span><br><span class="line">smtp_srv = <span class="string">&quot;smtp.qq.com&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># write message</span></span><br><span class="line">text_msg = MIMEText(<span class="string">&quot;第一封邮件&quot;</span>, <span class="string">&quot;plain&quot;</span>, <span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add header</span></span><br><span class="line">text_msg[<span class="string">&#x27;From&#x27;</span>] = from_addr</span><br><span class="line">text_msg[<span class="string">&#x27;To&#x27;</span>] = to_addr</span><br><span class="line">text_msg[<span class="string">&#x27;Subject&#x27;</span>] = <span class="string">&quot;测试&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># server address need encode to byte,so we need encode it</span></span><br><span class="line">    <span class="comment"># port 465 is a security port which server accept</span></span><br><span class="line">    srv = smtplib.SMTP_SSL(smtp_srv.encode(), <span class="number">465</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># login</span></span><br><span class="line">    srv.login(from_addr,from_pwd)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># send text mail</span></span><br><span class="line">    srv.sendmail(from_addr, [to_addr], text_msg.as_string())</span><br><span class="line">    srv.quit()</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;done&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>the following is a text format mail with additional file </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</span><br><span class="line"><span class="keyword">from</span> email.mime.multipart <span class="keyword">import</span> MIMEBase,MIMEMultipart</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># some variables</span></span><br><span class="line">from_addr = <span class="string">&quot;1025096440@qq.com&quot;</span></span><br><span class="line"><span class="comment"># this is a code from web mail</span></span><br><span class="line">from_pwd = <span class="string">&quot;nrbnnibhjrgrbcdd&quot;</span></span><br><span class="line">to_addr = <span class="string">&quot;1025096440@qq.com&quot;</span></span><br><span class="line">smtp_srv = <span class="string">&quot;smtp.qq.com&quot;</span></span><br><span class="line">files = <span class="string">r&quot;/home/narcissus/Desktop/1.py&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># initial multipart object</span></span><br><span class="line">mail_mul = MIMEMultipart()</span><br><span class="line"><span class="comment"># add header</span></span><br><span class="line">mail_mul[<span class="string">&#x27;From&#x27;</span>] = from_addr</span><br><span class="line">mail_mul[<span class="string">&#x27;To&#x27;</span>] = to_addr</span><br><span class="line">mail_mul[<span class="string">&#x27;Subject&#x27;</span>] = <span class="string">&quot;use python email and smtplib module send mail&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># write message</span></span><br><span class="line">text_msg = MIMEText(<span class="string">&quot;the email include text message and file&quot;</span>, <span class="string">&quot;plain&quot;</span>, <span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add text to multipart object</span></span><br><span class="line">mail_mul.attach(text_msg)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add file</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(files, <span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    line = f.read()</span><br><span class="line">    content = MIMEText(line, <span class="string">&quot;base64&quot;</span>, <span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">    content[<span class="string">&quot;Content-type&quot;</span>] = <span class="string">&quot;application/octet-stream&quot;</span></span><br><span class="line">    content[<span class="string">&quot;Content-Disposition&quot;</span>] = <span class="string">&quot;attachment; filename=files&quot;</span></span><br><span class="line">    mail_mul.attach(content)</span><br><span class="line"></span><br><span class="line"><span class="comment"># send mail</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># server address need encode to byte,so we need encode it</span></span><br><span class="line">    <span class="comment"># port 465 is a security port which server accept</span></span><br><span class="line">    srv = smtplib.SMTP_SSL(smtp_srv.encode(), <span class="number">465</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># login</span></span><br><span class="line">    srv.login(from_addr,from_pwd)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># send text mail</span></span><br><span class="line">    srv.sendmail(from_addr, [to_addr], mail_mul.as_string())</span><br><span class="line">    srv.quit()</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;done&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>the following is a html format mail example.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</span><br><span class="line"></span><br><span class="line"><span class="comment"># write message</span></span><br><span class="line">html_msg = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="string">    &lt;html lang=&quot;en&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;head&gt;</span></span><br><span class="line"><span class="string">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;title&gt;Document&lt;/title&gt;</span></span><br><span class="line"><span class="string">        &lt;script src=&quot;./vue.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">    &lt;/head&gt;</span></span><br><span class="line"><span class="string">    &lt;body&gt;</span></span><br><span class="line"><span class="string">        &lt;h1 style=&quot;background: #7fedbb&quot;&gt;有情人难成属眷&lt;/h1&gt;</span></span><br><span class="line"><span class="string">    &lt;/body&gt;</span></span><br><span class="line"><span class="string">    &lt;/html&gt;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">html_msg = MIMEText(html_msg, <span class="string">&quot;html&quot;</span>, <span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"><span class="comment"># some variables</span></span><br><span class="line">from_addr = <span class="string">&quot;1025096440@qq.com&quot;</span></span><br><span class="line"><span class="comment"># this is a code from web mail</span></span><br><span class="line">from_pwd = <span class="string">&quot;nrbnnibhjrgrbcdd&quot;</span></span><br><span class="line">to_addr = <span class="string">&quot;1025096440@qq.com&quot;</span></span><br><span class="line">smtp_srv = <span class="string">&quot;smtp.qq.com&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># server address need encode to byte,so we need encode it</span></span><br><span class="line">    <span class="comment"># port 465 is a security port which server accept</span></span><br><span class="line">    srv = smtplib.SMTP_SSL(smtp_srv.encode(), <span class="number">465</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># login</span></span><br><span class="line">    srv.login(from_addr,from_pwd)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># send html mail</span></span><br><span class="line">    srv.sendmail(from_addr, [to_addr], html_msg.as_string())</span><br><span class="line">    srv.quit()</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;done&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>alternative choose html format or text format, because some fo device can not display html format</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</span><br><span class="line"><span class="keyword">from</span> email.mime.multipart <span class="keyword">import</span> MIMEMultipart</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># some variables</span></span><br><span class="line">from_addr = <span class="string">&quot;1025096440@qq.com&quot;</span></span><br><span class="line"><span class="comment"># this is a code from web mail</span></span><br><span class="line">from_pwd = <span class="string">&quot;nrbnnibhjrgrbcdd&quot;</span></span><br><span class="line">to_addr = <span class="string">&quot;1025096440@qq.com&quot;</span></span><br><span class="line">smtp_srv = <span class="string">&quot;smtp.qq.com&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># initial multipart object</span></span><br><span class="line">mail_mul = MIMEMultipart(<span class="string">&quot;alternative&quot;</span>)</span><br><span class="line"><span class="comment"># add header</span></span><br><span class="line">mail_mul[<span class="string">&#x27;From&#x27;</span>] = from_addr</span><br><span class="line">mail_mul[<span class="string">&#x27;To&#x27;</span>] = to_addr</span><br><span class="line">mail_mul[<span class="string">&#x27;Subject&#x27;</span>] = <span class="string">&quot;use python email and smtplib module send mail&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># write message</span></span><br><span class="line">text_msg = MIMEText(<span class="string">&quot;alternative choose text or html style&quot;</span>, <span class="string">&quot;plain&quot;</span>, <span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># add text to multipart object</span></span><br><span class="line">mail_mul.attach(text_msg)</span><br><span class="line"></span><br><span class="line"><span class="comment"># write html</span></span><br><span class="line">html_msg = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    &lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="string">    &lt;html lang=&quot;en&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;head&gt;</span></span><br><span class="line"><span class="string">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;title&gt;Document&lt;/title&gt;</span></span><br><span class="line"><span class="string">        &lt;script src=&quot;./vue.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">    &lt;/head&gt;</span></span><br><span class="line"><span class="string">    &lt;body&gt;</span></span><br><span class="line"><span class="string">        &lt;h1 style=&quot;background: #7fedbb&quot;&gt;有情人难成属眷&lt;/h1&gt;</span></span><br><span class="line"><span class="string">    &lt;/body&gt;</span></span><br><span class="line"><span class="string">    &lt;/html&gt;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">html_msg = MIMEText(html_msg, <span class="string">&quot;html&quot;</span>, <span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">mail_mul.attach(html_msg)</span><br><span class="line"></span><br><span class="line"><span class="comment"># send mail</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># server address need encode to byte,so we need encode it</span></span><br><span class="line">    <span class="comment"># port 465 is a security port which server accept</span></span><br><span class="line">    srv = smtplib.SMTP_SSL(smtp_srv.encode(), <span class="number">465</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># login</span></span><br><span class="line">    srv.login(from_addr,from_pwd)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># send text mail</span></span><br><span class="line">    srv.sendmail(from_addr, [to_addr], mail_mul.as_string())</span><br><span class="line">    srv.quit()</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;done&quot;</span>)</span><br></pre></td></tr></table></figure>

<hr>
<p>the end! I am really happy that i learn all of them. It is really awesome,nice.</p>

        </div>

        

        
            <ul class="post-tags-box">
                
                    <li class="tag-item">
                        <a href="/tags/python/">#python</a>&nbsp;
                    </li>
                
            </ul>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2022/04/23/rancher/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">rancher</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2022/04/23/podman/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">podman</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>
              -
            
            2023&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">shutterbug</a>
        </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#PYTHON"><span class="nav-number">1.</span> <span class="nav-text">PYTHON</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#python-interpreter"><span class="nav-number">1.1.</span> <span class="nav-text">python interpreter</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pip"><span class="nav-number">1.2.</span> <span class="nav-text">pip</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC"><span class="nav-number">1.3.</span> <span class="nav-text">代码风格</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E9%87%8F"><span class="nav-number">1.4.</span> <span class="nav-text">变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8%EF%BC%9A"><span class="nav-number">1.4.1.</span> <span class="nav-text">作用：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B5%8B%E5%80%BC%EF%BC%9A"><span class="nav-number">1.4.2.</span> <span class="nav-text">赋值：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%95%E7%94%A8"><span class="nav-number">1.4.3.</span> <span class="nav-text">引用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.5.</span> <span class="nav-text">数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%87%E5%87%86%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%EF%BC%9A"><span class="nav-number">1.5.1.</span> <span class="nav-text">标准数据类型：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%B5%8C%E5%A5%97-%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.5.2.</span> <span class="nav-text">数据类型嵌套-对象</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.</span> <span class="nav-text">运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.1.</span> <span class="nav-text">算数运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.2.</span> <span class="nav-text">比较运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.3.</span> <span class="nav-text">赋值运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.4.</span> <span class="nav-text">逻辑运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%88%90%E5%91%98%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.5.</span> <span class="nav-text">成员运算符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BA%AB%E4%BB%BD%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">2.6.</span> <span class="nav-text">身份运算符</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84"><span class="nav-number">3.</span> <span class="nav-text">程序结构</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E6%94%AF%E7%BB%93%E6%9E%84"><span class="nav-number">3.1.</span> <span class="nav-text">分支结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="nav-number">3.2.</span> <span class="nav-text">循环结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#for%E5%BE%AA%E7%8E%AF"><span class="nav-number">3.2.1.</span> <span class="nav-text">for循环</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#while%E5%BE%AA%E7%8E%AF"><span class="nav-number">3.2.2.</span> <span class="nav-text">while循环</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%87%BD%E6%95%B0"><span class="nav-number">4.</span> <span class="nav-text">函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E6%95%B0"><span class="nav-number">4.1.</span> <span class="nav-text">参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-number">4.2.</span> <span class="nav-text">返回值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="nav-number">4.3.</span> <span class="nav-text">递归函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%BE%E9%80%92%E5%BD%92"><span class="nav-number">4.4.</span> <span class="nav-text">尾递归</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">4.5.</span> <span class="nav-text">函数的使用</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">5.</span> <span class="nav-text">字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"><span class="nav-number">5.1.</span> <span class="nav-text">路径问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E6%9B%BF%E6%8D%A2%EF%BC%88%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%E3%80%81%E6%A0%BC%E5%BC%8F%E5%8C%96%EF%BC%89"><span class="nav-number">5.2.</span> <span class="nav-text">变量替换（字符串拼接、格式化）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E7%B1%BB%E5%87%BD%E6%95%B0"><span class="nav-number">5.3.</span> <span class="nav-text">判断类函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="nav-number">5.4.</span> <span class="nav-text">内置函数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B1%BB%E4%B8%8E%E5%AF%B9%E8%B1%A1"><span class="nav-number">6.</span> <span class="nav-text">类与对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95"><span class="nav-number">6.1.</span> <span class="nav-text">类属性和方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="nav-number">6.2.</span> <span class="nav-text">装饰器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#self"><span class="nav-number">6.3.</span> <span class="nav-text">self</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%A7%E6%89%BF"><span class="nav-number">6.4.</span> <span class="nav-text">继承</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="nav-number">6.5.</span> <span class="nav-text">构造函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%81%E8%A3%85"><span class="nav-number">6.6.</span> <span class="nav-text">封装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E6%80%81"><span class="nav-number">6.7.</span> <span class="nav-text">多态</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E5%87%BD%E6%95%B0%E8%BD%AC%E5%B1%9E%E6%80%A7"><span class="nav-number">6.8.</span> <span class="nav-text">类的函数转属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E5%86%85%E7%BD%AE%E5%B1%9E%E6%80%A7"><span class="nav-number">6.9.</span> <span class="nav-text">类的内置属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E9%AD%94%E6%B3%95%E5%87%BD%E6%95%B0"><span class="nav-number">6.10.</span> <span class="nav-text">类的魔法函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1"><span class="nav-number">6.11.</span> <span class="nav-text">抽象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E8%A3%85%E7%B1%BB"><span class="nav-number">6.12.</span> <span class="nav-text">组装类</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Package"><span class="nav-number">7.</span> <span class="nav-text">Package</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#module"><span class="nav-number">7.1.</span> <span class="nav-text">module</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#the-entrance-of-code"><span class="nav-number">7.2.</span> <span class="nav-text">the entrance of code</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Error-catch"><span class="nav-number">8.</span> <span class="nav-text">Error catch</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Time-mudule"><span class="nav-number">9.</span> <span class="nav-text">Time mudule</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#OS-module"><span class="nav-number">10.</span> <span class="nav-text">OS module</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Random-module"><span class="nav-number">11.</span> <span class="nav-text">Random module</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Functional-programming"><span class="nav-number">12.</span> <span class="nav-text">Functional programming</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#lambda"><span class="nav-number">12.1.</span> <span class="nav-text">lambda</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#high-level-function"><span class="nav-number">12.2.</span> <span class="nav-text">high-level function</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#map"><span class="nav-number">12.2.1.</span> <span class="nav-text">map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#reduce"><span class="nav-number">12.2.2.</span> <span class="nav-text">reduce</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#filter"><span class="nav-number">12.2.3.</span> <span class="nav-text">filter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sorted"><span class="nav-number">12.2.4.</span> <span class="nav-text">sorted</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Closure-package"><span class="nav-number">12.2.5.</span> <span class="nav-text">Closure package</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Decorator"><span class="nav-number">12.2.6.</span> <span class="nav-text">Decorator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Partial-function"><span class="nav-number">12.2.7.</span> <span class="nav-text">Partial function</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#zip"><span class="nav-number">12.2.8.</span> <span class="nav-text">zip</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#enumerate"><span class="nav-number">12.2.9.</span> <span class="nav-text">enumerate</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#collections-module"><span class="nav-number">12.2.10.</span> <span class="nav-text">collections module</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#File-operate"><span class="nav-number">13.</span> <span class="nav-text">File operate</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#open"><span class="nav-number">13.1.</span> <span class="nav-text">open</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#write"><span class="nav-number">13.2.</span> <span class="nav-text">write</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pickle-module"><span class="nav-number">13.3.</span> <span class="nav-text">pickle module</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Log"><span class="nav-number">14.</span> <span class="nav-text">Log</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#python-logging-module"><span class="nav-number">14.1.</span> <span class="nav-text">python logging module</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#usage"><span class="nav-number">14.2.</span> <span class="nav-text">usage:</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#specify-default-log-level"><span class="nav-number">14.2.1.</span> <span class="nav-text">specify default log level</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#use-level-function"><span class="nav-number">14.2.2.</span> <span class="nav-text">use level function</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#use-log-function"><span class="nav-number">14.2.3.</span> <span class="nav-text">use log function</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#by-hand-usage"><span class="nav-number">14.3.</span> <span class="nav-text">by hand usage</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Json"><span class="nav-number">15.</span> <span class="nav-text">Json</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Multi-threads"><span class="nav-number">16.</span> <span class="nav-text">Multi threads</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#basic-usage"><span class="nav-number">16.1.</span> <span class="nav-text">basic usage</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#daemon-thread"><span class="nav-number">16.2.</span> <span class="nav-text">daemon thread</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shared-variables"><span class="nav-number">16.3.</span> <span class="nav-text">shared variables</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#thread-safe"><span class="nav-number">16.4.</span> <span class="nav-text">thread safe</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#deadlock"><span class="nav-number">16.5.</span> <span class="nav-text">deadlock</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#muiti-processes"><span class="nav-number">17.</span> <span class="nav-text">muiti processes</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#iterable-iterator"><span class="nav-number">18.</span> <span class="nav-text">iterable&#x2F;iterator</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#generator"><span class="nav-number">19.</span> <span class="nav-text">generator</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#coroutines"><span class="nav-number">20.</span> <span class="nav-text">coroutines</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#async-wait"><span class="nav-number">20.1.</span> <span class="nav-text">async&#x2F;wait</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#concurrent-futures"><span class="nav-number">20.2.</span> <span class="nav-text">concurrent.futures</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ThreadPoolExecutor"><span class="nav-number">20.2.1.</span> <span class="nav-text">ThreadPoolExecutor</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ProcessPoolExecutor"><span class="nav-number">20.2.2.</span> <span class="nav-text">ProcessPoolExecutor</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#regular-expression"><span class="nav-number">21.</span> <span class="nav-text">regular expression</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Xpath"><span class="nav-number">22.</span> <span class="nav-text">Xpath</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#net-program"><span class="nav-number">23.</span> <span class="nav-text">net program</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ftp"><span class="nav-number">24.</span> <span class="nav-text">ftp</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#mail"><span class="nav-number">25.</span> <span class="nav-text">mail</span></a></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/local-search.js"></script>






<div class="post-scripts pjax">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/toc.js"></script>
    
</div>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/pjax.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
