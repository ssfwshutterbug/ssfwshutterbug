<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>python | shutterbug sweet diary</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="PYTHONpython is a dynamic language, very powerful, useful and simple to use. python interpreterbecause python is a dynamic language, a interpreter is needed for using. there are two ways to install py">
<meta property="og:type" content="article">
<meta property="og:title" content="python">
<meta property="og:url" content="https://raw.githubusercontent.com/ssfwshutterbug/ssfwshutterbug.github.io/main/2022/04/23/python/index.html">
<meta property="og:site_name" content="shutterbug sweet diary">
<meta property="og:description" content="PYTHONpython is a dynamic language, very powerful, useful and simple to use. python interpreterbecause python is a dynamic language, a interpreter is needed for using. there are two ways to install py">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-04-23T15:09:35.000Z">
<meta property="article:modified_time" content="2022-04-23T15:09:57.883Z">
<meta property="article:author" content="shutterbug">
<meta property="article:tag" content="python">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="shutterbug sweet diary" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">shutterbug sweet diary</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://raw.githubusercontent.com/ssfwshutterbug/ssfwshutterbug.github.io/main"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-python" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/04/23/python/" class="article-date">
  <time datetime="2022-04-23T15:09:35.000Z" itemprop="datePublished">2022-04-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/learn/">learn</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      python
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="PYTHON"><a href="#PYTHON" class="headerlink" title="PYTHON"></a>PYTHON</h1><p>python is a dynamic language, very powerful, useful and simple to use.</p>
<h2 id="python-interpreter"><a href="#python-interpreter" class="headerlink" title="python interpreter"></a>python interpreter</h2><p>because python is a dynamic language, a interpreter is needed for using. there are two ways to install python interpreter:</p>
<ol>
<li><p>install from  source code, this way need compiling,  and it is complex, download <a target="_blank" rel="noopener" href="https://www.python.org/downloads/">in official website</a>, uncompress then compile</p>
<pre><code class="shell">./configure
make
make test
sudo make install
</code></pre>
</li>
<li><p>if we use linux distribution, it is easy to download with package manager.</p>
<pre><code class="shell"># such as in archlinux
pacman -S python
</code></pre>
</li>
</ol>
<p>after installing, check it’s version</p>
<pre><code class="shell">python --version
</code></pre>
<h2 id="pip"><a href="#pip" class="headerlink" title="pip"></a>pip</h2><p>what is pip? it is a package manager of python module. let’s install it.</p>
<p><strong>install</strong></p>
<p>note that there are two pip package available,</p>
<ul>
<li>pip2: this is used for python2</li>
<li>pip3:  this is used for python3</li>
</ul>
<p>so, which one should we choose depend on which python version we use.</p>
<pre><code class="shell">python --version
</code></pre>
<p>in centos:</p>
<pre><code class="shell"># epel repo needed
yum install epel-release
yum install python2-pip
</code></pre>
<p>in archlinux:</p>
<pre><code class="shell">pacman -S python-pip
</code></pre>
<p><strong>repo config</strong></p>
<p>in defalut, download speed is very slow. we need to modify mirror configuration</p>
<pre><code class="shell">pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre>
<p>the command will change mirror to tnua, and we can find the config in <code>~/.config/pip/pip.conf</code></p>
<p><strong>module location</strong></p>
<p>command to find the default position</p>
<pre><code class="shell">python -m site
</code></pre>
<p>be careful the <code>USER_SITE</code> value, it stores the package location pip installed</p>
<p>now let us to see where is the config file</p>
<pre><code class="shell">python -m site --help
</code></pre>
<p>the config file is <code>/usr/lib/python3.8/site.py</code></p>
<p>then we can change the default value to any other site you want, such as</p>
<pre><code>USER_SITE = &quot;/home/narcissus/Software/python_lib&quot;
</code></pre>
<p>from now on, we use pip command install packages, they will be stored in customized position</p>
<p>example:</p>
<pre><code class="shell">pip install pandas --user
</code></pre>
<h2 id="代码风格"><a href="#代码风格" class="headerlink" title="代码风格"></a>代码风格</h2><ul>
<li><p>python代码的一个很明显的特点就是缩进。代码块是通过缩进来组织的，代码块使用冒号<code>:</code>来标识</p>
</li>
<li><p>单行注释使用<code>#</code></p>
<pre><code class="python"># 单行注释
</code></pre>
</li>
<li><p>多行注释使用<code>&quot;&quot;&quot; &quot;&quot;&quot;</code></p>
<pre><code class="python">&quot;&quot;&quot;
多行
注释
&quot;&quot;&quot;
</code></pre>
</li>
<li><p>一行代码拆分多行使用<code>\</code></p>
<pre><code class="python">user = &#123;&quot;name&quot;:&quot;snippet&quot;,\
      &quot;age&quot;:&quot;12&quot;,\
      &quot;gender&quot;:&quot;male&quot;
      &#125;
print(user[&quot;age&quot;])
</code></pre>
</li>
<li><p>命名规范</p>
<ul>
<li><p>类命名：<br>使用大驼峰的规范，即每个单词都以大写字母开头</p>
<pre><code class="python">class UserInfo():
  name = &quot;python&quot;
</code></pre>
</li>
<li><p>变量命名：</p>
<ol>
<li>第一种：小驼峰，即第一个单词小写开头，其余字母大写开头<pre><code class="python">baiduUrl = &quot;https://www.baidu.com&quot;
</code></pre>
</li>
<li>第二种：所有字母全部小写，并用<code>_</code>连接，我比较喜欢这个<pre><code class="python">baidu_url = &quot;https://www.baidu.com&quot;
</code></pre>
</li>
</ol>
</li>
</ul>
</li>
</ul>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="作用："><a href="#作用：" class="headerlink" title="作用："></a>作用：</h3><ul>
<li>变量是一个字符串，用来保存数据的内存地址，指向内存中数据Data的位置。</li>
<li>变量所保存的内存地址可以被改变，所以变量可变</li>
<li>如果在程序中多处都要使用到这个数据，那么使用变量则可以只修改一个地方就行</li>
</ul>
<h3 id="赋值："><a href="#赋值：" class="headerlink" title="赋值："></a>赋值：</h3><ul>
<li><p>由于python是解释型语言，所以在声明变量时，不需要指定变量的类型</p>
<pre><code class="python">name = &quot;xiaotianquan&quot;
</code></pre>
</li>
<li><p>还可以一次性赋值多个</p>
<pre><code class="python">name,age,like = &quot;gou&quot;,2,&quot;food&quot;
print(name,age,like)
</code></pre>
</li>
</ul>
<h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><p>直接写变量名即可</p>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="标准数据类型："><a href="#标准数据类型：" class="headerlink" title="标准数据类型："></a>标准数据类型：</h3><ol>
<li><p>数字</p>
<p> 直接写数字，不加引号，加了引号作为字符串</p>
<pre><code class="python">age = 3
</code></pre>
</li>
<li><p>字符串 str</p>
<p> 用引号括起来的作为字符串，可以使用单引号和双引号<br> 这两种没有区别，因为没有变量置换（shell和perl中）这种操作，它使用的是拼接</p>
</li>
<li><p>布尔 True/False</p>
<p> 在python中，布尔值也可以作为数字使用<br> True = 1, False = 0</p>
<pre><code class="python">age = 3
print(age+True)
</code></pre>
</li>
<li><p>列表 list</p>
<p> 用<code>[]</code>表示，可以存储不同类型的数据</p>
<pre><code class="python">data = [1,2,3,4,5,6,7,&quot;a&quot;,&quot;b&quot;]
print(data)
</code></pre>
<p> 切片操作</p>
<ul>
<li>使用<code>:</code>，取出指定范围的数据，可以使用函数<code>id()</code>查看取出数据的内存地址<pre><code class="python">list[start_index:end_index:step]
</code></pre>
```python<br>data1 = [1,2,3,4]</li>
</ul>
<h1 id="作用为复制列表，使用频率高，有效的避免对原数组数据造成破坏"><a href="#作用为复制列表，使用频率高，有效的避免对原数组数据造成破坏" class="headerlink" title="作用为复制列表，使用频率高，有效的避免对原数组数据造成破坏"></a>作用为复制列表，使用频率高，有效的避免对原数组数据造成破坏</h1><p> data2 = data1[:]</p>
<h1 id="内存地址不同"><a href="#内存地址不同" class="headerlink" title="内存地址不同"></a>内存地址不同</h1><p> print(id(data1),id(data2))</p>
<h1 id="与data-作用相同，-1为最后一个元素的索引"><a href="#与data-作用相同，-1为最后一个元素的索引" class="headerlink" title="与data[:]作用相同，-1为最后一个元素的索引"></a>与data[:]作用相同，-1为最后一个元素的索引</h1><p> data3 = data1[0:-1]</p>
<h1 id="指定位置-前闭后开"><a href="#指定位置-前闭后开" class="headerlink" title="指定位置,前闭后开[)"></a>指定位置,前闭后开[)</h1><p> data4 = data1[0:2]</p>
<h1 id="指定步幅"><a href="#指定步幅" class="headerlink" title="指定步幅"></a>指定步幅</h1><p> data4 = data1[::2]</p>
<h1 id="逆序"><a href="#逆序" class="headerlink" title="逆序"></a>逆序</h1><p> data8 = data1[-1::-1]</p>
<h1 id="负数索引"><a href="#负数索引" class="headerlink" title="负数索引"></a>负数索引</h1><p> data5 = data1[-3:-1]</p>
<pre><code>
其它
```python
# 删除指定元素
data6 = data1.remove(2)

# 从后往前取出数据（删除）
data7 = data1.pop()

# 乘
data9 = data1 * 2

# 列表生成式
data10 = [ i for i in range(1,10) ]

# 嵌套
data11 = [data,data10]

# 循环取出嵌套数据
for i in data11:
    for j in i:
        print(j)
    
# 如果嵌套的两个list元素个数一致，可以使用一层嵌套即可取出所有值
la = [1,2,3,4]
lb = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;]
lc = [la,lb]
for i,j,k,l in lc:
    print(i,j,k,l)

# 查看list元素个数
len(data)

# 全部为数字时，可以取最大值，最小值
max(la)
min(la)

# 查看某个元素存在多少个
la.count(1)
</code></pre>
</li>
<li><p>元组 tuple</p>
<p> 使用<code>()</code>，为一个不可修改列表，大部分用法与list一致</p>
<pre><code class="python">data = (1,2,3,4,&quot;a&quot;,&quot;b&quot;)

# 创建一个只有一个元素的tuple，后面需要一个逗号
data = (1,)
print(type(data))

# 可以不加括号
data = 1,
print(type(data))
data = 1,2,3,4
print(type(data))

# 创建空的tuple
data = tuple()
data = ()

# 通过list创建tuple
mylist = [i for i in range(1,9)]
data = tuple(mylist)

# tuple的特殊用法，两个元素交换
a = 1
b = 2
a,b = b,a
</code></pre>
</li>
<li><p>集合 set</p>
<ul>
<li><p>数据有序，而且不可重复,具有取出重复的作用</p>
</li>
<li><p>通过list和tuple来生成集合</p>
<pre><code class="python">a = [1,2,3,4,2,1,3]
b = set(a)
print(type(b))
print(b)
</code></pre>
</li>
<li><p>通过<code>&#123;&#125;</code>来定义集合</p>
<pre><code class="python">a = &#123;1,2,2,5,3,4&#125;
print(type(a))
</code></pre>
</li>
<li><p>集合没有索引，只能for循环取出元素</p>
<pre><code class="python">a = &#123;i**2 for i in range(1,10)&#125;
for i in a:
  print(i)
</code></pre>
</li>
<li><p>集合运算</p>
<pre><code class="python">a = &#123;i for i in range(1,5)&#125;
b = &#123;i for i in range(3,7)&#125;
# 交集
c = a.intersection(b)
# 并集
d = a.union(b)
# 差集
e = a.difference(b)
</code></pre>
</li>
<li><p>让集合不可修改</p>
<pre><code class="python">a = &#123; i for i in range(1,5)&#125;
b = frozenset(a)
</code></pre>
</li>
</ul>
<p> 其它 </p>
<pre><code class="python"># 生成奇数、偶数集合
a = &#123;i for i in range(1,10) if i % 2 == 0&#125;
b = &#123;i for i in range(1,10) if i % 2 != 0&#125;

# 删除集合中的数，如果不存在则会报错
sa = &#123;i for i in range(1,10)&#125;
sa.remove(1)

# 删除集合中的数，如果不存在不会报错
sa.discard(11)

# 集合中也有pop函数，但是是随机的
sa.pop()
</code></pre>
</li>
<li><p>字典 dict</p>
<p> 输入字典数，以及字典数据，进行去重（相同key值相加），排序</p>
<pre><code class="python">num = int(input())
lt = &#123;&#125;

for i in range(num):
    # map可同时设置数据类型
    a,b = map(int, input().split())
    if a in lt.keys():
        lt[a] += b
    else:
        lt[a] = b
# sorted可对字典进行排序，key可以使用lambda来指定使用key或者value排序
lt = sorted(lt.items(), key=lambda a: a)
for i in lt:
    print(i[0], i[1])
</code></pre>
</li>
</ol>
<h3 id="数据类型嵌套-对象"><a href="#数据类型嵌套-对象" class="headerlink" title="数据类型嵌套-对象"></a>数据类型嵌套-对象</h3><p>在list，tuple，set，dict中均可以存储对象</p>
<pre><code class="python">class User():
    name = &quot;ls&quot;
    age = 21
user = User()

a = [user]
b = (user,)
c = &#123;user&#125;
d = &#123;&quot;obj&quot;:user&#125;

print(type(a),type(b),type(c),type(d))
print(a[0].name,b[0].name,d[&quot;obj&quot;].name)
for i in c:
    print(i.name,i.age)
</code></pre>
<h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><ul>
<li>算数运算符</li>
<li>关系运算符</li>
<li>赋值运算符</li>
<li>逻辑运算符</li>
<li>位运算</li>
<li>成员运算符</li>
<li>身份运算符</li>
</ul>
<h2 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h2><ul>
<li>python没有自增自减运算符</li>
<li>包括：<ul>
<li>加 <code>+</code></li>
<li>减 <code>-</code></li>
<li>乘 <code>*</code></li>
<li>除<ul>
<li>普通除法 <code>/</code></li>
<li>取余 <code>%</code></li>
<li>取整 <code>//</code></li>
</ul>
</li>
</ul>
</li>
<li>所有运算符都可以使用运算赋值的缩写：<br>  <code>+=</code>，<code>-=</code>，<code>*=</code>,<code>/=</code>,<code>%=</code>,<code>//=</code><pre><code class="python">a = 1
a += 1
print(a)
</code></pre>
  已经有运算赋值这两个操作了，所以不能再赋值</li>
</ul>
<h2 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h2><p>比较运算的结果一定为一个布尔值：True/False</p>
<ul>
<li>等于 <code>==</code></li>
<li>不等于 <code>!=</code><pre><code class="python">print(3!=4)
</code></pre>
</li>
<li>其它<ul>
<li><code>&gt;</code></li>
<li><code>&gt;=</code></li>
<li><code>&lt;</code></li>
<li><code>&lt;=</code></li>
</ul>
</li>
</ul>
<h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><p>使用等号来赋值<code>=</code>，将数据data赋值给变量</p>
<h2 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h2><p>返回结果为True/False</p>
<ul>
<li>and</li>
<li>or</li>
<li>not</li>
</ul>
<pre><code class="python">a = 1
if a == 3 or a == 2 :
    print(&quot;true&quot;)
else:
    print(&quot;false&quot;)
</code></pre>
<h2 id="成员运算符"><a href="#成员运算符" class="headerlink" title="成员运算符"></a>成员运算符</h2><p>用来检测一个值或者变量是否在一个集合中,返回结果为True/False</p>
<ul>
<li>in</li>
<li>not in<pre><code class="python">a = 1
b = [i for i in range(1,5)]
c = a in b
d = a not in b
print(c,d)
</code></pre>
</li>
</ul>
<h2 id="身份运算符"><a href="#身份运算符" class="headerlink" title="身份运算符"></a>身份运算符</h2><p>用来判断两个变量是否一致,返回结果为True/False</p>
<ul>
<li>is</li>
<li>is not<pre><code class="python">a = 1
b = 1
c = 2
print(a is b)
print(a is c)
print(a is not c)
</code></pre>
</li>
</ul>
<h1 id="程序结构"><a href="#程序结构" class="headerlink" title="程序结构"></a>程序结构</h1><ul>
<li>顺序<br>  程序从上到下依次执行</li>
<li>循环<br>  <code>for</code><br>  <code>while</code></li>
<li>分支<br>  <code>if</code></li>
</ul>
<h2 id="分支结构"><a href="#分支结构" class="headerlink" title="分支结构"></a>分支结构</h2><p><em>这里的条件表达式只要是返回结果为True/False即可</em></p>
<pre><code class="python">if 条件表达式:
    语句1
elif 条件表达式:
    语句2
else:
    语句3
</code></pre>
<p>举例1：</p>
<pre><code class="python">user = input(&quot;type your name: &quot;)
if user == &quot;root&quot;:
    print(&quot;you are the admin&quot;)
elif user == &quot;narcissus&quot;:
    print(&quot;you are the normal user&quot;)
else:
    print(&quot;you are the user not in group sudo&quot;)
</code></pre>
<p>举例2：空字符串为假</p>
<pre><code class="python">if &quot;&quot;:
    print(&quot;true&quot;)
else:
    print(&quot;false&quot;)
</code></pre>
<h2 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h2><h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><p><em>用来遍历序列中的所有元素</em></p>
<pre><code class="python">for 变量 in 序列:
    语句
</code></pre>
<p>举例：</p>
<pre><code class="python">for i in range(1,10):
    print(i)
</code></pre>
<ul>
<li>循环中的条件跳转<ul>
<li>break 终止循环</li>
<li>continue 跳过continue后的语句</li>
<li>pass 没有实际作用，用来占位</li>
</ul>
</li>
</ul>
<p>举例：</p>
<pre><code class="python">for i in range(2,20):
    if i % 2 == 0:
        print(str(i) + &quot;能被2整除&quot;)
        continue
    elif i % 3 == 0:
        print(str(i) + &quot;能被3整除&quot;)
        pass
    else:
        break
</code></pre>
<h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><p>当条件成立时，一直循环。这个条件必须要有终止，否则会形成死循环。</p>
<pre><code class="python">while 条件表达式:
    语句
</code></pre>
<p>举例1：<br>求a，b的最小公约数</p>
<pre><code class="python">a = 2
b = 5
c = 1
while c % a != 0 or c % b != 0:
    c += 1
    print(a,b,c)
</code></pre>
<p>举例2：</p>
<pre><code class="python">i = 1
while i &lt; 3:
    i += 1
    try:
        num =  int(input(&quot;num&quot;))
        a = 5 / num
        print(a)
    except Exception as e:
        print(&quot;输入非零整数&quot;)
</code></pre>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><ul>
<li><p>命名<br>一般采用:<code>动词_名词</code>的形式</p>
</li>
<li><p>意义<br>复用代码</p>
</li>
<li><p>定义</p>
<pre><code class="python">def 函数名():
  语句
</code></pre>
</li>
<li><p>调用</p>
<pre><code class="python">函数名()
</code></pre>
</li>
<li><p>举例：</p>
<pre><code class="python">import time
def get_time():
  now = time.strftime(&quot;%Y%m%d-%H:%M:%S&quot;)
  print(now)
get_time()
</code></pre>
</li>
</ul>
<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><ul>
<li><p>分类方式1：</p>
<ul>
<li><p>形参：在写函数时，括号中的那个参数</p>
<pre><code class="python">def get_name(name):
  print(name)
</code></pre>
</li>
<li><p>实参：在函数调用时括号中传入的参数</p>
<pre><code class="python">get_name(&quot;小舞&quot;)
</code></pre>
</li>
</ul>
</li>
<li><p>分类方式2：</p>
<ul>
<li><p>位置参数：在传参时必须一一对应</p>
<pre><code class="python">def normal(name,age,like):
  print(&quot;&#123;&#125; is &#123;&#125; years old and like &#123;&#125;&quot;.format(name,age,like))
normal(&quot;小舞&quot;,20,&quot;star&quot;)
</code></pre>
</li>
<li><p>关键字参数：在传参时不必一一对应，而是使用参数名来设置参数</p>
<pre><code class="python">def keyword(name,age,like):
  print(&quot;&#123;&#125; is &#123;&#125; years old and like &#123;&#125;&quot;.format(name,age,like))
keyword(age=20, name=&quot;小舞&quot;, like=&quot;star&quot;)
</code></pre>
</li>
<li><p>默认参数: 给参数设置默认值，如果不传则使用默认值，不过默认参数后面不能写位置参数</p>
<pre><code class="python">def default(a,b,c=1):
  print((a + b) / c)
default(1,2)
</code></pre>
</li>
<li><p>收集参数：在不确定会传入参数个数的情况下使用</p>
<ol>
<li>如果后面还有位置参数，那么位置参数会作为关键字参数，而且位置不能变</li>
<li>如果有两个星号，那么表示收集所有参数包括关键字参数<pre><code class="python">def collection(*count):
sum = 0
for i in count:
 sum += i
return sum
collection(1,2,3,4)
</code></pre>
</li>
</ol>
</li>
</ul>
</li>
</ul>
<pre><code>def collection(*count,another=1):
sum = 0
for i in count:
    sum += i
return sum + another
collection(1,2,3,4,another=5)
```

- 分解参数：
    1. 将list和元组作为参数传给函数时
    ```python
    def expend(*args):
        sum = 0 
        for i in args:
            sum += i
        return sum
    a = (i for i in range(1,10))
    b = [i for i in range(1,10)]
    print(expend(*a))
    print(expend(*b))
    ```

    2. 将字典作为参数传给函数时
    ```python
    def expend(**args):
        sum = 0
        for i in args:
            sum += args[i]
        return sum
    c = &#123;&quot;a&quot;:1,&quot;b&quot;:2,&quot;c&quot;:3&#125;
    expend(**c)
    ```
</code></pre>
<h2 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h2><ul>
<li>函数可以有返回值，也可以没有返回值，使用<code>return</code>来返回执行结果</li>
<li>但是在python中还是推荐有返回值，如果没有实际值返回可以返回一个<code>None</code></li>
<li>函数一旦执行return之后函数就会结束，return后面的语句不会执行</li>
</ul>
<p>举例：</p>
<pre><code class="python">def sum(a,b):
    return a + b
a = sum(1,2)
print(a)

c = 1
def plus():
    global c
    c += 1
    return None
# 函数没有返回值，每次调用函数c的值就自增1
plus()
print(c)
</code></pre>
<p>计算九九乘法表：我写的挺复杂</p>
<pre><code class="python">for y in range(1,10):
    x = 1
    while x &lt;= y:
        print(str(x) + &quot;*&quot; + str(y) + &quot;=&quot; + str(x*y) \
        + &quot; &quot;,end=&#39;&#39;)
        x += 1
        if x &gt; y:
            print(end=&quot;\n&quot;)
</code></pre>
<p>简单写法</p>
<pre><code class="python">for y in range(1,10):
    for x in range(1,y+1):
        print(&#39;&#123;&#125;*&#123;&#125;=&#123;&#125;\t&#39;.format(x,y,x*y),end=&quot;&quot;)
    print()
</code></pre>
<p>三角形</p>
<pre><code class="python">for y in range(1,10):
    for x in range(1,10-y):
        print(&quot;   &quot;,end=&quot;&quot;)
    for x in range(1,2*y):
        print(&quot; 1 &quot;,end=&quot;&quot;)
    print()
</code></pre>
<h2 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h2><p>函数直接或者间接调用自己，需要有结束条件</p>
<p>优缺点：</p>
<ul>
<li>优点：书写理解简单</li>
<li>缺点：执行速度慢</li>
</ul>
<p>写法：</p>
<ul>
<li><p>结束条件</p>
<pre><code class="python">def plus(num):
  if num == 1:
      return 1
# 这个函数调用时，传入1，得到plus(1) = 1
# 不能这么写，这么写是错误的
def plus(num):
  plus(1) = 1
</code></pre>
</li>
<li><p>返回自己</p>
<pre><code class="python">def plus(num):
  if num == 1:
      return 1
  return num + plus(num-1)
plus(100)
</code></pre>
</li>
<li><p>举例：斐波拉契数列</p>
</li>
</ul>
<p>普通写法</p>
<pre><code class="python"># 1, 1, 2, 3, 5, 8, 13.....
def fun(num):
    a = b = i = 1
    sum = 1 if num == 1 else 2
    while i &lt; num-1:
        a,b = b,a+b
        i += 1
        sum = sum + b 
    print(&quot;第&#123;&#125;个斐波拉契数为：&#123;&#125;，总数为：&#123;&#125;&quot;.format(num,b,sum)) 
fun(3)
</code></pre>
<p>使用递归写法</p>
<pre><code class="python"># 1, 1, 2, 3, 5, 8, 13.....
def fib(num):
    if num == 1 or num == 2:
        return 1
    return fib(num-1) + fib(num-2)

def fib_list(num):
    for i in range(1,num+1):
        print(fib(i))
fib_list(10)
</code></pre>
<h2 id="尾递归"><a href="#尾递归" class="headerlink" title="尾递归"></a>尾递归</h2><p>对比普通写法和递归的写法，递归函数在调用40次时已经停止调用了，而且在求同一个斐波拉契数的时候，普通写法速度秒杀递归写法。普通写法单线程求第十万个斐波拉契数不到一秒，第一百万个斐波拉契数约六秒。所以递归函数不适合复杂计算</p>
<p>递归函数为什么慢？因为递归函数运行时，每一次调用都会返回一个<code>表达式</code>，不能返回一个确定的值，那么原函数的参数，逻辑结构等这些都不能修改，每次计算机在调用函数时会使用堆栈，每调用一个函数会增加一层栈帧，所以当递归过程多次调用函数的时候可能会导致大小有限的堆栈溢出。优化方式之一是尾递归</p>
<p>为什么尾递归可以优化？尾递归与递归都需要调用自身，看起来没多大区别（我刚开始也没看懂），但是尾递归每次都不是返回的表达式，而是返回的一个函数，至于计算结果，那是通过变量的形式进行传递的，这么做的好处就是不用开新的栈，而是刷新原函数，将参数传递进去就好了。所以做到了优化，但是python中即使是使用了尾递归，次数仍然只能达到999次。并不是真正意义上的尾递归</p>
<p>在很多时候我们都是在刷新变量的值，而并不是重新用一个别的变量</p>
<pre><code class="python">sum = 0
for i in range(1,10):
    sum += i
print(sum)
</code></pre>
<p>尾递归的斐波拉契函数写法：</p>
<pre><code class="python"># 1, 1, 2, 3, 5, 8, 13.....
def fib(num, first=1, second=1, sum=2):
    if num == 2 or num == 1:
        return second,sum
    return fib(num-1, second, first+second, sum+first+second)
fib(7)
</code></pre>
<p>利用三目运算简写</p>
<pre><code class="python">def fib(num, first=1, second=1, sum=2):
    return 1 if num == 1 else(sum  if num == 2 else fib(num-1, second, first+second, sum+first+second))
fib(7)
</code></pre>
<p>通过上面尾递归的写法，可以看出函数调用自身的作用类似于计数，真正计算的过程在参数中。其实类似于普通函数的写法</p>
<h2 id="函数的使用"><a href="#函数的使用" class="headerlink" title="函数的使用"></a>函数的使用</h2><p>在python中一切皆是对象，所以函数也是对象，函数名指向的是代码段的内存地址</p>
<ul>
<li><p>作为元素使用：放在list，tuple，set，dict中</p>
<pre><code class="python">def user():
  print(&quot;hello&quot;)
one = user()
a = [one]
</code></pre>
</li>
<li><p>作为参数传递给函数</p>
</li>
<li><p>可以被赋值</p>
</li>
<li><p>作为函数的返回值</p>
</li>
</ul>
<h1 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h1><p>在linux相关的运维上，有很多都是处理字符串，所以字符串有点重要的</p>
<h2 id="路径问题"><a href="#路径问题" class="headerlink" title="路径问题"></a>路径问题</h2><p>在很多情况下，输入路径需要各种转义才行，为了避免这种麻烦，使用<code>r</code></p>
<pre><code class="python">location = r&#39;c:\user\kite\desktop&#39;
print(location)
</code></pre>
<h2 id="变量替换（字符串拼接、格式化）"><a href="#变量替换（字符串拼接、格式化）" class="headerlink" title="变量替换（字符串拼接、格式化）"></a>变量替换（字符串拼接、格式化）</h2><ul>
<li><p><code>%</code></p>
<pre><code class="python">print(&quot;i like %s and %s&quot;%(&quot;cat&quot;,&quot;dog&quot;))
</code></pre>
</li>
<li><p><code>format</code>函数，使用<code>&#123;&#125;</code></p>
<ul>
<li><p>直接使用</p>
<pre><code class="python">print(&quot;i like &#123;&#125; and &#123;&#125;&quot;.format(&quot;cat&quot;,&quot;dog&quot;))
</code></pre>
</li>
<li><p>使用变量</p>
<pre><code class="python">a = &quot;i like &#123;&#125; and &#123;&#125;&quot;
print(a.format(&quot;cat&quot;,&quot;dog&quot;))
</code></pre>
</li>
<li><p>指定位置</p>
<pre><code class="python">a = &quot;i like &#123;0&#125; and &#123;0&#125; and &#123;1&#125;&quot;
print(a.format(&quot;cat&quot;,&quot;dog&quot;))
</code></pre>
</li>
<li><p>使用命名：</p>
<ul>
<li>我觉得这种还不错，虽然字多了一点，但是很清晰<pre><code class="python">a = &quot;i like &#123;animal&#125; and &#123;animal&#125; and &#123;drink&#125;&quot;
print(a.format(animal=&quot;cat&quot;,drink=&quot;juice&quot;))
</code></pre>
</li>
<li>在传入的参数比较多时，使用字典是最好的,需要使用到参数分解，这个是目前我觉得最好的<pre><code class="python">a = &quot;i like &#123;animal&#125; and &#123;animal&#125; and &#123;drink&#125;&quot;
b = &#123;&quot;animal&quot;:&quot;cat&quot;,&quot;drink&quot;:&quot;juice&quot;&#125;
print(a.format(**b))
</code></pre>
</li>
</ul>
</li>
<li><p>指定数字长度</p>
<pre><code class="python">a = &quot;pi is &#123;:.2f&#125;&quot;
print(a.format(1.1314))
</code></pre>
</li>
</ul>
</li>
</ul>
<h2 id="判断类函数"><a href="#判断类函数" class="headerlink" title="判断类函数"></a>判断类函数</h2><p>函数以<code>is</code>开头，返回值为<code>True</code>/<code>False</code></p>
<h2 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h2><p>字符串的关键字为<code>str</code>，通过str来查看帮助文档</p>
<pre><code class="python">help(str)
</code></pre>
<p>举例</p>
<pre><code class="python">url = r&quot;https://www.baidu.com&quot;
# 查找，索引，未找到返回-1
url.find(&quot;http&quot;)
# 从指定位置开始查找，优化查找速度
url.find(&quot;d&quot;,10)

# 从右边查找，查找字符在结尾时优化查找速度
url.rfind(&quot;m&quot;)

# 查找，索引，未找到报错
url.index(&quot;h&quot;)

# 开头，结尾，返回True，False
url.startswith(&quot;https&quot;)
url.endswith(&quot;com&quot;)

# 是否全大小写,返回True，False
url.isupper()
url.islower()

# 大小写转换
url.upper()
url.lower()

# 首字母大写
url.capitalize()

# 不带参数代表空格，去除开头结尾空格
error = r&quot;   https://www.baidu.com   &quot;
a = error.strip()

# 带参数去除开头结尾指定字符
url.strip(&quot;https&quot;)
</code></pre>
<h1 id="类与对象"><a href="#类与对象" class="headerlink" title="类与对象"></a>类与对象</h1><p>类通过class来定义，对象由类实例化而来。类的作用在于为对象提供一个模板，它包含了属性和函数。最重要的是类提供了继承，封装，多态这三大特性。</p>
<pre><code class="python"># 定义类
class User():
    pass

# 实例化
xiaolu = User()
</code></pre>
<p>查看类的所有方法：<code>__dict__</code></p>
<pre><code class="python">str.__dict__
</code></pre>
<h2 id="类属性和方法"><a href="#类属性和方法" class="headerlink" title="类属性和方法"></a>类属性和方法</h2><p>在类定义之后，就在内存中保存了类的属性和方法，可以直接调用</p>
<pre><code class="python">class User():
    name = &quot;jounr&quot;
    def get_name(self):
        return self.name
print(User.name)
print(User.get_name(User))
</code></pre>
<ul>
<li><p>实例方法：使用最多的方法，需要将类实例化成为对象，通过对象调用方法</p>
</li>
<li><p>静态方法：</p>
<ul>
<li>不需要实例化，通过类直接调用</li>
<li>静态方法包装在staticmethod类的对象中，定义中没有self，可直接通过类来调用方法<br>```python<br>class MyClass():<br>def tellme():<br>  print(“i am a static method,without self”)<br>tellme = staticmethod(tellme)</li>
</ul>
</li>
</ul>
<p>MyClass.tellme()</p>
<pre><code>
- 类方法：
    - 不需要实例化，通过类直接调用，如果调用需要传参的函数，则将类自己作为参数传递进去
    - 类方法包装在classmethod类的对象中，参数为cls，虽然可以通过对象来调用，但是实际上cls还是会关联到类的方法
```python
class MyClass():
    def tellme(cls):
        print(&quot;i am a class method,with args sls&quot;)
    tellme = classmethod(tellme)

MyClass.tellme()
</code></pre>
<h2 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h2><ul>
<li>上面的类方法和静态方法，需要手动写，但是可以通过使用装饰器来自动包装</li>
<li>用来替代手工包装，可用于包装任何可调用对象，还可用于方法和函数。装饰器可以有多个，指定多个时，应用的顺序与列出的顺序相反<pre><code class="python">class MyClass():
  @staticmethod
  def tellme():
      print(&quot;new decorator&quot;)
MyClass.tellme()
</code></pre>
</li>
</ul>
<h2 id="self"><a href="#self" class="headerlink" title="self"></a>self</h2><ul>
<li>self作为一个参数，常常用在类的函数中，但并不是所有类的函数都需要这个参数</li>
<li>self并不是一个关键字，也可以用其它的替代</li>
<li>如果这个函数需要访问类的属性，那么需要self这个参数，它用来指代实例自身</li>
<li>如果这个函数不需要访问类的属性，那么不需要self这个参数</li>
<li>在有self的时候，首先会看函数自己是否定义属性，如果没有，则访问类的属性<pre><code class="python">class User():
  age = 20
  id = 1
  qq = 102832343
  def info():
      print(&quot;hello&quot;)
  def get_age(self):
      return self.age
  def get_qq(self):
      self.qq = 2312323123
      return self.qq,self.age
one = User()
one.info()
print(one.get_age())
print(one.get_qq())
</code></pre>
</li>
</ul>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><ul>
<li>继承父类的属性，函数等。避免了代码的冗余，也可重写父类的方法</li>
<li>将父类作为参数传递给子类</li>
<li>子类可以继承自多个类<br>```python<br>class User():<br>  name = “one”<br>  age = 20<br>  def get_name(self):<pre><code>  return self.name
</code></pre>
class Customer():<br>  id = 1<br>class Realone(User,Customer):<br>  pass</li>
</ul>
<p>a = Realone()<br>a.get_name()<br>print(a.id)</p>
<pre><code>
- 子类扩充父类的方法：使用`super()`调用父类方法
```python
class User():
    name = &quot;journal&quot;
    def get_name(self):
        print(self.name)
class SomeOne(User):
    def get_info(self):
        super().get_name()
        print(&quot;attend super&quot;)

a = SomeOne()
a.get_info())
</code></pre>
<ul>
<li>检测是否为子类<pre><code class="python">print(issubclass(Realone,User))
</code></pre>
</li>
</ul>
<h2 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h2><ul>
<li>在类实例化的时候第一个自动调用的函数，作用是给对象初始化一些数据</li>
<li>必须有参数self,函数名为<code>__init__</code><br>```python<br>class User():<br>  def <strong>init</strong>(self):<pre><code>  self.name = &quot;lixingyun&quot;
</code></pre>
</li>
</ul>
<p>a = User()<br>print(a.name)</p>
<pre><code>
- 通过继承，扩展父类的构造函数
```python
class User():
    def __init__(self,name):
        self.name = name
        print(name)

# 直接写父类的init方法，只能写一个父类，不推荐使用
class One(User):
    def __init__(self,name):
        # 先调用父类的init函数
        User.__init__(self,name)
        print(&quot;initial finish&quot;)

# 可以自动向上寻找父类的init方法，父类没有写死，推荐使用
class Two(User):
    def __init__(self,name):
        super(Two,self).__init__(name)
        print(&quot;initial finish&quot;)

a = One(&quot;小小&quot;)
b = Two(&quot;小小&quot;)
</code></pre>
<ul>
<li>构造函数默认被继承</li>
<li>如果定义了自己的构造函数，那么父类的构造函数不再被继承。也叫重写父类函数</li>
</ul>
<h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><p>封装即为对对象成员进行访问限制</p>
<ul>
<li><p>私有：最高级别的限制，只能在当前类或者对象中访问。通过在变量前加<code>__</code>实现</p>
<pre><code class="python">class User():
  __name = &quot;喜洋洋&quot;
  __age = 20
one = User()
# 无法直接访问
print(one.name)
</code></pre>
<p>其实私有也不是真的无法访问，还是可以访问的</p>
<pre><code class="python">print(one._User__age)
</code></pre>
</li>
<li><p>受保护的：在外部不可访问，可以在内部和子类中访问。通过在变量前加<code>_</code>实现</p>
</li>
<li><p>公有的：任何地方都可以使用</p>
</li>
</ul>
<h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><ul>
<li>同一个对象在不同情况下有不同的状态</li>
<li>在python中是一种设计思想，并没有语法要求，其实我也搞不懂</li>
</ul>
<h2 id="类的函数转属性"><a href="#类的函数转属性" class="headerlink" title="类的函数转属性"></a>类的函数转属性</h2><p>类中的get，set，del函数可以转换为属性</p>
<pre><code class="python">class User():
    def __init__(self,name):
        self.name = name
    def get_name(self):
        return self.name
    def set_name(self,name):
        self.name = name

one = User(&quot;小小&quot;)
one.get_name()
one.set_name(&quot;小青&quot;)
one.get_name()
</code></pre>
<p>可以使用<code>property(get,set,del)</code>函数对get，set，del封装。将函数转换为一个属性值</p>
<pre><code class="python">class User():
    def __init__(self,name):
        self.name = name
    def get_name(self):
        return self.name
    def set_name(self,name):
        self.name = name
    sname = property(get_name, set_name)

two = User(&quot;小二&quot;)
two.sname
two.sname = &quot;可可&quot;
two.sname
</code></pre>
<h2 id="类的内置属性"><a href="#类的内置属性" class="headerlink" title="类的内置属性"></a>类的内置属性</h2><ul>
<li><code>__dict__</code>： 显示类的属性和方法</li>
<li><code>__doc__</code>： 类的说明文档</li>
<li><code>__name__</code>： 类的名称</li>
<li><code>__bases__</code>： 类的所有父类</li>
</ul>
<h2 id="类的魔法函数"><a href="#类的魔法函数" class="headerlink" title="类的魔法函数"></a>类的魔法函数</h2><p>不需要手动调用，达到触发条件，自动调用</p>
<ul>
<li><p><code>__init__</code>： 初始化类的属性</p>
</li>
<li><p><code>__call__</code>： 当对象被当做函数使用的时候，调用此函数</p>
<pre><code class="python">class User():
  def __call__(self):
      print(&quot;此时对象被当做函数调用了&quot;)
one = User()
one()
</code></pre>
</li>
<li><p><code>__str__</code>： 当对象被当做字符串使用的时候，调用此函数</p>
<pre><code class="python">class User():
  def __str__(self):
      return &quot;此时对象被当做字符串使用了&quot;
one = User()
print(one)
</code></pre>
</li>
<li><p><code>__getattr__</code>： 当访问一个不存在的属性时，调用此函数<br>```python<br>class User():<br>  def <strong>getattr</strong>(self,method):</p>
<pre><code>  return &quot;此函数不存在&quot;
</code></pre>
</li>
</ul>
<p>one = User()<br>print(one.age)</p>
<pre><code>
## 抽象
- 抽象方法

定义了方法，但没有实现
```python
class User():
    def get_name(self):
        pass
</code></pre>
<ul>
<li><p>抽象类</p>
<ul>
<li>必须导入模块<code>abc</code></li>
<li>抽象类不可以实例化，必须继承后实例化，继承的子类需要实现所有的继承来的抽象方法</li>
<li>作用为设定类的标准</li>
</ul>
</li>
</ul>
<pre><code class="python">import abc

class User(metaclass=abc.ABCMeta):

    # 定义抽象方法
    @abc.abstractmethod
    def get_name(self):
        pass

    # 定义类抽象方法
    @abc.abstractclassmethod
    def get_age(self):
        pass

    # 定义静态抽象方法
    @abc.abstractstaticmethod
    def get_id(self):
        pass

    # 定义普通方法
    def set_qq(self,qq):
        self.qq = qq
</code></pre>
<h2 id="组装类"><a href="#组装类" class="headerlink" title="组装类"></a>组装类</h2><p>函数名可以作为变量使用</p>
<pre><code class="python">class User():
    pass
def he(self):
    print(&quot;hello&quot;)

User.he = he
one = User()
one.he()
</code></pre>
<h1 id="Package"><a href="#Package" class="headerlink" title="Package"></a>Package</h1><p>package is a collection of modules, which must be included with a file called <code>__init__.py</code></p>
<ul>
<li><p>how to import a package</p>
<ul>
<li>import all include <code>__init__.py</code><br>```python<br>import package_name</li>
</ul>
<p>  package_name.function_name()<br>  package_name.class_name.function_name()</p>
<pre><code>
- only import specify module,except `__init__.py`
```python
import package_name.module_name as md1

md1.function_name()
md1.class_name()
</code></pre>
<ul>
<li>another way import should be mentiond<pre><code class="python">from package_name import *
</code></pre>
the way import only import function and class which in <code>__init__.py</code></li>
</ul>
</li>
</ul>
<h2 id="module"><a href="#module" class="headerlink" title="module"></a>module</h2><p>a module is a file contains python code.it’s suffix with .py</p>
<ul>
<li><p>why we need module?</p>
<ul>
<li>shrink program,make it easy to maintain</li>
<li>module can be reused</li>
<li>used as a namespace,reduce name conflict</li>
</ul>
</li>
<li><p>how to use module?</p>
<ul>
<li>import directily<br>```python<br>import module_name</li>
</ul>
<p>  module_name.function_name()<br>  module_name.class_name()</p>
<pre><code>
- if the module name prefix with num such as 2.py
```python
import importlib

variable = importlib.import_module(&quot;02&quot;)

variable.function_name()
variable.class_name()
</code></pre>
<ul>
<li><p>use as rename module when the name of module is long</p>
<pre><code class="python">import module_name as somename
</code></pre>
</li>
<li><p>import module’s class or function,not whole module<br>```python<br>from module_name import someclass,somefunction</p>
</li>
</ul>
<p>  variable1 = someclass()<br>  variable2 = somefunction()</p>
<pre><code>
- import all class and function

the benifit of it is writing class or function directily without module name prefix
```python
from module_name import *

variable = someclass()
</code></pre>
</li>
<li><p>where modules store?</p>
<ul>
<li>default location<br>```python<br>import sys</li>
</ul>
<p>  for i in sys.path:</p>
<pre><code>  print(i)
</code></pre>
<pre><code>
- add own module location
```python
import sys

sys.path.append(directory)
</code></pre>
</li>
</ul>
<h2 id="the-entrance-of-code"><a href="#the-entrance-of-code" class="headerlink" title="the entrance of code"></a>the entrance of code</h2><ul>
<li>in genreal,all entrance of code should be started with this</li>
<li>it can control whether to execute some code,if used as a code which will be execute,if used as a module which will not be execute</li>
</ul>
<pre><code class="python">if __name__ == &quot;__main__&quot;:
    print(&quot;first execute code&quot;)
</code></pre>
<h1 id="Error-catch"><a href="#Error-catch" class="headerlink" title="Error catch"></a>Error catch</h1><p>some days ago,i really don’t know why we need to catch error.in my mind,i think we should not write code with error.until one day,i get a problem,i need to create a temporary table first and then delete it every time the script run.and the error appeard.some times the table isn’t exist,when execute the delete code,the program broken.at last i use error catch to avoid the error</p>
<p>eg:get user type in</p>
<pre><code class="python">try:
    num = int(input(&quot;num:&quot;))
    result = 100 / num
    print(result)
except:
    print(&quot;not a none zero number&quot;)
</code></pre>
<ul>
<li>syntax<pre><code class="python">try:
  ...
  # can raise error by hand
  raise some_error_type
# if it is the error below(tuple),execute this code
except (error_type1,error_type2...):
  ...
  # exit() can exit the program
  exit()
# we can print error infomation
except ZeroDivisionError as e:
  print(e)
# Exception is the supper of all except type
except Exception as e:
  ...
# if not in the error above execute this code
else:
  ...
# what ever error happend,will execute this code
finally:
  ...
</code></pre>
</li>
</ul>
<h1 id="Time-mudule"><a href="#Time-mudule" class="headerlink" title="Time mudule"></a>Time mudule</h1><pre><code class="python">import time

# get time now with format
now = time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)

# another way to get the format time
hour = time.localtime().tm_hour

# get the timestamp
unique = time.time()

# sleep
time.sleep(second_number)
</code></pre>
<pre><code class="python">import timeit

# calcute program execute time with number times repeat
t1 = timeit.timeit(stmt=&quot;[i for i in range(10)]&quot;,number=100)

def number():
    lt = []
    for i in range(10):
        lt.append(i)

t2 = timeit.timeit(stmt=number,number=100)
</code></pre>
<pre><code class="python">import datetime

# convert string to date
a = datetime.date(2020,10,10)
print(a)
b= datetime.time(10,10,10)
print(b)
c = datetime.datetime(2020,10,10,10,10,10)
print(c)

# get the current datetime
d = datetime.date.today()
print(d)
</code></pre>
<h1 id="OS-module"><a href="#OS-module" class="headerlink" title="OS module"></a>OS module</h1><p>associated with operate system</p>
<p>three important modules:</p>
<ul>
<li>os</li>
<li>os.path, used for path</li>
<li>shutil, used for directory,file</li>
</ul>
<pre><code class="python">import os

dir = os.getcwd()

os.chdir(&quot;../&quot;)

# get file and dir of current directory with out hidden file
lt = [i for i in os.listdir() if not i.startswith(&quot;.&quot;)]

# execute shell command
os.system(&quot;htop&quot;)

# get system environment variables
os.getenv(&quot;SHELL&quot;)
</code></pre>
<pre><code class="python">import os.path as op

absc = op.abspath(&quot;.&quot;)

# used for different operate system
d1 = &quot;/home/narcissus&quot;
d2 = &quot;1.txt&quot;
os.join(d1,d2)

# os.path.split return a tuple,so can be used like this
d1,d2 = op.split(&quot;/home/narcissus/1.txt&quot;)

# whether a path exists
op.exists(&quot;/home/narcissus/1.txt&quot;)
</code></pre>
<pre><code class="python">import shutil

shutil.copy(&quot;1.txt&quot;,&quot;2.txt&quot;)

shutil.move(&quot;1.txt&quot;,&quot;2.txt&quot;)

# archive all file of Desktop into test.tar
shutil.make_archive(&quot;/home/narcissus/Desktop/test&quot;,&quot;tar&quot;,&quot;/home/narcissus/Desktop/&quot;)

# unarchive file
shutil.unpack_archive(&quot;/home/narcissus/Desktop/test.tar&quot;,&quot;.&quot;,&quot;tar&quot;)
</code></pre>
<h1 id="Random-module"><a href="#Random-module" class="headerlink" title="Random module"></a>Random module</h1><pre><code class="python">import random

# return a number in the interval [0,1)
r1 = random.random()

# return a number in the interval [0,100)
r2 = int(random.random()*100)

# random choice in the interval [1,100)
l1 = [i for i in range(0,100)]
random.choice(l1)

# shuffle list
l1 = [i for i in range(1,10)]
print(l1)
random.shuffle(l1)
print(l1)

# random integer
random.randint(1,100)
</code></pre>
<h1 id="Functional-programming"><a href="#Functional-programming" class="headerlink" title="Functional programming"></a>Functional programming</h1><p>features:</p>
<ul>
<li>function can be used as a parameter </li>
<li>function can be used as return value</li>
</ul>
<h2 id="lambda"><a href="#lambda" class="headerlink" title="lambda"></a>lambda</h2><p>lambda exprssion</p>
<ul>
<li>begin with lambda</li>
<li>have zero or more parameter</li>
<li>use : split lambda with expression</li>
<li>no return keyword</li>
</ul>
<pre><code class="python">la = lambda x: x * 100
la(10)

lb = lambda x,y,z: x + y*10 + z/2
lb(2,4,8)
</code></pre>
<h2 id="high-level-function"><a href="#high-level-function" class="headerlink" title="high-level function"></a>high-level function</h2><pre><code class="python">def get_name():
    print(&quot;小小&quot;)

# function is a variable
variable = get_name
variable()
</code></pre>
<pre><code class="python"># normal function
def plus(num):
    return num * 100
def add(num):
    return plus(num) + 100
add(3)

# high_level function
def plus(num):
    return num * 100
def high_level(fun,num):
    return fun(num) + 100
high_level(plus,2)
</code></pre>
<h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><p><code>map(func,*iterables)</code></p>
<pre><code class="python">l1 = [i for i in range(10)]
print(l1)

# use lambda expression ,ten times a num
mult = lambda num: num * 10

# use map to generate a class map
l2 = map(mult,l1)
print(l2)

# class object can be iterabled
l3 = [i for i in l2]
print(l3)
</code></pre>
<h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h3><p>notice:</p>
<ul>
<li>need import module</li>
<li>function need two parameters</li>
<li>function need return value</li>
</ul>
<p>principle:<br>reduce(1,2,3) = f(f(1,2),3)</p>
<pre><code class="python">from functools import reduce

l1 = [i for i in range(10)]

plus = lambda x,y: x + y

l2 = reduce(plus,l1)
print(l2)
</code></pre>
<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><p>notice:</p>
<ul>
<li>function need return a boolean</li>
<li>filter return a class object which can be iterabled</li>
</ul>
<p><code>filter(function,*iterables)</code></p>
<pre><code class="python">l1 = [i for i in range(10)]

fit = lambda x: x % 2 == 0

l2 = filter(fit,l1)

l3 = [i for i in l2]
print(l3)
</code></pre>
<h3 id="sorted"><a href="#sorted" class="headerlink" title="sorted"></a>sorted</h3><p>number sorted</p>
<pre><code class="python">import random

l1 = [i for i in range(10)]
random.shuffle(l1)
print(l1)

l2 = sorted(l1)
print(l2)

l3 = sorted(l1,reverse=True)
print(l3)
</code></pre>
<p>charactor sorted</p>
<pre><code class="python">l1 = [&quot;sda&quot;,&quot;dev&quot;,&quot;HOME&quot;,&quot;Alian&quot;,&quot;alias&quot;]

l2 = sorted(l1)
print(l2)

l3 = sorted(l1, key=str.lower)
print(l3)

l4 = sorted(l1, key=str.lower, reverse=True)
print(l4)
</code></pre>
<h3 id="Closure-package"><a href="#Closure-package" class="headerlink" title="Closure package"></a>Closure package</h3><p>B function defined inside A function,and B function as a return vlaue,all parameters of A can be used by B,it is called closure</p>
<pre><code class="python">def A(*args):
    def B():
        sum = 0
        for i in args:
            sum += i
        return sum
    return B

l1 = [i for i in range(20)]
one = A(*l1)
one()
</code></pre>
<h3 id="Decorator"><a href="#Decorator" class="headerlink" title="Decorator"></a>Decorator</h3><p>Decorator is a high-level function,i can return a function.</p>
<p>feature:</p>
<ul>
<li>extend origion function without change its code</li>
<li>use <code>@</code> to called a decorator</li>
</ul>
<pre><code class="python">import time

def now(func):
    def pf(*args,**kwargs):
        print(&quot;Time:&quot;,time.ctime())
        return func(*args,**kwargs)
    return pf

def line(func):
    def pf(*args,**kwargs):
        print(&quot;=&quot;*50)
        return func(*args,**kwargs)
    return pf

# use system decorator @
@now
@line
def he(name):
    print(&quot;hello&quot;,name)

he(&quot;小小&quot;)


# by hand execute without system decorator @
return_fun = now(he)
return_fun(&quot;小小&quot;)
</code></pre>
<h3 id="Partial-function"><a href="#Partial-function" class="headerlink" title="Partial function"></a>Partial function</h3><p>return a new function with some of its parameters fixed</p>
<pre><code class="python">import functools

# convert 16 to 10
int16 = functools.partial(int,base=16)
int16(&quot;f&quot;)


# we can realize this by hand
def int16(num,base=16):
    return int(num,base)
int16(&quot;f&quot;)
</code></pre>
<h3 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h3><p>combine two iterable object into several tuples</p>
<pre><code class="python">l1 = [i for i in range(1,10)]
l2 = [i for i in range(100,110)]
l3 = [i for i in zip(l1,l2)]
print(l3)
</code></pre>
<h3 id="enumerate"><a href="#enumerate" class="headerlink" title="enumerate"></a>enumerate</h3><p>give each iterable object a index and return several tuples,notice that the index can be customized</p>
<pre><code class="python">l1 = [i for i in range(1,10)]

l2 = [i for i in enumerate(l1,start=1)]

print(l2)
</code></pre>
<h3 id="collections-module"><a href="#collections-module" class="headerlink" title="collections module"></a>collections module</h3><ul>
<li>namedtuple: it can limit the number of tuple</li>
<li>deque: it is much faster than list</li>
<li>defaultdict: no error report when query none exist key</li>
<li>Counter: regard string as a iterable dict</li>
</ul>
<pre><code class="python">import collections

circle = collections.namedtuple(&quot;circle&quot;,[&quot;x&quot;,&quot;y&quot;,&quot;r&quot;])
p = circle(3,4,5)
if p.x**2 + p.y**2 == p.r**2:
    print(&quot;it is a circle&quot;)
</code></pre>
<pre><code class="python">import collections

ql = collections.deque()
ql.append(1)
print(ql)
</code></pre>
<pre><code class="python">import collections

func = lambda : &quot;no key exist&quot;
dd = collections.defaultdict(func)
dd[&quot;one&quot;] = &quot;first&quot;
dd[&quot;one&quot;]
dd[&quot;four&quot;]
</code></pre>
<pre><code class="python">import collections

cr = &quot;ksjflajowielzxkjowieof1242lkjlk&quot;
cd = collections.Counter(cr)
print(cd)
print(cd[&quot;j&quot;])
</code></pre>
<h1 id="File-operate"><a href="#File-operate" class="headerlink" title="File operate"></a>File operate</h1><h2 id="open"><a href="#open" class="headerlink" title="open"></a>open</h2><ul>
<li>mode<ul>
<li>r: read only</li>
<li>w: new write,will erase origional file</li>
<li>x: open exist file,if not error reportd</li>
<li>a: append mode</li>
<li>b: binary write</li>
<li>t: file mode open</li>
<li>+: read and write</li>
</ul>
</li>
</ul>
<p>in this way, we need to close file handle by hand</p>
<pre><code class="python">dir = r&quot;/home/narcissus/Desktop/遍历游标的三种方式.md&quot;
f = open(dir,&quot;r&quot;)
for i in f:
    print(i)
f.close()
</code></pre>
<p>in this way, file handle will be closed automatically</p>
<pre><code class="python">dir = r&quot;/home/narcissus/Desktop/遍历游标的三种方式.md&quot;
with open(dir,&quot;r&quot;) as f:
    for i in f:
        print(i)
</code></pre>
<p>read only one line,so should be carefully</p>
<pre><code class="python">dir = r&quot;/home/narcissus/Desktop/遍历游标的三种方式.md&quot;
with open(dir,&quot;r&quot;) as f:
    i = f.readline()
    while i:
        print(i)
        i = f.readline()
</code></pre>
<p>read all lines</p>
<pre><code class="python">dir = r&quot;/home/narcissus/Desktop/遍历游标的三种方式.md&quot;
with open(dir,&quot;r&quot;) as f:
    i = f.readlines()
    for j in i:
        print(j)

# or use this
with open(dir,&quot;r&quot;) as f:
    i = list(f)
    for j in i:
        print(j)
</code></pre>
<p>read each word</p>
<pre><code class="python">dir = r&quot;/home/narcissus/Desktop/遍历游标的三种方式.md&quot;
with open(dir,&quot;r&quot;) as f:
    word = f.read(1)
    while word:
        print(word,end=&quot;&quot;)
        word = f.read(1)
</code></pre>
<h2 id="write"><a href="#write" class="headerlink" title="write"></a>write</h2><ul>
<li>write: only support string</li>
<li>writeline: can write list directily</li>
</ul>
<pre><code class="python">import os

dir = r&quot;/home/narcissus/Desktop/1.txt&quot;
txt = os.listdir(&quot;/home/narcissus&quot;)
needed = [i for i in txt if not i.startswith(&quot;.&quot;)]
with open(dir, &quot;w&quot;) as f:
    # write whole list once without space
    f.writelines(needed)

    # can not write list directily,but can use loop to write new line per element
    # for i in needed:
    #     f.write(i)
    #     f.write(&quot;\n&quot;)
with open(dir,&quot;r&quot;) as f:
    info = f.readlines()
    print(info)
</code></pre>
<h2 id="pickle-module"><a href="#pickle-module" class="headerlink" title="pickle module"></a>pickle module</h2><p>it is used for persistence file, can save program’s information to disk while the program runing</p>
<p>feature:</p>
<ul>
<li>it can store infomation immediately</li>
<li>it can store infomation with format unchanged</li>
</ul>
<p>function:</p>
<ul>
<li>pickle.dump: write</li>
<li>pickle.load: read</li>
</ul>
<p>notice:<br>use binary mode to write or read file</p>
<pre><code class="python">import pickle,os

dir = r&quot;/home/narcissus/Desktop/1.txt&quot;
txt = os.listdir(&quot;/home/narcissus&quot;)
info = [i for i in txt if not i.startswith(&quot;.&quot;)]
with open(dir,&quot;wb&quot;) as f:
    pickle.dump(info,f)
with open(dir,&quot;rb&quot;) as f:
    get = pickle.load(f)
    print(get)
</code></pre>
<h1 id="Log"><a href="#Log" class="headerlink" title="Log"></a>Log</h1><p>why we need log?<br>recording some information at important points, suitable log information can let us to know program running statius<br>but that isn’t to say log is much more much better,because io operation will slow down program.</p>
<p>there are several log level:</p>
<ul>
<li>debug</li>
<li>info</li>
<li>notice</li>
<li>warning</li>
<li>error</li>
<li>critical</li>
<li>alert</li>
<li>emergency</li>
</ul>
<p>log include:<br>[time location level content]</p>
<p>good log module:</p>
<ul>
<li>log4j -&gt; java</li>
<li>log4php -&gt; php</li>
<li>logging -&gt; python</li>
</ul>
<h2 id="python-logging-module"><a href="#python-logging-module" class="headerlink" title="python logging module"></a>python logging module</h2><p>level:</p>
<ul>
<li>debug</li>
<li>info</li>
<li>warning</li>
<li>error</li>
<li>critical</li>
</ul>
<p>default log level:</p>
<ul>
<li>specify a log level in program</li>
<li>only log level which equal or high above than specified level will be write in log</li>
</ul>
<h2 id="usage"><a href="#usage" class="headerlink" title="usage:"></a>usage:</h2><h3 id="specify-default-log-level"><a href="#specify-default-log-level" class="headerlink" title="specify default log level"></a>specify default log level</h3><p>only logging once at first time executes</p>
<p>feature:</p>
<ul>
<li>specify the default log level</li>
<li>output: sys.stderr</li>
<li>default level: warning</li>
<li>format: level:log_name:content</li>
</ul>
<pre><code class="python">logging.basicConfig(**kwargs)
</code></pre>
<p>eg:</p>
<pre><code class="python">import logging

dir = r&quot;/home/narcissus/Desktop/info.log&quot;
log_format = &quot;%(asctime)s   %(levelname)s   %(message)s&quot;
logging.basicConfig(filename=dir, level=logging.DEBUG, format=log_format)
</code></pre>
<h3 id="use-level-function"><a href="#use-level-function" class="headerlink" title="use level function"></a>use level function</h3><pre><code class="python">logging.debug(msg, *args, **kwargs)
logging.info(msg, *args, **kwargs)
logging.warning(msg, *args, **kwargs)
logging.error(msg, *args, **kwargs)
logging.critical(msg, *args, **kwargs)
</code></pre>
<p>eg:</p>
<pre><code class="python">import logging

logging.debug(&quot;this is a debug log&quot;)
logging.info(&quot;this is a info log)
</code></pre>
<h3 id="use-log-function"><a href="#use-log-function" class="headerlink" title="use log function"></a>use log function</h3><pre><code class="python">logging.log(level, *args, **kwargs)
</code></pre>
<p>eg:</p>
<pre><code class="python">import logging

logging.log(logging.DEBUG,&quot;this is a debug log&quot;)
logging.log(logging.INFO,&quot;this is a info log&quot;)
</code></pre>
<p>complete example</p>
<pre><code class="python">import logging

dir = r&quot;/home/narcissus/Desktop/info.log&quot;
log_format = &quot;%(asctime)s\t%(levelname)s\t%(lineno)d %(message)s&quot;
logging.basicConfig(filename=dir, level=logging.DEBUG, format=log_format)


logging.debug(&quot;this is a debug log&quot;)
logging.info(&quot;this is a info log&quot;)

logging.log(logging.DEBUG,&quot;this is a debug log&quot;)
logging.log(logging.INFO,&quot;this is a info log&quot;)
</code></pre>
<h2 id="by-hand-usage"><a href="#by-hand-usage" class="headerlink" title="by hand usage"></a>by hand usage</h2><ul>
<li>logger: a interface of log produces log</li>
<li>handler: decide where log stores</li>
<li>filter: what should be displayed</li>
<li>formatter: format</li>
</ul>
<p>logger:</p>
<pre><code class="python">Logger.setLevel()
Logger.addHandler()/Logge.removeHandler()
Logger.addFilter()/Logger.removeFilter()
Logger.debug()/info/error
Logger.exception()
Logger.log()


logging.getLogger()
</code></pre>
<p>and so on …..</p>
<h1 id="Json"><a href="#Json" class="headerlink" title="Json"></a>Json</h1><p>convert:</p>
<ul>
<li>json.dumps(): python -&gt; json</li>
<li>json.loads(): json -&gt; json</li>
</ul>
<p>read and write with file:</p>
<ul>
<li>json.dump(): write to file</li>
<li>json.load(): read from file</li>
</ul>
<pre><code class="python">import json,os

data = &#123;
    &quot;user&quot;: &quot;小小&quot;,
    &quot;age&quot;: 20,
    &quot;like&quot;: [&quot;juice&quot;,&quot;apple&quot;,&quot;cherry&quot;],
    &quot;score&quot;: &#123;
        &quot;chinese&quot;: 80,
        &quot;math&quot;: 90,
        &quot;english&quot;: 100
    &#125;
&#125;

jd = json.dumps(data)
print(type(jd),jd)
nd = json.loads(jd)
print(type(nd),nd)

dir = r&quot;/home/narcissus/Desktop&quot;
os.chdir(dir)
with open(&quot;test.js&quot;,&quot;w&quot;) as f:
    json.dump(data,f)

with open(&quot;test.js&quot;,&quot;r&quot;) as f:
    file = json.load(f)
    print(file[&quot;score&quot;][&quot;chinese&quot;])
</code></pre>
<h1 id="Multi-threads"><a href="#Multi-threads" class="headerlink" title="Multi threads"></a>Multi threads</h1><p>process vs thread:<br>process totally different,but thread will share something.<br>process builds with threads</p>
<h2 id="basic-usage"><a href="#basic-usage" class="headerlink" title="basic usage"></a>basic usage</h2><p>syntax:</p>
<pre><code class="python">import threading
# args is tuple
td = threading.thread(target=function_name,args=())
# set thread name,it is optional
td.setName(&quot;thread1&quot;)
# start thread
td.start()
# waiting for thread finish
td.join()   
</code></pre>
<p>notice:<br>the type of args is tuple</p>
<h2 id="daemon-thread"><a href="#daemon-thread" class="headerlink" title="daemon thread"></a>daemon thread</h2><p>when process stops the daemon thread will stop immediately</p>
<p>syntax:</p>
<pre><code class="python">import threading
# args is tuple
td = threading.thread(target=function_name,args=())
td.daemon = True # or td.setDaemon(True)
td.start()
# waiting for thread finish
td.join()   
</code></pre>
<h2 id="shared-variables"><a href="#shared-variables" class="headerlink" title="shared variables"></a>shared variables</h2><p>it is appeard when several threads access one variable at the same time, it will lead wrong result. In order to resolve this problem, we can lock the use of variable</p>
<p>syntax:</p>
<pre><code class="python">lock = threading.Lock()
lock.acquire()
lockd_variable
lock.release()
</code></pre>
<p>without lock</p>
<pre><code class="python">import threading

sum = 0
num = 1000000

def add(num):
    global sum
    for i in range(num):
        sum += 1
    return sum

def miu(num):
    global sum
    for i in range(num):
        sum -= 1
    return sum
# normal usage will return sum = 0
# miu(num)
# add(num)
# print(sum)


# use thread access one variable at the same time will lead wrong result
def calcu():
    td1 = threading.Thread(target=add,args=(num,))
    td2 = threading.Thread(target=miu,args=(num,))

    td1.start()
    td2.start()
    td1.join()
    td2.join()

if __name__ == &quot;__main__&quot;:
    calcu()
    print(sum)
</code></pre>
<p>use lock</p>
<pre><code class="python">import threading

sum = 0
num = 1000000
lock = threading.Lock()

# lock variable to be accessd by one at the same time
def add(num):
    global sum
    for i in range(num):
        lock.acquire()
        sum += 1
        lock.release()
    return sum

def miu(num):
    global sum
    for i in range(num):
        lock.acquire()
        sum -= 1
        lock.release()
    return sum


def lock_calcu():
    ld1 = threading.Thread(target=add,args=(num,))
    ld2 = threading.Thread(target=miu,args=(num,))

    ld1.start()
    ld2.start()

    ld1.join()
    ld2.join()

if __name__ == &quot;__main__&quot;:
    lock_calcu()
    print(sum)
</code></pre>
<h2 id="thread-safe"><a href="#thread-safe" class="headerlink" title="thread safe"></a>thread safe</h2><p>if one variable to be used by multi threads at the same time without lock variable but no problem happend, it is called thread safe.</p>
<p>not thread safe: list, set, dict</p>
<p>thread safe: queue</p>
<h2 id="deadlock"><a href="#deadlock" class="headerlink" title="deadlock"></a>deadlock</h2><p>two lock both not release, lead to both waitting, deadlock appeard, leading program dead</p>
<h1 id="muiti-processes"><a href="#muiti-processes" class="headerlink" title="muiti processes"></a>muiti processes</h1><p>we know multi threads will cause problem usually, but there are several method more useful than multi threads:</p>
<ul>
<li>subprocess</li>
<li>multiprocessing</li>
<li>concurrent.futures</li>
</ul>
<h1 id="iterable-iterator"><a href="#iterable-iterator" class="headerlink" title="iterable/iterator"></a>iterable/iterator</h1><p>difference:<br>iterable -&gt; directly used by for loop<br>iterator -&gt; not only used by for loop but also can be used by next function</p>
<p>how to distinct each other:</p>
<pre><code class="python">from collections import Iterable,Iterator

lt = [i for i in range(10)]

print(isinstance(lt,Iterable))
print(isinstance(lt,Iterator))
</code></pre>
<p>convert iterable to iterator:</p>
<pre><code class="python">from collections import Iterable,Iterator

lt = [i for i in range(10)]

print(isinstance(lt,Iterable))
print(isinstance(lt,Iterator))

clt = iter(lt)
print(isinstance(clt,Iterable))
print(isinstance(clt,Iterator))
</code></pre>
<h1 id="generator"><a href="#generator" class="headerlink" title="generator"></a>generator</h1><p>feature:</p>
<ul>
<li>product data which used by for loop</li>
<li>at the end of generator raise StopIterationError</li>
<li>can be used by next() function</li>
</ul>
<p>why we need generator?<br>all data are calculated step by step when in need, don’t store in memory, use cpu instead of memory. range() is a generator,so we need use it often, it is more useful than list.</p>
<p>how to make a generator</p>
<ul>
<li><code>()</code></li>
<li>yield: yield can stop loop until next iterate</li>
</ul>
<p>use <code>()</code></p>
<pre><code class="python">lt = [i for i in range(10)]
lg = (i for i in range(10))

print(type(lt))
# lg is a generator
print(type(lg))
</code></pre>
<p>use yield</p>
<pre><code class="python"># normal usage
# 1,1,2,3,5,8,13
# def fib(num):
#     a,b,n = 0,1,0
#     while n &lt; num:
#         a,b = b,a+b
#         n += 1
#     return a
# fib(6)


# use yield
def fib(num):
    a,b,n = 0,1,0
    while n &lt; num:
        # yield can stop loop until next iterate
        yield b
        a,b = b,a+b
        n += 1

# generator is iterable
for i in fib(7):
    print(i)
</code></pre>
<h1 id="coroutines"><a href="#coroutines" class="headerlink" title="coroutines"></a>coroutines</h1><p>coroutines is much more useful than multi threads, it’s need less resource, we can regard it as a generator or a function which can be stopd</p>
<p>how to realize it?</p>
<ul>
<li>yield: return result</li>
<li>send: send args to generator</li>
<li>yield from: as a middle hand transfer message</li>
</ul>
<p>yield x: return x<br>x = yield: get x value from send() function</p>
<pre><code class="python">def test_coroutine():
    print(&quot;start&quot;)
    x = yield
    print(&quot;get&quot;,x)
    yield x


co = test_coroutine()
next(co)
co.send(20)
</code></pre>
<p>yield from</p>
<pre><code class="python">def test_coroutine(st):
    for i in range(st):
        yield i

def get_num():
    yield from &quot;1234567&quot;

print(list(get_num()))
</code></pre>
<h2 id="async-wait"><a href="#async-wait" class="headerlink" title="async/wait"></a>async/wait</h2><pre><code class="python">import asyncio

async def get_num(num):
    for i in range(num):
        print(i)
        await asyncio.sleep(1)

loop = asyncio.get_event_loop()
lt = [get_num(10),get_num(20)]
loop.run_until_complete(asyncio.wait(lt))
loop.close()
</code></pre>
<h2 id="concurrent-futures"><a href="#concurrent-futures" class="headerlink" title="concurrent.futures"></a>concurrent.futures</h2><ul>
<li>use subprocess, run several python interpreter. each subprocess can use a core of cpu, all core of cpu can be used 100%</li>
<li>use multithreads, as we know python can only use one thread at one time, so it uses the same time as one process, and each of thread can not pull use cpu</li>
</ul>
<h3 id="ThreadPoolExecutor"><a href="#ThreadPoolExecutor" class="headerlink" title="ThreadPoolExecutor"></a>ThreadPoolExecutor</h3><p>although my cpu only have 4 core 8 thread, but each cpu didn’t be full used, it is because python can only run one thread at one time, threadpool is also thread.</p>
<pre><code class="python">from concurrent.futures import ThreadPoolExecutor

def ts(num):
    sum = 0
    print(threading.current_thread())
    for i in range(num):
        sum += 1
    return sum

pool = ThreadPoolExecutor(max_workers=8)

t1 = pool.submit(ts, 100000000)
t2 = pool.submit(ts, 100000000)
t3 = pool.submit(ts, 100000000)
t4 = pool.submit(ts, 100000000)
t5 = pool.submit(ts, 100000000)
t6 = pool.submit(ts, 100000000)
t7 = pool.submit(ts, 100000000)
t8 = pool.submit(ts, 100000000)

print(t1.result())
print(t2.result())
print(t3.result())
print(t4.result())
print(t5.result())
print(t6.result())
print(t7.result())
print(t8.result())
</code></pre>
<p>use map</p>
<pre><code class="python">from concurrent.futures import ThreadPoolExecutor

def ts(num):
    sum = 0
    print(threading.current_thread())
    for i in range(num):
        sum += 1
    return sum

pool = ThreadPoolExecutor(max_workers=8)


lt = [100000000] * 8
for i in pool.map(ts,lt):
    print(i)
</code></pre>
<h3 id="ProcessPoolExecutor"><a href="#ProcessPoolExecutor" class="headerlink" title="ProcessPoolExecutor"></a>ProcessPoolExecutor</h3><p>all core of cpu can be used 100%</p>
<pre><code class="python">from concurrent.futures import ProcessPoolExecutor

def ts(num):
    sum = 0
    print(threading.current_thread())
    for i in range(num):
        sum += 1
    return sum

pool = ProcessPoolExecutor(max_workers=8)


lt = [100000000] * 8
for i in pool.map(ts,lt):
    print(i)
</code></pre>
<h1 id="regular-expression"><a href="#regular-expression" class="headerlink" title="regular expression"></a>regular expression</h1><ul>
<li><p>there are two methods</p>
<ol>
<li>compile re to a object<br>```python<br>import re</li>
</ol>
<p>  s = “Hello, Join. where did you go? 123,hk123,H89Hk”<br>  p = re.compile(“[0-9]{1,}”)<br>  m = p.findall(s)<br>  print(m)</p>
<pre><code>
2. use re directory
```python
import re

s = &quot;Hello, Join. where did you go? 123,hk123,H89Hk&quot;
m = re.findall(&quot;[0-9]&#123;1,&#125;&quot;,s)
print(m)
</code></pre>
</li>
<li><p>ignore case</p>
</li>
</ul>
<pre><code class="python">import re

s = &quot;Hello, Join. where did you go? 123,hkj123,H89Hjk&quot;
p = re.compile(&quot;h&quot;,re.I)
m = p.findall(s)
print(m)
</code></pre>
<ul>
<li>substitute</li>
</ul>
<pre><code class="python">import re

s = &quot;Hello, Join. where did you go? 123,hkj123,H89Hjk&quot;
p = re.compile(&quot;\d+&quot;)
t = p.sub(&quot;000&quot;,s)
print(s)
print(t)
</code></pre>
<ul>
<li>catch chinese</li>
</ul>
<pre><code class="python">import re

s = &quot;Hello, 世界. 喜欢你where did you go? 123,hkj123,H89Hjk&quot;
p = re.compile(&quot;[\u4c00-\u9fa5]+&quot;)
t = p.findall(s)

print(t)
</code></pre>
<ul>
<li>catch no chinese</li>
</ul>
<pre><code class="python">import re

s = &quot;Hello, 世界. 喜欢你where did you go? 123,hkj123,H89Hjk&quot;
p = re.compile(&quot;[^\u4c00-\u9fa5]+&quot;)
t = p.findall(s)

print(t)
</code></pre>
<h1 id="Xpath"><a href="#Xpath" class="headerlink" title="Xpath"></a>Xpath</h1><p>it is used to find xml file</p>
<p>syntax:</p>
<ul>
<li><code>/</code>: root node</li>
<li><code>//</code>: two node</li>
<li><code>.</code>: current node</li>
<li><code>..</code>: father node</li>
<li><code>@</code>: property</li>
</ul>
<h1 id="net-program"><a href="#net-program" class="headerlink" title="net program"></a>net program</h1><p>network model:</p>
<ul>
<li>7 layers model<ul>
<li>Layer 7 - Application</li>
<li>Layer 6 - Presentation</li>
<li>Layer 5 - Session</li>
<li>Layer 4 - Transport</li>
<li>Layer 3 - Network</li>
<li>Layer 2 - Data Link</li>
<li>Layer 1 - Physical</li>
</ul>
</li>
<li>4 layers model<ul>
<li>Layer 4 - Application</li>
<li>Layer 3 - Transport</li>
<li>Layer 2 - Network</li>
<li>Layer 1 - Link</li>
</ul>
</li>
</ul>
<h1 id="ftp"><a href="#ftp" class="headerlink" title="ftp"></a>ftp</h1><ul>
<li><p>leaning website: <a target="_blank" rel="noopener" href="http://zetcode.com/python/ftp/">link</a></p>
</li>
<li><p>Python ftplib<br>python ftplib is a module that implements the client side of the FTP protocol. It contains an FTP client class and some helper functions. </p>
</li>
<li><p>Python FTP clas<br>The ftplib.FTP() creates a new instance of the FTP class. When host is given, a connection to the host is made with the connect() method. </p>
</li>
</ul>
<p>example:</p>
<p>in my archlinux, i start vsftpd.service first</p>
<pre><code class="shell">sudo systemctl start vsftpd
</code></pre>
<p>and then change the default config <code>/etc/vsftpd.config</code> to enable local user login</p>
<p>at last i write a ftp python file</p>
<pre><code class="python">import ftplib

# a anonymous function print lines
line = lambda x: print(x * 80)

# get ftp login user and passwd
user = input(&quot;ftp login user name: &quot;)
pwd = input(&quot;password: &quot;)

with ftplib.FTP(&quot;localhost&quot;) as ftp:
    try:
        # get connection
        ftp.login(user=user, passwd=pwd)

        # print welcome information
        info = ftp.getwelcome()
        print(&quot;welcome: &quot;,info)
        line(&quot;-&quot;)
        
        # change current directory
        ftp.cwd(dirname=&quot;Desktop&quot;)

        # get current directory
        current_dir = ftp.pwd()
        print(&quot;current_dir: &quot;,current_dir)
        line(&quot;*&quot;)

        # get context list
        files = []
        ftp.dir(files.append)
        for i in files:
            print(i)
        line(&quot;=&quot;)

        # download file, by default the file will be stored at /tmp/
        file_copy = &quot;test.txt&quot;
        with open(file_copy, &quot;w&quot;) as f:
            res = ftp.retrlines(&quot;RETR &quot;+&quot;1.py&quot;, f.write)
            
            if not res.startswith(&#39;226 Transfer complete&#39;):
                print(&#39;Download failed&#39;)
                if os.path.isfile(file_copy):
                    os.remove(file_copy)  
            else:
                print(&quot;down&quot;)
        
    except ftplib.all_errors as e:
        print(e)
</code></pre>
<h1 id="mail"><a href="#mail" class="headerlink" title="mail"></a>mail</h1><p>how it works?<br>process: user mail —-&gt; mail proxy —–&gt; mail server —–&gt; user<br>agent: ————&gt;mua————–&gt;mta—————&gt;mda<br>protocal: —————–&gt;SMTP————-&gt;POP3/IMAP</p>
<p>MUA: MailUserAgent, user send mail to proxy<br>MTA: MailTransferAgent, catch mail from proxy to mail server<br>MDA: MailDeliveryAgent, deliver mail from server to user</p>
<p>how to use it:<br>there are two modules</p>
<ol>
<li>email: used to modify mail</li>
<li>smtplib: used to send mail</li>
</ol>
<p>the following is a simple text mail example.</p>
<pre><code class="python">import smtplib
from email.mime.text import MIMEText


# define some variables
from_addr = &quot;1025096440@qq.com&quot;
# this is a code from web mail
from_pwd = &quot;nrbnnibhjrgrbcdd&quot;
to_addr = &quot;1025096440@qq.com&quot;
smtp_srv = &quot;smtp.qq.com&quot;

# write message
text_msg = MIMEText(&quot;第一封邮件&quot;, &quot;plain&quot;, &quot;utf-8&quot;)

# add header
text_msg[&#39;From&#39;] = from_addr
text_msg[&#39;To&#39;] = to_addr
text_msg[&#39;Subject&#39;] = &quot;测试&quot;


try:
    # server address need encode to byte,so we need encode it
    # port 465 is a security port which server accept
    srv = smtplib.SMTP_SSL(smtp_srv.encode(), 465)

    # login
    srv.login(from_addr,from_pwd)

    # send text mail
    srv.sendmail(from_addr, [to_addr], text_msg.as_string())
    srv.quit()
except Exception as e:
    print(e)
else:
    print(&quot;done&quot;)
</code></pre>
<p>the following is a text format mail with additional file </p>
<pre><code class="python">import smtplib
from email.mime.text import MIMEText
from email.mime.multipart import MIMEBase,MIMEMultipart



# some variables
from_addr = &quot;1025096440@qq.com&quot;
# this is a code from web mail
from_pwd = &quot;nrbnnibhjrgrbcdd&quot;
to_addr = &quot;1025096440@qq.com&quot;
smtp_srv = &quot;smtp.qq.com&quot;
files = r&quot;/home/narcissus/Desktop/1.py&quot;

# initial multipart object
mail_mul = MIMEMultipart()
# add header
mail_mul[&#39;From&#39;] = from_addr
mail_mul[&#39;To&#39;] = to_addr
mail_mul[&#39;Subject&#39;] = &quot;use python email and smtplib module send mail&quot;

# write message
text_msg = MIMEText(&quot;the email include text message and file&quot;, &quot;plain&quot;, &quot;utf-8&quot;)

# add text to multipart object
mail_mul.attach(text_msg)

# add file
with open(files, &quot;rb&quot;) as f:
    line = f.read()
    content = MIMEText(line, &quot;base64&quot;, &quot;utf-8&quot;)
    content[&quot;Content-type&quot;] = &quot;application/octet-stream&quot;
    content[&quot;Content-Disposition&quot;] = &quot;attachment; filename=files&quot;
    mail_mul.attach(content)

# send mail
try:
    # server address need encode to byte,so we need encode it
    # port 465 is a security port which server accept
    srv = smtplib.SMTP_SSL(smtp_srv.encode(), 465)

    # login
    srv.login(from_addr,from_pwd)

    # send text mail
    srv.sendmail(from_addr, [to_addr], mail_mul.as_string())
    srv.quit()
except Exception as e:
    print(e)
else:
    print(&quot;done&quot;)
</code></pre>
<p>the following is a html format mail example.</p>
<pre><code class="python">import smtplib
from email.mime.text import MIMEText

# write message
html_msg = &quot;&quot;&quot;
    &lt;!DOCTYPE html&gt;
    &lt;html lang=&quot;en&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
        &lt;title&gt;Document&lt;/title&gt;
        &lt;script src=&quot;./vue.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1 style=&quot;background: #7fedbb&quot;&gt;有情人难成属眷&lt;/h1&gt;
    &lt;/body&gt;
    &lt;/html&gt;
    &quot;&quot;&quot;
html_msg = MIMEText(html_msg, &quot;html&quot;, &quot;utf-8&quot;)
# some variables
from_addr = &quot;1025096440@qq.com&quot;
# this is a code from web mail
from_pwd = &quot;nrbnnibhjrgrbcdd&quot;
to_addr = &quot;1025096440@qq.com&quot;
smtp_srv = &quot;smtp.qq.com&quot;

try:
    # server address need encode to byte,so we need encode it
    # port 465 is a security port which server accept
    srv = smtplib.SMTP_SSL(smtp_srv.encode(), 465)

    # login
    srv.login(from_addr,from_pwd)

    # send html mail
    srv.sendmail(from_addr, [to_addr], html_msg.as_string())
    srv.quit()
except Exception as e:
    print(e)
else:
    print(&quot;done&quot;)
</code></pre>
<p>alternative choose html format or text format, because some fo device can not display html format</p>
<pre><code class="python">import smtplib
from email.mime.text import MIMEText
from email.mime.multipart import MIMEMultipart



# some variables
from_addr = &quot;1025096440@qq.com&quot;
# this is a code from web mail
from_pwd = &quot;nrbnnibhjrgrbcdd&quot;
to_addr = &quot;1025096440@qq.com&quot;
smtp_srv = &quot;smtp.qq.com&quot;

# initial multipart object
mail_mul = MIMEMultipart(&quot;alternative&quot;)
# add header
mail_mul[&#39;From&#39;] = from_addr
mail_mul[&#39;To&#39;] = to_addr
mail_mul[&#39;Subject&#39;] = &quot;use python email and smtplib module send mail&quot;

# write message
text_msg = MIMEText(&quot;alternative choose text or html style&quot;, &quot;plain&quot;, &quot;utf-8&quot;)

# add text to multipart object
mail_mul.attach(text_msg)

# write html
html_msg = &quot;&quot;&quot;
    &lt;!DOCTYPE html&gt;
    &lt;html lang=&quot;en&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;UTF-8&quot;&gt;
        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
        &lt;title&gt;Document&lt;/title&gt;
        &lt;script src=&quot;./vue.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1 style=&quot;background: #7fedbb&quot;&gt;有情人难成属眷&lt;/h1&gt;
    &lt;/body&gt;
    &lt;/html&gt;
    &quot;&quot;&quot;
html_msg = MIMEText(html_msg, &quot;html&quot;, &quot;utf-8&quot;)
mail_mul.attach(html_msg)

# send mail
try:
    # server address need encode to byte,so we need encode it
    # port 465 is a security port which server accept
    srv = smtplib.SMTP_SSL(smtp_srv.encode(), 465)

    # login
    srv.login(from_addr,from_pwd)

    # send text mail
    srv.sendmail(from_addr, [to_addr], mail_mul.as_string())
    srv.quit()
except Exception as e:
    print(e)
else:
    print(&quot;done&quot;)
</code></pre>
<hr>
<p>the end! I am really happy that i learn all of them. It is really awesome,nice.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://raw.githubusercontent.com/ssfwshutterbug/ssfwshutterbug.github.io/main/2022/04/23/python/" data-id="cl9ktb7vj002ddta81ph40nyp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/04/23/rancher/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          rancher
        
      </div>
    </a>
  
  
    <a href="/2022/04/23/podman/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">podman</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/learn/">learn</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/think/">think</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/thinking/">thinking</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%BB%E5%8E%86%E5%8F%B2/">读历史</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/anaconda/" rel="tag">anaconda</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/anbox/" rel="tag">anbox</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ansible/" rel="tag">ansible</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/archlinux/" rel="tag">archlinux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/boring/" rel="tag">boring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/container/" rel="tag">container</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cursor-theme/" rel="tag">cursor theme</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ed/" rel="tag">ed</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/go/" rel="tag">go</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grub/" rel="tag">grub</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/haskell/" rel="tag">haskell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/inject-js-css/" rel="tag">inject js/css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iptables/" rel="tag">iptables</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k8s/" rel="tag">k8s</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/" rel="tag">life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mind/" rel="tag">mind</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/optimized/" rel="tag">optimized</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pentablet/" rel="tag">pentablet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/positive/" rel="tag">positive</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reality-is-aweful/" rel="tag">reality is aweful</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/route/" rel="tag">route</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rust/" rel="tag">rust</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shield/" rel="tag">shield</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/" rel="tag">ssh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tcp/" rel="tag">tcp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vbox/" rel="tag">vbox</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/" rel="tag">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xmonad/" rel="tag">xmonad</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zabbix/" rel="tag">zabbix</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zk/" rel="tag">zk</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zsh/" rel="tag">zsh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%9D%E7%BB%AA/" rel="tag">思绪</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A5%9E%E8%AF%9D/" rel="tag">神话</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%89%AF%E7%9F%A5/" rel="tag">良知</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/anaconda/" style="font-size: 10px;">anaconda</a> <a href="/tags/anbox/" style="font-size: 10px;">anbox</a> <a href="/tags/ansible/" style="font-size: 10px;">ansible</a> <a href="/tags/archlinux/" style="font-size: 10px;">archlinux</a> <a href="/tags/boring/" style="font-size: 10px;">boring</a> <a href="/tags/container/" style="font-size: 10px;">container</a> <a href="/tags/cursor-theme/" style="font-size: 10px;">cursor theme</a> <a href="/tags/ed/" style="font-size: 10px;">ed</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/go/" style="font-size: 10px;">go</a> <a href="/tags/grub/" style="font-size: 10px;">grub</a> <a href="/tags/haskell/" style="font-size: 10px;">haskell</a> <a href="/tags/inject-js-css/" style="font-size: 10px;">inject js/css</a> <a href="/tags/iptables/" style="font-size: 10px;">iptables</a> <a href="/tags/k8s/" style="font-size: 20px;">k8s</a> <a href="/tags/life/" style="font-size: 10px;">life</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/mind/" style="font-size: 10px;">mind</a> <a href="/tags/optimized/" style="font-size: 10px;">optimized</a> <a href="/tags/pentablet/" style="font-size: 10px;">pentablet</a> <a href="/tags/positive/" style="font-size: 10px;">positive</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/reality-is-aweful/" style="font-size: 10px;">reality is aweful</a> <a href="/tags/route/" style="font-size: 10px;">route</a> <a href="/tags/rust/" style="font-size: 10px;">rust</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/shield/" style="font-size: 10px;">shield</a> <a href="/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/tags/tcp/" style="font-size: 10px;">tcp</a> <a href="/tags/vbox/" style="font-size: 10px;">vbox</a> <a href="/tags/vscode/" style="font-size: 10px;">vscode</a> <a href="/tags/xmonad/" style="font-size: 20px;">xmonad</a> <a href="/tags/zabbix/" style="font-size: 10px;">zabbix</a> <a href="/tags/zk/" style="font-size: 10px;">zk</a> <a href="/tags/zsh/" style="font-size: 10px;">zsh</a> <a href="/tags/%E6%80%9D%E7%BB%AA/" style="font-size: 15px;">思绪</a> <a href="/tags/%E7%A5%9E%E8%AF%9D/" style="font-size: 10px;">神话</a> <a href="/tags/%E8%89%AF%E7%9F%A5/" style="font-size: 10px;">良知</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/10/23/our-body-may-cheat-ourselves-md/">our-body-may-cheat-ourselves.md</a>
          </li>
        
          <li>
            <a href="/2022/07/04/the-reality/">the-reality</a>
          </li>
        
          <li>
            <a href="/2022/06/25/%E4%BB%8E%E5%AE%B9/">从容</a>
          </li>
        
          <li>
            <a href="/2022/06/25/magic-of-xmonad/">magic-of-xmonad</a>
          </li>
        
          <li>
            <a href="/2022/06/24/xp-pentablet/">xp-pentablet</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 shutterbug<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>